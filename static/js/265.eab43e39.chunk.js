/*! For license information please see 265.eab43e39.chunk.js.LICENSE.txt */
(self.webpackChunkftisu=self.webpackChunkftisu||[]).push([[265],{526:function(t,i,n){"use strict";n.d(i,{rM:function(){return $},C2:function(){return Ar}});var r={allowDownsampling:!0};var e,o,s,h=function(){function t(t,i){var n=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(t){return n._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=t,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._options=i,this._configureCanvas(),this._installResolutionListener()}return t.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(t.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),t.prototype.resizeCanvas=function(t){this._canvasSize={width:t.width,height:t.height},this._configureCanvas()},Object.defineProperty(t.prototype,"pixelRatio",{get:function(){var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");return t.devicePixelRatio>1||this._options.allowDownsampling?t.devicePixelRatio:1},enumerable:!0,configurable:!0}),t.prototype.subscribeCanvasConfigured=function(t){this._canvasConfiguredListeners.push(t)},t.prototype.unsubscribeCanvasConfigured=function(t){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(i){return i!=t}))},t.prototype._configureCanvas=function(){var t=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*t,this.canvas.height=this._canvasSize.height*t,this._emitCanvasConfigured()},t.prototype._emitCanvasConfigured=function(){var t=this;this._canvasConfiguredListeners.forEach((function(i){return i.call(t)}))},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var t=this.canvas.ownerDocument.defaultView;if(null==t)throw new Error("No window is associated with the canvas");var i=t.devicePixelRatio;this._resolutionMediaQueryList=t.matchMedia("all and (resolution: "+i+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},t}();function u(t,i){var n,r=((n={})[0]=[],n[1]=[t.lineWidth,t.lineWidth],n[2]=[2*t.lineWidth,2*t.lineWidth],n[3]=[6*t.lineWidth,6*t.lineWidth],n[4]=[t.lineWidth,4*t.lineWidth],n)[i];t.setLineDash(r)}function a(t,i,n,r){t.beginPath();var e=t.lineWidth%2?.5:0;t.moveTo(n,i+e),t.lineTo(r,i+e),t.stroke()}function l(t,i){if(!t)throw new Error("Assertion failed"+(i?": "+i:""))}function c(t){if(void 0===t)throw new Error("Value is undefined");return t}function f(t){if(null===t)throw new Error("Value is null");return t}function p(t){return f(c(t))}(s=e||(e={}))[s.Simple=0]="Simple",s[s.WithSteps=1]="WithSteps",function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(o||(o={}));var v={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function d(t){return t<0?0:t>255?255:Math.round(t)||0}function y(t){return t<=0||t>0?t<0?0:t>1?1:Math.round(1e4*t)/1e4:0}var g=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,_=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,w=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,m=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?[\d]{0,10}(?:\.\d+)?)\s*\)$/;function b(t){var i;if((t=t.toLowerCase())in v&&(t=v[t]),i=m.exec(t)||w.exec(t))return[d(parseInt(i[1],10)),d(parseInt(i[2],10)),d(parseInt(i[3],10)),y(i.length<5?1:parseFloat(i[4]))];if(i=_.exec(t))return[d(parseInt(i[1],16)),d(parseInt(i[2],16)),d(parseInt(i[3],16)),1];if(i=g.exec(t))return[d(17*parseInt(i[1],16)),d(17*parseInt(i[2],16)),d(17*parseInt(i[3],16)),1];throw new Error("Cannot parse color: ".concat(t))}function M(t){var i,n=b(t);return{t:"rgb(".concat(n[0],", ").concat(n[1],", ").concat(n[2],")"),i:(i=n,.199*i[0]+.687*i[1]+.114*i[2]>160?"black":"white")}}var S=function(t,i){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},S(t,i)};function C(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=t}S(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}var x=function(){return x=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++)for(var e in i=arguments[n])Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);return t},x.apply(this,arguments)};function z(t,i,n){if(n||2===arguments.length)for(var r,e=0,o=i.length;e<o;e++)!r&&e in i||(r||(r=Array.prototype.slice.call(i,0,e)),r[e]=i[e]);return t.concat(r||Array.prototype.slice.call(i))}var B=function(){function t(){this.h=[]}return t.prototype.u=function(t,i,n){var r={o:t,l:i,v:!0===n};this.h.push(r)},t.prototype._=function(t){var i=this.h.findIndex((function(i){return t===i.o}));i>-1&&this.h.splice(i,1)},t.prototype.M=function(t){this.h=this.h.filter((function(i){return i.l!==t}))},t.prototype.m=function(t,i){var n=z([],this.h,!0);this.h=this.h.filter((function(t){return!t.v})),n.forEach((function(n){return n.o(t,i)}))},t.prototype.p=function(){return this.h.length>0},t.prototype.g=function(){this.h=[]},t}();function k(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];for(var r=0,e=i;r<e.length;r++){var o=e[r];for(var s in o)void 0!==o[s]&&("object"!=typeof o[s]||void 0===t[s]?t[s]=o[s]:k(t[s],o[s]))}return t}function E(t){return"number"==typeof t&&isFinite(t)}function T(t){return"number"==typeof t&&t%1==0}function L(t){return"string"==typeof t}function A(t){return"boolean"==typeof t}function D(t){var i,n,r,e=t;if(!e||"object"!=typeof e)return e;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(r=e[n],i[n]=r&&"object"==typeof r?D(r):r);return i}function R(t){return null!==t}function W(t){return null===t?void 0:t}var j="'Trebuchet MS', Roboto, Ubuntu, sans-serif";function P(t,i,n){return n=void 0!==n?"".concat(n," "):"",void 0===i&&(i=j),"".concat(n).concat(t,"px ").concat(i)}var O=function(){function t(t){this.k={N:1,C:4,S:NaN,T:"",D:"",A:"",B:0,L:0,F:0,O:0,V:0},this.P=t}return t.prototype.W=function(){var t=this.k,i=this.R(),n=this.I();return t.S===i&&t.D===n||(t.S=i,t.D=n,t.T=P(i,n),t.O=Math.floor(i/3.5),t.B=t.O,t.L=Math.max(Math.ceil(i/2-t.C/2),0),t.F=Math.ceil(i/2+t.C/2),t.V=Math.round(i/10)),t.A=this.j(),this.k},t.prototype.j=function(){return this.P.W().layout.textColor},t.prototype.R=function(){return this.P.W().layout.fontSize},t.prototype.I=function(){return this.P.W().layout.fontFamily},t}(),N=function(){function t(){this.q=[]}return t.prototype.U=function(t){this.q=t},t.prototype.H=function(t,i,n,r){this.q.forEach((function(e){t.save(),e.H(t,i,n,r),t.restore()}))},t}(),F=function(){function t(){}return t.prototype.H=function(t,i,n,r){t.save(),t.scale(i,i),this.Y(t,n,r),t.restore()},t.prototype.$=function(t,i,n,r){t.save(),t.scale(i,i),this.K(t,n,r),t.restore()},t.prototype.K=function(t,i,n){},t}(),I=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return C(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&null!==this.X.J){var i=this.X.J,n=this.X,r=function(r){t.beginPath();for(var e=i.to-1;e>=i.from;--e){var o=n.G[e];t.moveTo(o.tt,o.it),t.arc(o.tt,o.it,r,0,2*Math.PI)}t.fill()};t.fillStyle=n.nt,r(n.st+2),t.fillStyle=n.ht,r(n.st)}},i}(F);function V(){return{G:[{tt:0,it:0,rt:0,et:0}],ht:"",nt:"",st:0,J:null}}var G={from:0,to:1},Y=function(){function t(t,i){this.ut=new N,this.ot=[],this.lt=[],this.ft=!0,this.P=t,this.ct=i,this.ut.U(this.ot)}return t.prototype.vt=function(t){var i=this.P._t();i.length!==this.ot.length&&(this.lt=i.map(V),this.ot=this.lt.map((function(t){var i=new I;return i.Z(t),i})),this.ut.U(this.ot)),this.ft=!0},t.prototype.dt=function(t,i,n){return this.ft&&(this.wt(t),this.ft=!1),this.ut},t.prototype.wt=function(t){var i=this,n=this.P._t(),r=this.ct.Mt(),e=this.P.bt();n.forEach((function(n,o){var s,h=i.lt[o],u=n.gt(r);if(null!==u&&n.yt()){var a=f(n.kt());h.ht=u.Nt,h.st=u.st,h.G[0].et=u.et,h.G[0].it=n.Ct().xt(u.et,a.St),h.nt=null!==(s=u.Tt)&&void 0!==s?s:i.P.Dt(h.G[0].it/t),h.G[0].rt=r,h.G[0].tt=e.At(r),h.J=G}else h.J=null}))},t}(),X=function(){function t(t){this.Bt=t}return t.prototype.H=function(t,i,n,r){if(null!==this.Bt){var e=this.Bt.Lt.yt,o=this.Bt.Et.yt;if(e||o){t.save();var s=Math.round(this.Bt.tt*i),h=Math.round(this.Bt.it*i),l=Math.ceil(this.Bt.Ft*i),c=Math.ceil(this.Bt.Ot*i);t.lineCap="butt",e&&s>=0&&(t.lineWidth=Math.floor(this.Bt.Lt.Vt*i),t.strokeStyle=this.Bt.Lt.A,t.fillStyle=this.Bt.Lt.A,u(t,this.Bt.Lt.Pt),function(t,i,n,r){t.beginPath();var e=t.lineWidth%2?.5:0;t.moveTo(i+e,0),t.lineTo(i+e,r),t.stroke()}(t,s,0,c)),o&&h>=0&&(t.lineWidth=Math.floor(this.Bt.Et.Vt*i),t.strokeStyle=this.Bt.Et.A,t.fillStyle=this.Bt.Et.A,u(t,this.Bt.Et.Pt),a(t,h,0,l)),t.restore()}}},t}(),J=function(){function t(t){this.ft=!0,this.Wt={Lt:{Vt:1,Pt:0,A:"",yt:!1},Et:{Vt:1,Pt:0,A:"",yt:!1},Ft:0,Ot:0,tt:0,it:0},this.zt=new X(this.Wt),this.Rt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.ft&&(this.wt(),this.ft=!1),this.zt},t.prototype.wt=function(){var t=this.Rt.yt(),i=f(this.Rt.It()),n=i.jt().W().crosshair,r=this.Wt;r.Et.yt=t&&this.Rt.qt(i),r.Lt.yt=t&&this.Rt.Ut(),r.Et.Vt=n.horzLine.width,r.Et.Pt=n.horzLine.style,r.Et.A=n.horzLine.color,r.Lt.Vt=n.vertLine.width,r.Lt.Pt=n.vertLine.style,r.Lt.A=n.vertLine.color,r.Ft=i.Ht(),r.Ot=i.Yt(),r.tt=this.Rt.$t(),r.it=this.Rt.Kt()},t}();function Z(t,i,n,r,e,o){t.fillRect(i+o,n,r-2*o,o),t.fillRect(i+o,n+e-o,r-2*o,o),t.fillRect(i,n,o,e),t.fillRect(i+r-o,n,o,e)}function U(t,i,n){t.save(),t.scale(i,i),n(),t.restore()}function K(t,i,n,r,e,o){t.save(),t.globalCompositeOperation="copy",t.fillStyle=o,t.fillRect(i,n,r,e),t.restore()}function H(t,i,n,r,e,o,s){t.save(),t.globalCompositeOperation="copy";var h=t.createLinearGradient(0,0,0,e);h.addColorStop(0,o),h.addColorStop(1,s),t.fillStyle=h,t.fillRect(i,n,r,e),t.restore()}var $,q=function(){function t(t,i){this.Z(t,i)}return t.prototype.Z=function(t,i){this.Bt=t,this.Xt=i},t.prototype.H=function(t,i,n,r,e,o){if(this.Bt.yt){t.font=i.T;var s=this.Bt.Zt||!this.Bt.Jt?i.C:0,h=i.N,u=i.O,a=i.B,l=i.L,c=i.F,f=this.Bt.Gt,p=Math.ceil(n.Qt(t,f)),v=i.V,d=i.S+u+a,y=Math.ceil(.5*d),g=h+p+l+c+s,_=this.Xt.ti;this.Xt.ii&&(_=this.Xt.ii);var w,m,b=(_=Math.round(_))-y,M=b+d,S="right"===e,C=S?r:0,x=Math.ceil(r*o),z=C;if(t.fillStyle=this.Xt.t,t.lineWidth=1,t.lineCap="butt",f){S?(w=C-s,m=(z=C-g)+c):(z=C+g,w=C+s,m=C+h+s+l);var B=Math.max(1,Math.floor(o)),k=Math.max(1,Math.floor(h*o)),E=S?x:0,T=Math.round(b*o),L=Math.round(z*o),A=Math.round(_*o)-Math.floor(.5*o),D=A+B+(A-T),R=Math.round(w*o);t.save(),t.beginPath(),t.moveTo(E,T),t.lineTo(L,T),t.lineTo(L,D),t.lineTo(E,D),t.fill(),t.fillStyle=this.Bt.Tt,t.fillRect(S?x-k:0,T,k,D-T),this.Bt.Zt&&(t.fillStyle=this.Xt.A,t.fillRect(E,A,R-E,B)),t.textAlign="left",t.fillStyle=this.Xt.A,U(t,o,(function(){t.fillText(f,m,M-a-v)})),t.restore()}}},t.prototype.Yt=function(t,i){return this.Bt.yt?t.S+t.O+t.B:0},t}(),Q=function(){function t(t){this.ni={ti:0,A:"#FFF",t:"#000"},this.si={Gt:"",yt:!1,Zt:!0,Jt:!1,Tt:""},this.hi={Gt:"",yt:!1,Zt:!1,Jt:!0,Tt:""},this.ft=!0,this.ri=new(t||q)(this.si,this.ni),this.ei=new(t||q)(this.hi,this.ni)}return t.prototype.Gt=function(){return this.ui(),this.si.Gt},t.prototype.ti=function(){return this.ui(),this.ni.ti},t.prototype.vt=function(){this.ft=!0},t.prototype.Yt=function(t,i){return void 0===i&&(i=!1),Math.max(this.ri.Yt(t,i),this.ei.Yt(t,i))},t.prototype.ai=function(){return this.ni.ii||0},t.prototype.oi=function(t){this.ni.ii=t},t.prototype.li=function(){return this.ui(),this.si.yt||this.hi.yt},t.prototype.fi=function(){return this.ui(),this.si.yt},t.prototype.dt=function(t){return this.ui(),this.si.Zt=this.si.Zt&&t.W().drawTicks,this.hi.Zt=this.hi.Zt&&t.W().drawTicks,this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ri},t.prototype.ci=function(){return this.ui(),this.ri.Z(this.si,this.ni),this.ei.Z(this.hi,this.ni),this.ei},t.prototype.ui=function(){this.ft&&(this.si.Zt=!0,this.hi.Zt=!1,this.vi(this.si,this.hi,this.ni))},t}(),tt=function(t){function i(i,n,r){var e=t.call(this)||this;return e.Rt=i,e._i=n,e.di=r,e}return C(i,t),i.prototype.vi=function(t,i,n){t.yt=!1;var r=this.Rt.W().horzLine;if(r.labelVisible){var e=this._i.kt();if(this.Rt.yt()&&!this._i.wi()&&null!==e){var o=M(r.labelBackgroundColor);n.t=o.t,n.A=o.i;var s=this.di(this._i);n.ti=s.ti,t.Gt=this._i.Mi(s.et,e),t.yt=!0}}},i}(Q),it=/[1-9]/g,nt=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,i,n){var r=this;if(null!==this.Bt&&!1!==this.Bt.yt&&0!==this.Bt.Gt.length){t.font=i.T;var e=Math.round(i.bi.Qt(t,this.Bt.Gt,it));if(!(e<=0)){t.save();var o=i.mi,s=e+2*o,h=s/2,u=this.Bt.Ht,a=this.Bt.ti,l=Math.floor(a-h)+.5;l<0?(a+=Math.abs(0-l),l=Math.floor(a-h)+.5):l+s>u&&(a-=Math.abs(u-(l+s)),l=Math.floor(a-h)+.5);var c=l+s,p=0+i.N+i.O+i.S+i.B;t.fillStyle=this.Bt.t;var v=Math.round(l*n),d=Math.round(0*n),y=Math.round(c*n),g=Math.round(p*n);t.fillRect(v,d,y-v,g-d);var _=Math.round(this.Bt.ti*n),w=d,m=Math.round((w+i.N+i.C)*n);t.fillStyle=this.Bt.A;var b=Math.max(1,Math.floor(n)),M=Math.floor(.5*n);t.fillRect(_-M,w,b,m-w);var S=p-i.V-i.B;t.textAlign="left",t.fillStyle=this.Bt.A,U(t,n,(function(){t.fillText(f(r.Bt).Gt,l+o,S)})),t.restore()}}},t}(),rt=function(){function t(t,i,n){this.ft=!0,this.zt=new nt,this.Wt={yt:!1,t:"#4c525e",A:"white",Gt:"",Ht:0,ti:NaN},this.ct=t,this.pi=i,this.di=n}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(){return this.ft&&(this.wt(),this.ft=!1),this.zt.Z(this.Wt),this.zt},t.prototype.wt=function(){var t=this.Wt;t.yt=!1;var i=this.ct.W().vertLine;if(i.labelVisible){var n=this.pi.bt();if(!n.wi()){var r=n.gi(this.ct.Mt());t.Ht=n.Ht();var e=this.di();if(e.rt){t.ti=e.ti,t.Gt=n.yi(f(r)),t.yt=!0;var o=M(i.labelBackgroundColor);t.t=o.t,t.A=o.i}}}},t}(),et=function(){function t(){this.ki=null,this.Ni=0}return t.prototype.xi=function(){return this.Ni},t.prototype.Ci=function(t){this.Ni=t},t.prototype.Ct=function(){return this.ki},t.prototype.Si=function(t){this.ki=t},t.prototype.Ti=function(){return[]},t.prototype.yt=function(){return!0},t}();!function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet"}($||($={}));var ot=function(t){function i(i,n){var r,e,o=t.call(this)||this;o.Di=null,o.Ai=NaN,o.Bi=0,o.Li=!0,o.Ei=new Map,o.Fi=!1,o.Oi=NaN,o.Vi=NaN,o.Pi=NaN,o.Wi=NaN,o.pi=i,o.zi=n,o.Ri=new Y(i,o),o.Ii=(r=function(){return o.Ai},e=function(){return o.Vi},function(t){var i=e(),n=r();if(t===f(o.Di).ji())return{et:n,ti:i};var s=f(t.kt());return{et:t.qi(i,s),ti:i}});var s=function(){return{rt:o.pi.bt().gi(o.Bi),ti:o.$t()}};return o.Ui=new rt(o,i,s),o.Hi=new J(o),o}return C(i,t),i.prototype.W=function(){return this.zi},i.prototype.Yi=function(t,i){this.Pi=t,this.Wi=i},i.prototype.$i=function(){this.Pi=NaN,this.Wi=NaN},i.prototype.Ki=function(){return this.Pi},i.prototype.Xi=function(){return this.Wi},i.prototype.Zi=function(t,i,n){this.Fi||(this.Fi=!0),this.Li=!0,this.Ji(t,i,n)},i.prototype.Mt=function(){return this.Bi},i.prototype.$t=function(){return this.Oi},i.prototype.Kt=function(){return this.Vi},i.prototype.yt=function(){return this.Li},i.prototype.Gi=function(){this.Li=!1,this.Qi(),this.Ai=NaN,this.Oi=NaN,this.Vi=NaN,this.Di=null,this.$i()},i.prototype.tn=function(t){return null!==this.Di?[this.Hi,this.Ri]:[]},i.prototype.qt=function(t){return t===this.Di&&this.zi.horzLine.visible},i.prototype.Ut=function(){return this.zi.vertLine.visible},i.prototype.nn=function(t,i){this.Li&&this.Di===t||this.Ei.clear();var n=[];return this.Di===t&&n.push(this.sn(this.Ei,i,this.Ii)),n},i.prototype.Ti=function(){return this.Li?[this.Ui]:[]},i.prototype.It=function(){return this.Di},i.prototype.hn=function(){this.Hi.vt(),this.Ei.forEach((function(t){return t.vt()})),this.Ui.vt(),this.Ri.vt()},i.prototype.rn=function(t){return t&&!t.ji().wi()?t.ji():null},i.prototype.Ji=function(t,i,n){this.en(t,i,n)&&this.hn()},i.prototype.en=function(t,i,n){var r=this.Oi,e=this.Vi,o=this.Ai,s=this.Bi,h=this.Di,u=this.rn(n);this.Bi=t,this.Oi=isNaN(t)?NaN:this.pi.bt().At(t),this.Di=n;var a=null!==u?u.kt():null;return null!==u&&null!==a?(this.Ai=i,this.Vi=u.xt(i,a)):(this.Ai=NaN,this.Vi=NaN),r!==this.Oi||e!==this.Vi||s!==this.Bi||o!==this.Ai||h!==this.Di},i.prototype.Qi=function(){var t=this.pi._t().map((function(t){return t.an().un()})).filter(R),i=0===t.length?null:Math.max.apply(Math,t);this.Bi=null!==i?i:NaN},i.prototype.sn=function(t,i,n){var r=t.get(i);return void 0===r&&(r=new tt(this,i,n),t.set(i,r)),r},i}(et);function st(t){return"left"===t||"right"===t}var ht=function(){function t(t){this.on=new Map,this.ln=[],this.fn=t}return t.prototype.cn=function(t,i){var n=function(t,i){return void 0===t?i:{vn:Math.max(t.vn,i.vn),_n:t._n||i._n}}(this.on.get(t),i);this.on.set(t,n)},t.prototype.dn=function(){return this.fn},t.prototype.wn=function(t){var i=this.on.get(t);return void 0===i?{vn:this.fn}:{vn:Math.max(this.fn,i.vn),_n:i._n}},t.prototype.Mn=function(){this.ln=[{bn:0}]},t.prototype.mn=function(t){this.ln=[{bn:1,St:t}]},t.prototype.pn=function(){this.ln=[{bn:4}]},t.prototype.gn=function(t){this.ln.push({bn:2,St:t})},t.prototype.yn=function(t){this.ln.push({bn:3,St:t})},t.prototype.kn=function(){return this.ln},t.prototype.Nn=function(t){for(var i=this,n=0,r=t.ln;n<r.length;n++){var e=r[n];this.xn(e)}this.fn=Math.max(this.fn,t.fn),t.on.forEach((function(t,n){i.cn(n,t)}))},t.prototype.xn=function(t){switch(t.bn){case 0:this.Mn();break;case 1:this.mn(t.St);break;case 2:this.gn(t.St);break;case 3:this.yn(t.St);break;case 4:this.pn()}},t}();function ut(t,i){if(!E(t))return"n/a";if(!T(i))throw new TypeError("invalid length");if(i<0||i>16)throw new TypeError("invalid length");return 0===i?t.toString():("0000000000000000"+t.toString()).slice(-i)}var at=function(){function t(t,i){if(i||(i=1),E(t)&&T(t)||(t=100),t<0)throw new TypeError("invalid base");this._i=t,this.Cn=i,this.Sn()}return t.prototype.format=function(t){var i=t<0?"\u2212":"";return t=Math.abs(t),i+this.Tn(t)},t.prototype.Sn=function(){if(this.Dn=0,this._i>0&&this.Cn>0)for(var t=this._i;t>1;)t/=10,this.Dn++},t.prototype.Tn=function(t){var i=this._i/this.Cn,n=Math.floor(t),r="",e=void 0!==this.Dn?this.Dn:NaN;if(i>1){var o=+(Math.round(t*i)-n*i).toFixed(this.Dn);o>=i&&(o-=i,n+=1),r="."+ut(+o.toFixed(this.Dn)*this.Cn,e)}else n=Math.round(n*i)/i,e>0&&(r="."+ut(0,e));return n.toFixed(0)+r},t}(),lt=function(t){function i(i){return void 0===i&&(i=100),t.call(this,i)||this}return C(i,t),i.prototype.format=function(i){return"".concat(t.prototype.format.call(this,i),"%")},i}(at),ct=function(){function t(t){this.An=t}return t.prototype.format=function(t){var i="";return t<0&&(i="-",t=-t),t<995?i+this.Bn(t):t<999995?i+this.Bn(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),i+this.Bn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),i+this.Bn(t/1e9)+"B")},t.prototype.Bn=function(t){var i=Math.pow(10,this.An);return((t=Math.round(t*i)/i)>=1e-15&&t<1?t.toFixed(this.An).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(function(t,i){return i}))},t}();function ft(t,i,n,r){if(0!==i.length){var e=i[r.from].tt,o=i[r.from].it;t.moveTo(e,o);for(var s=r.from+1;s<r.to;++s){var h=i[s];if(1===n){var u=i[s-1].it,a=h.tt;t.lineTo(a,u)}t.lineTo(h.tt,h.it)}}}var pt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return C(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J){if(t.lineCap="butt",t.lineJoin="round",t.lineWidth=this.X.Vt,u(t,this.X.Pt),t.lineWidth=1,t.beginPath(),1===this.X.G.length){var i=this.X.G[0],n=this.X.Ln/2;t.moveTo(i.tt-n,this.X.En),t.lineTo(i.tt-n,i.it),t.lineTo(i.tt+n,i.it),t.lineTo(i.tt+n,this.X.En)}else t.moveTo(this.X.G[this.X.J.from].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.G[this.X.J.from].it),ft(t,this.X.G,this.X.Fn,this.X.J),this.X.J.to>this.X.J.from&&(t.lineTo(this.X.G[this.X.J.to-1].tt,this.X.En),t.lineTo(this.X.G[this.X.J.from].tt,this.X.En));t.closePath(),t.fillStyle=this.On(t),t.fill()}},i}(F),vt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return C(i,t),i.prototype.On=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Vn);return n.addColorStop(0,i.Pn),n.addColorStop(1,i.Wn),n},i}(pt),dt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.X=null,i}return C(i,t),i.prototype.Z=function(t){this.X=t},i.prototype.Y=function(t){if(null!==this.X&&0!==this.X.G.length&&null!==this.X.J)if(t.lineCap="butt",t.lineWidth=this.X.Vt,u(t,this.X.Pt),t.strokeStyle=this.zn(t),t.lineJoin="round",1===this.X.G.length){t.beginPath();var i=this.X.G[0];t.moveTo(i.tt-this.X.Ln/2,i.it),t.lineTo(i.tt+this.X.Ln/2,i.it),void 0!==i.A&&(t.strokeStyle=i.A),t.stroke()}else this.Rn(t,this.X)},i.prototype.Rn=function(t,i){t.beginPath(),ft(t,i.G,i.Fn,i.J),t.stroke()},i}(F),yt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return C(i,t),i.prototype.Rn=function(t,i){var n,r,e=i.G,o=i.J,s=i.Fn,h=i.ht;if(0!==e.length&&null!==o){t.beginPath();var u=e[o.from];t.moveTo(u.tt,u.it);var a=null!==(n=u.A)&&void 0!==n?n:h;t.strokeStyle=a;for(var l=function(i){t.stroke(),t.beginPath(),t.strokeStyle=i,a=i},c=o.from+1;c<o.to;++c){var f=e[c],p=e[c-1],v=null!==(r=f.A)&&void 0!==r?r:h;1===s&&(t.lineTo(f.tt,p.it),v!==a&&(l(v),t.moveTo(f.tt,p.it))),t.lineTo(f.tt,f.it),1!==s&&v!==a&&(l(v),t.moveTo(f.tt,f.it))}t.stroke()}},i.prototype.zn=function(){return this.X.ht},i}(dt);function gt(t,i,n,r,e){void 0===r&&(r=0),void 0===e&&(e=t.length);for(var o=e-r;0<o;){var s=o>>1,h=r+s;n(t[h],i)?(r=h+1,o-=s+1):o=s}return r}function _t(t,i,n,r,e){void 0===r&&(r=0),void 0===e&&(e=t.length);for(var o=e-r;0<o;){var s=o>>1,h=r+s;n(i,t[h])?o=s:(r=h+1,o-=s+1)}return r}function wt(t,i){return t.rt<i}function mt(t,i){return t<i.rt}function bt(t,i,n){var r=i.In(),e=i.jn(),o=gt(t,r,wt),s=_t(t,e,mt);if(!n)return{from:o,to:s};var h=o,u=s;return o>0&&o<t.length&&t[o].rt>=r&&(h=o-1),s>0&&s<t.length&&t[s-1].rt<=e&&(u=s+1),{from:h,to:u}}var Mt=function(){function t(t,i,n){this.qn=!0,this.Un=!0,this.Hn=!0,this.Yn=[],this.$n=null,this.Kn=t,this.Xn=i,this.Zn=n}return t.prototype.vt=function(t){this.qn=!0,"data"===t&&(this.Un=!0),"options"===t&&(this.Hn=!0)},t.prototype.Jn=function(){this.Un&&(this.Gn(),this.Un=!1),this.qn&&(this.Qn(),this.qn=!1),this.Hn&&(this.ts(),this.Hn=!1)},t.prototype.ns=function(){this.$n=null},t.prototype.Qn=function(){var t=this.Kn.Ct(),i=this.Xn.bt();if(this.ns(),!i.wi()&&!t.wi()){var n=i.ss();if(null!==n&&0!==this.Kn.an().hs()){var r=this.Kn.kt();null!==r&&(this.$n=bt(this.Yn,n,this.Zn),this.rs(t,i,r.St))}}},t}(),St=function(t){function i(i,n){return t.call(this,i,n,!0)||this}return C(i,t),i.prototype.rs=function(t,i,n){i.es(this.Yn,W(this.$n)),t.us(this.Yn,n,W(this.$n))},i.prototype.os=function(t,i){return{rt:t,et:i,tt:NaN,it:NaN}},i.prototype.ts=function(){},i.prototype.Gn=function(){var t=this,i=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(n){var r=n.St[3];return t.cs(n.vs,r,i)}))},i}(Mt),Ct=function(t){function i(i,n){var r=t.call(this,i,n)||this;return r.zt=new N,r._s=new vt,r.ds=new yt,r.zt.U([r._s,r.ds]),r}return C(i,t),i.prototype.dt=function(t,i){if(!this.Kn.yt())return null;var n=this.Kn.W();return this.Jn(),this._s.Z({Fn:n.lineType,G:this.Yn,Pt:n.lineStyle,Vt:n.lineWidth,Pn:n.topColor,Wn:n.bottomColor,En:t,Vn:t,J:this.$n,Ln:this.Xn.bt().ws()}),this.ds.Z({Fn:n.lineType,G:this.Yn,ht:n.lineColor,Pt:n.lineStyle,Vt:n.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()}),this.zt},i.prototype.cs=function(t,i){return this.os(t,i)},i}(St),xt=function(){function t(){this.Bt=null,this.Ms=0,this.bs=0}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,i,n,r){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=this.ps(i),this.Ms>=2&&Math.max(1,Math.floor(i))%2!=this.Ms%2&&this.Ms--,this.bs=this.Bt.gs?Math.min(this.Ms,Math.floor(i)):this.Ms;for(var e=null,o=this.bs<=this.Ms&&this.Bt.ws>=Math.floor(1.5*i),s=this.Bt.J.from;s<this.Bt.J.to;++s){var h=this.Bt.an[s];e!==h.A&&(t.fillStyle=h.A,e=h.A);var u=Math.floor(.5*this.bs),a=Math.round(h.tt*i),l=a-u,c=this.bs,f=l+c-1,p=Math.min(h.ys,h.ks),v=Math.max(h.ys,h.ks),d=Math.round(p*i)-u,y=Math.round(v*i)+u,g=Math.max(y-d,this.bs);t.fillRect(l,d,c,g);var _=Math.ceil(1.5*this.Ms);if(o){if(this.Bt.Ns){var w=a-_,m=Math.max(d,Math.round(h.xs*i)-u),b=m+c-1;b>d+g-1&&(m=(b=d+g-1)-c+1),t.fillRect(w,m,l-w,b-m+1)}var M=a+_,S=Math.max(d,Math.round(h.Cs*i)-u),C=S+c-1;C>d+g-1&&(S=(C=d+g-1)-c+1),t.fillRect(f+1,S,M-f,C-S+1)}}}},t.prototype.ps=function(t){var i=Math.floor(t);return Math.max(i,Math.floor(function(t,i){return Math.floor(.3*t*i)}(f(this.Bt).ws,t)))},t}(),zt=function(t){function i(i,n){return t.call(this,i,n,!1)||this}return C(i,t),i.prototype.rs=function(t,i,n){i.es(this.Yn,W(this.$n)),t.Ss(this.Yn,n,W(this.$n))},i.prototype.Ts=function(t,i,n){return{rt:t,open:i.St[0],high:i.St[1],low:i.St[2],close:i.St[3],tt:NaN,xs:NaN,ys:NaN,ks:NaN,Cs:NaN}},i.prototype.Gn=function(){var t=this,i=this.Kn.ls();this.Yn=this.Kn.an().fs().map((function(n){return t.cs(n.vs,n,i)}))},i}(Mt),Bt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.zt=new xt,i}return C(i,t),i.prototype.dt=function(t,i){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ns:n.openVisible,gs:n.thinBars,J:this.$n};return this.zt.Z(r),this.zt},i.prototype.ts=function(){var t=this;this.Yn.forEach((function(i){i.A=t.Kn.ls().As(i.rt).Ds}))},i.prototype.cs=function(t,i,n){return x(x({},this.Ts(t,i,n)),{A:n.As(t).Ds})},i}(zt);function kt(t,i,n){return Math.min(Math.max(t,i),n)}function Et(t,i,n){return i-t<=n}function Tt(t){return t<=0?NaN:Math.log(t)/Math.log(10)}function Lt(t){var i=Math.ceil(t);return i%2!=0?i-1:i}function At(t){var i=Math.ceil(t);return i%2==0?i-1:i}var Dt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return C(i,t),i.prototype.On=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Vn),r=kt(i.En/i.Vn,0,1);return n.addColorStop(0,i.Bs),n.addColorStop(r,i.Ls),n.addColorStop(r,i.Es),n.addColorStop(1,i.Fs),n},i}(pt),Rt=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return C(i,t),i.prototype.zn=function(t){var i=this.X,n=t.createLinearGradient(0,0,0,i.Vn),r=kt(i.En/i.Vn,0,1);return n.addColorStop(0,i.Pn),n.addColorStop(r,i.Pn),n.addColorStop(r,i.Wn),n.addColorStop(1,i.Wn),n},i}(dt),Wt=function(t){function i(i,n){var r=t.call(this,i,n)||this;return r.Os=new Dt,r.Vs=new Rt,r.ut=new N,r.ut.U([r.Os,r.Vs]),r}return C(i,t),i.prototype.dt=function(t,i){if(!this.Kn.yt())return null;var n=this.Kn.kt();if(null===n)return null;var r=this.Kn.W();this.Jn();var e=this.Kn.Ct().xt(r.baseValue.price,n.St),o=this.Xn.bt().ws();return this.Os.Z({G:this.Yn,Bs:r.topFillColor1,Ls:r.topFillColor2,Es:r.bottomFillColor1,Fs:r.bottomFillColor2,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:e,Vn:t,J:this.$n,Ln:o}),this.Vs.Z({G:this.Yn,Pn:r.topLineColor,Wn:r.bottomLineColor,Vt:r.lineWidth,Pt:r.lineStyle,Fn:0,En:e,Vn:t,J:this.$n,Ln:o}),this.ut},i.prototype.cs=function(t,i){return this.os(t,i)},i}(St),jt=function(){function t(){this.Bt=null,this.Ms=0}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,i,n,r){if(null!==this.Bt&&0!==this.Bt.an.length&&null!==this.Bt.J){this.Ms=function(t,i){if(t>=2.5&&t<=4)return Math.floor(3*i);var n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),r=Math.floor(t*n*i),e=Math.floor(t*i),o=Math.min(r,e);return Math.max(Math.floor(i),o)}(this.Bt.ws,i),this.Ms>=2&&Math.floor(i)%2!=this.Ms%2&&this.Ms--;var e=this.Bt.an;this.Bt.Ps&&this.Ws(t,e,this.Bt.J,i),this.Bt.zs&&this.Rs(t,e,this.Bt.J,this.Bt.ws,i);var o=this.Is(i);(!this.Bt.zs||this.Ms>2*o)&&this.js(t,e,this.Bt.J,i)}},t.prototype.Ws=function(t,i,n,r){if(null!==this.Bt){var e="",o=Math.min(Math.floor(r),Math.floor(this.Bt.ws*r));o=Math.max(Math.floor(r),Math.min(o,this.Ms));for(var s=Math.floor(.5*o),h=null,u=n.from;u<n.to;u++){var a=i[u];a.qs!==e&&(t.fillStyle=a.qs,e=a.qs);var l=Math.round(Math.min(a.xs,a.Cs)*r),c=Math.round(Math.max(a.xs,a.Cs)*r),f=Math.round(a.ys*r),p=Math.round(a.ks*r),v=Math.round(r*a.tt)-s,d=v+o-1;null!==h&&(v=Math.max(h+1,v),v=Math.min(v,d));var y=d-v+1;t.fillRect(v,f,y,l-f),t.fillRect(v,c+1,y,p-c),h=d}}},t.prototype.Is=function(t){var i=Math.floor(1*t);this.Ms<=2*i&&(i=Math.floor(.5*(this.Ms-1)));var n=Math.max(Math.floor(t),i);return this.Ms<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n},t.prototype.Rs=function(t,i,n,r,e){if(null!==this.Bt)for(var o="",s=this.Is(e),h=null,u=n.from;u<n.to;u++){var a=i[u];a.Tt!==o&&(t.fillStyle=a.Tt,o=a.Tt);var l=Math.round(a.tt*e)-Math.floor(.5*this.Ms),c=l+this.Ms-1,f=Math.round(Math.min(a.xs,a.Cs)*e),p=Math.round(Math.max(a.xs,a.Cs)*e);if(null!==h&&(l=Math.max(h+1,l),l=Math.min(l,c)),this.Bt.ws*e>2*s)Z(t,l,f,c-l+1,p-f+1,s);else{var v=c-l+1;t.fillRect(l,f,v,p-f+1)}h=c}},t.prototype.js=function(t,i,n,r){if(null!==this.Bt)for(var e="",o=this.Is(r),s=n.from;s<n.to;s++){var h=i[s],u=Math.round(Math.min(h.xs,h.Cs)*r),a=Math.round(Math.max(h.xs,h.Cs)*r),l=Math.round(h.tt*r)-Math.floor(.5*this.Ms),c=l+this.Ms-1;if(h.A!==e){var f=h.A;t.fillStyle=f,e=f}this.Bt.zs&&(l+=o,u+=o,c-=o,a-=o),u>a||t.fillRect(l,u,c-l+1,a-u+1)}},t}(),Pt=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.zt=new jt,i}return C(i,t),i.prototype.dt=function(t,i){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var r={an:this.Yn,ws:this.Xn.bt().ws(),Ps:n.wickVisible,zs:n.borderVisible,J:this.$n};return this.zt.Z(r),this.zt},i.prototype.ts=function(){var t=this;this.Yn.forEach((function(i){var n=t.Kn.ls().As(i.rt);i.A=n.Ds,i.qs=n.Us,i.Tt=n.Hs}))},i.prototype.cs=function(t,i,n){var r=n.As(t);return x(x({},this.Ts(t,i,n)),{A:r.Ds,qs:r.Us,Tt:r.Hs})},i}(zt),Ot=function(){function t(){this.Bt=null,this.Ys=[]}return t.prototype.Z=function(t){this.Bt=t,this.Ys=[]},t.prototype.H=function(t,i,n,r){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){this.Ys.length||this.$s(i);for(var e=Math.max(1,Math.floor(i)),o=Math.round(this.Bt.Ks*i)-Math.floor(e/2),s=o+e,h=this.Bt.J.from;h<this.Bt.J.to;h++){var u=this.Bt.G[h],a=this.Ys[h-this.Bt.J.from],l=Math.round(u.it*i);t.fillStyle=u.A;var c=void 0,f=void 0;l<=o?(c=l,f=s):(c=o,f=l-Math.floor(e/2)+e),t.fillRect(a.In,c,a.jn-a.In+1,f-c)}}},t.prototype.$s=function(t){if(null!==this.Bt&&0!==this.Bt.G.length&&null!==this.Bt.J){var i=Math.ceil(this.Bt.ws*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.Bt.ws*t)-i;this.Ys=new Array(this.Bt.J.to-this.Bt.J.from);for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var e,o=this.Bt.G[r],s=Math.round(o.tt*t),h=void 0,u=void 0;n%2?(h=s-(e=(n-1)/2),u=s+e):(h=s-(e=n/2),u=s+e-1),this.Ys[r-this.Bt.J.from]={In:h,jn:u,Xs:s,Zs:o.tt*t,rt:o.rt}}for(r=this.Bt.J.from+1;r<this.Bt.J.to;r++){var a=this.Ys[r-this.Bt.J.from],l=this.Ys[r-this.Bt.J.from-1];a.rt===l.rt+1&&a.In-l.jn!==i+1&&(l.Xs>l.Zs?l.jn=a.In-i-1:a.In=l.jn+i+1)}var c=Math.ceil(this.Bt.ws*t);for(r=this.Bt.J.from;r<this.Bt.J.to;r++){(a=this.Ys[r-this.Bt.J.from]).jn<a.In&&(a.jn=a.In);var f=a.jn-a.In+1;c=Math.min(f,c)}if(i>0&&c<4)for(r=this.Bt.J.from;r<this.Bt.J.to;r++)(f=(a=this.Ys[r-this.Bt.J.from]).jn-a.In+1)>c&&(a.Xs>a.Zs?a.jn-=1:a.In+=1)}else this.Ys=[]},t}();function Nt(t){return{G:[],ws:t,Ks:NaN,J:null}}function Ft(t,i,n){return{rt:t,et:i,tt:NaN,it:NaN,A:n}}var It=function(t){function i(i,n){var r=t.call(this,i,n,!1)||this;return r.ut=new N,r.Js=Nt(0),r.zt=new Ot,r}return C(i,t),i.prototype.dt=function(t,i){return this.Kn.yt()?(this.Jn(),this.ut):null},i.prototype.Gn=function(){var t=this.Xn.bt().ws();this.Js=Nt(t);for(var i=0,n=0,r=this.Kn.W().color,e=0,o=this.Kn.an().fs();e<o.length;e++){var s=o[e],h=s.St[3],u=void 0!==s.A?s.A:r,a=Ft(s.vs,h,u);++i<this.Js.G.length?this.Js.G[i]=a:this.Js.G.push(a),this.Yn[n++]={rt:s.vs,tt:0}}this.zt.Z(this.Js),this.ut.U([this.zt])},i.prototype.ts=function(){},i.prototype.ns=function(){t.prototype.ns.call(this),this.Js.J=null},i.prototype.rs=function(t,i,n){if(null!==this.$n){var r=i.ws(),e=f(i.ss()),o=t.xt(this.Kn.W().base,n);i.es(this.Js.G),t.us(this.Js.G,n),this.Js.Ks=o,this.Js.J=bt(this.Js.G,e,!1),this.Js.ws=r,this.zt.Z(this.Js)}},i}(Mt),Vt=function(t){function i(i,n){var r=t.call(this,i,n)||this;return r.ds=new yt,r}return C(i,t),i.prototype.dt=function(t,i){if(!this.Kn.yt())return null;var n=this.Kn.W();this.Jn();var r={G:this.Yn,ht:n.color,Pt:n.lineStyle,Fn:n.lineType,Vt:n.lineWidth,J:this.$n,Ln:this.Xn.bt().ws()};return this.ds.Z(r),this.ds},i.prototype.ts=function(){var t=this;this.Yn.forEach((function(i){i.A=t.Kn.ls().As(i.rt).Ds}))},i.prototype.cs=function(t,i,n){var r=this.os(t,i);return r.A=n.As(t).Ds,r},i}(St),Gt=/[2-9]/g,Yt=function(){function t(t){void 0===t&&(t=50),this.Gs=new Map,this.Qs=0,this.th=Array.from(new Array(t))}return t.prototype.ih=function(){this.Gs.clear(),this.th.fill(void 0)},t.prototype.Qt=function(t,i,n){var r=n||Gt,e=String(i).replace(r,"0"),o=this.Gs.get(e);if(void 0===o){if(0===(o=t.measureText(e).width)&&0!==i.length)return 0;var s=this.th[this.Qs];void 0!==s&&this.Gs.delete(s),this.th[this.Qs]=e,this.Qs=(this.Qs+1)%this.th.length,this.Gs.set(e,o)}return o},t}(),Xt=function(){function t(t){this.nh=null,this.k=null,this.sh="right",this.hh=0,this.rh=t}return t.prototype.eh=function(t,i,n,r){this.nh=t,this.k=i,this.hh=n,this.sh=r},t.prototype.H=function(t,i){null!==this.k&&null!==this.nh&&this.nh.H(t,this.k,this.rh,this.hh,this.sh,i)},t}(),Jt=function(){function t(t,i,n){this.uh=t,this.rh=new Yt(50),this.ah=i,this.P=n,this.R=-1,this.zt=new Xt(this.rh)}return t.prototype.dt=function(t,i){var n=this.P.oh(this.ah);if(null===n)return null;var r=n.lh(this.ah)?n.fh():this.ah.Ct();if(null===r)return null;var e=n._h(r);if("overlay"===e)return null;var o=this.P.dh();return o.S!==this.R&&(this.R=o.S,this.rh.ih()),this.zt.eh(this.uh.ci(),o,i,e),this.zt},t}(),Zt=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,i,n,r){if(null!==this.Bt&&!1!==this.Bt.yt){var e=Math.round(this.Bt.it*i);if(!(e<0||e>Math.ceil(this.Bt.Yt*i))){var o=Math.ceil(this.Bt.Ht*i);t.lineCap="butt",t.strokeStyle=this.Bt.A,t.lineWidth=Math.floor(this.Bt.Vt*i),u(t,this.Bt.Pt),a(t,e,0,o)}}},t}(),Ut=function(){function t(t){this.wh={Ht:0,Yt:0,it:0,A:"rgba(0, 0, 0, 0)",Vt:1,Pt:0,yt:!1},this.Mh=new Zt,this.ft=!0,this.Kn=t,this.Xn=t.jt(),this.Mh.Z(this.wh)}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.Kn.yt()?(this.ft&&(this.bh(t,i),this.ft=!1),this.Mh):null},t}(),Kt=function(t){function i(i){return t.call(this,i)||this}return C(i,t),i.prototype.bh=function(t,i){this.wh.yt=!1;var n=this.Kn.Ct(),r=n.mh().mh;if(2===r||3===r){var e=this.Kn.W();if(e.baseLineVisible&&this.Kn.yt()){var o=this.Kn.kt();null!==o&&(this.wh.yt=!0,this.wh.it=n.xt(o.St,o.St),this.wh.Ht=i,this.wh.Yt=t,this.wh.A=e.baseLineColor,this.wh.Vt=e.baseLineWidth,this.wh.Pt=e.baseLineStyle)}}},i}(Ut),Ht=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.ph=function(){return this.Bt},t.prototype.H=function(t,i,n,r){var e=this.Bt;if(null!==e){t.save();var o=Math.max(1,Math.floor(i)),s=o%2/2,h=Math.round(e.Zs.x*i)+s,u=e.Zs.y*i;t.fillStyle=e.gh,t.beginPath();var a=Math.max(2,1.5*e.yh)*i;t.arc(h,u,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=e.kh,t.beginPath(),t.arc(h,u,e.st*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=o,t.strokeStyle=e.Nh,t.beginPath(),t.arc(h,u,e.st*i+o/2,0,2*Math.PI,!1),t.stroke(),t.restore()}},t}(),$t=[{xh:0,Ch:.25,Sh:4,Th:10,Dh:.25,Ah:0,Bh:.4,Lh:.8},{xh:.25,Ch:.525,Sh:10,Th:14,Dh:0,Ah:0,Bh:.8,Lh:0},{xh:.525,Ch:1,Sh:14,Th:14,Dh:0,Ah:0,Bh:0,Lh:0}];function qt(t,i,n,r){return function(t,i){if("transparent"===t)return t;var n=b(t),r=n[3];return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(i*r,")")}(t,n+(r-n)*i)}function Qt(t,i){for(var n,r=t%2600/2600,e=0,o=$t;e<o.length;e++){var s=o[e];if(r>=s.xh&&r<=s.Ch){n=s;break}}l(void 0!==n,"Last price animation internal logic error");var h,u,a,c=(r-n.xh)/(n.Ch-n.xh);return{kh:qt(i,c,n.Dh,n.Ah),Nh:qt(i,c,n.Bh,n.Lh),st:(h=c,u=n.Sh,a=n.Th,u+(a-u)*h)}}var ti=function(){function t(t){this.zt=new Ht,this.ft=!0,this.Eh=!0,this.Fh=performance.now(),this.Oh=this.Fh-1,this.Vh=t}return t.prototype.Ph=function(){this.Oh=this.Fh-1,this.vt()},t.prototype.Wh=function(){if(this.vt(),2===this.Vh.W().lastPriceAnimation){var t=performance.now(),i=this.Oh-t;if(i>0)return void(i<650&&(this.Oh+=2600));this.Fh=t,this.Oh=t+2600}},t.prototype.vt=function(){this.ft=!0},t.prototype.zh=function(){this.Eh=!0},t.prototype.yt=function(){return 0!==this.Vh.W().lastPriceAnimation},t.prototype.Rh=function(){switch(this.Vh.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Oh}},t.prototype.dt=function(t,i){return this.ft?(this.wt(t,i),this.ft=!1,this.Eh=!1):this.Eh&&(this.Ih(),this.Eh=!1),this.zt},t.prototype.wt=function(t,i){this.zt.Z(null);var n=this.Vh.jt().bt(),r=n.ss(),e=this.Vh.kt();if(null!==r&&null!==e){var o=this.Vh.jh(!0);if(!o.qh&&r.Uh(o.vs)){var s={x:n.At(o.vs),y:this.Vh.Ct().xt(o.et,e.St)},h=o.A,u=this.Vh.W().lineWidth,a=Qt(this.Hh(),h);this.zt.Z({gh:h,yh:u,kh:a.kh,Nh:a.Nh,st:a.st,Zs:s})}}},t.prototype.Ih=function(){var t=this.zt.ph();if(null!==t){var i=Qt(this.Hh(),t.gh);t.kh=i.kh,t.Nh=i.Nh,t.st=i.st}},t.prototype.Hh=function(){return this.Rh()?performance.now()-this.Fh:2599},t}();function ii(t,i){return At(Math.min(Math.max(t,12),30)*i)}function ni(t,i){switch(t){case"arrowDown":case"arrowUp":return ii(i,1);case"circle":return ii(i,.8);case"square":return ii(i,.7)}}function ri(t){return Lt(ii(t,1))}function ei(t){return Math.max(ii(t,.1),3)}function oi(t,i,n,r,e){var o=ni("square",n),s=(o-1)/2,h=t-s,u=i-s;return r>=h&&r<=h+o&&e>=u&&e<=u+o}function si(t,i,n,r,e){var o=(ni("arrowUp",e)-1)/2,s=(At(e/2)-1)/2;i.beginPath(),t?(i.moveTo(n-o,r),i.lineTo(n,r-o),i.lineTo(n+o,r),i.lineTo(n+s,r),i.lineTo(n+s,r+o),i.lineTo(n-s,r+o),i.lineTo(n-s,r)):(i.moveTo(n-o,r),i.lineTo(n,r+o),i.lineTo(n+o,r),i.lineTo(n+s,r),i.lineTo(n+s,r-o),i.lineTo(n-s,r-o),i.lineTo(n-s,r)),i.fill()}var hi=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.Bt=null,i.rh=new Yt,i.R=-1,i.I="",i.Yh="",i}return C(i,t),i.prototype.Z=function(t){this.Bt=t},i.prototype.eh=function(t,i){this.R===t&&this.I===i||(this.R=t,this.I=i,this.Yh=P(t,i),this.rh.ih())},i.prototype.$h=function(t,i){if(null===this.Bt||null===this.Bt.J)return null;for(var n=this.Bt.J.from;n<this.Bt.J.to;n++){var r=this.Bt.G[n];if(ai(r,t,i))return{Kh:r.Xh,Zh:r.Zh}}return null},i.prototype.Y=function(t,i,n){if(null!==this.Bt&&null!==this.Bt.J){t.textBaseline="middle",t.font=this.Yh;for(var r=this.Bt.J.from;r<this.Bt.J.to;r++){var e=this.Bt.G[r];void 0!==e.Gt&&(e.Gt.Ht=this.rh.Qt(t,e.Gt.Jh),e.Gt.Yt=this.R),ui(e,t)}}},i}(F);function ui(t,i){i.fillStyle=t.A,void 0!==t.Gt&&function(t,i,n,r){t.fillText(i,n,r)}(i,t.Gt.Jh,t.tt-t.Gt.Ht/2,t.Gt.it),function(t,i){if(0!==t.hs){switch(t.Gh){case"arrowDown":return void si(!1,i,t.tt,t.it,t.hs);case"arrowUp":return void si(!0,i,t.tt,t.it,t.hs);case"circle":return void function(t,i,n,r){var e=(ni("circle",r)-1)/2;t.beginPath(),t.arc(i,n,e,0,2*Math.PI,!1),t.fill()}(i,t.tt,t.it,t.hs);case"square":return void function(t,i,n,r){var e=ni("square",r),o=(e-1)/2,s=i-o,h=n-o;t.fillRect(s,h,e,e)}(i,t.tt,t.it,t.hs)}t.Gh}}(t,i)}function ai(t,i,n){return!(void 0===t.Gt||!function(t,i,n,r,e,o){var s=r/2;return e>=t&&e<=t+n&&o>=i-s&&o<=i+s}(t.tt,t.Gt.it,t.Gt.Ht,t.Gt.Yt,i,n))||function(t,i,n){if(0===t.hs)return!1;switch(t.Gh){case"arrowDown":case"arrowUp":return function(t,i,n,r,e,o){return oi(i,n,r,e,o)}(0,t.tt,t.it,t.hs,i,n);case"circle":return function(t,i,n,r,e){var o=2+ni("circle",n)/2,s=t-r,h=i-e;return Math.sqrt(s*s+h*h)<=o}(t.tt,t.it,t.hs,i,n);case"square":return oi(t.tt,t.it,t.hs,i,n)}}(t,i,n)}function li(t,i,n,r,e,o,s,h,u){var a=E(n)?n:n.close,l=E(n)?n:n.high,c=E(n)?n:n.low,f=E(i.size)?Math.max(i.size,0):1,p=ri(h.ws())*f,v=p/2;switch(t.hs=p,i.position){case"inBar":return t.it=s.xt(a,u),void(void 0!==t.Gt&&(t.Gt.it=t.it+v+o+.6*e));case"aboveBar":return t.it=s.xt(l,u)-v-r.Qh,void 0!==t.Gt&&(t.Gt.it=t.it-v-.6*e,r.Qh+=1.2*e),void(r.Qh+=p+o);case"belowBar":return t.it=s.xt(c,u)+v+r.tr,void 0!==t.Gt&&(t.Gt.it=t.it+v+o+.6*e,r.tr+=1.2*e),void(r.tr+=p+o)}i.position}var ci=function(){function t(t,i){this.ft=!0,this.ir=!0,this.nr=!0,this.sr=null,this.zt=new hi,this.Vh=t,this.pi=i,this.Bt={G:[],J:null}}return t.prototype.vt=function(t){this.ft=!0,this.nr=!0,"data"===t&&(this.ir=!0)},t.prototype.dt=function(t,i,n){if(!this.Vh.yt())return null;this.ft&&this.Jn();var r=this.pi.W().layout;return this.zt.eh(r.fontSize,r.fontFamily),this.zt.Z(this.Bt),this.zt},t.prototype.hr=function(){if(this.nr){if(this.Vh.rr().length>0){var t=this.pi.bt().ws(),i=ei(t),n=1.5*ri(t)+2*i;this.sr={above:n,below:n}}else this.sr=null;this.nr=!1}return this.sr},t.prototype.Jn=function(){var t=this.Vh.Ct(),i=this.pi.bt(),n=this.Vh.rr();this.ir&&(this.Bt.G=n.map((function(t){return{rt:t.time,tt:0,it:0,hs:0,Gh:t.shape,A:t.color,Xh:t.Xh,Zh:t.id,Gt:void 0}})),this.ir=!1);var r=this.pi.W().layout;this.Bt.J=null;var e=i.ss();if(null!==e){var o=this.Vh.kt();if(null!==o&&0!==this.Bt.G.length){var s=NaN,h=ei(i.ws()),u={Qh:h,tr:h};this.Bt.J=bt(this.Bt.G,e,!0);for(var a=this.Bt.J.from;a<this.Bt.J.to;a++){var l=n[a];l.time!==s&&(u.Qh=h,u.tr=h,s=l.time);var c=this.Bt.G[a];c.tt=i.At(l.time),void 0!==l.text&&l.text.length>0&&(c.Gt={Jh:l.text,it:0,Ht:0,Yt:0});var f=this.Vh.er(l.time);null!==f&&li(c,l,f,u,r.fontSize,h,t,i,o.St)}this.ft=!1}}},t}(),fi=function(t){function i(i){return t.call(this,i)||this}return C(i,t),i.prototype.bh=function(t,i){var n=this.wh;n.yt=!1;var r=this.Kn.W();if(r.priceLineVisible&&this.Kn.yt()){var e=this.Kn.jh(0===r.priceLineSource);e.qh||(n.yt=!0,n.it=e.ti,n.A=this.Kn.ur(e.A),n.Ht=i,n.Yt=t,n.Vt=r.priceLineWidth,n.Pt=r.priceLineStyle)}},i}(Ut),pi=function(t){function i(i){var n=t.call(this)||this;return n.Rt=i,n}return C(i,t),i.prototype.vi=function(t,i,n){t.yt=!1,i.yt=!1;var r=this.Rt;if(r.yt()){var e=r.W(),o=e.lastValueVisible,s=""!==r.ar(),h=0===e.seriesLastValueMode,u=r.jh(!1);if(!u.qh){o&&(t.Gt=this.lr(u,o,h),t.yt=0!==t.Gt.length),(s||h)&&(i.Gt=this.cr(u,o,s,h),i.yt=i.Gt.length>0);var a=r.ur(u.A),l=M(a);n.t=l.t,n.A=l.i,n.ti=u.ti,i.Tt=r.jt().Dt(u.ti/r.Ct().Yt()),t.Tt=a}}},i.prototype.cr=function(t,i,n,r){var e="",o=this.Rt.ar();return n&&0!==o.length&&(e+="".concat(o," ")),i&&r&&(e+=this.Rt.Ct().vr()?t._r:t.dr),e.trim()},i.prototype.lr=function(t,i,n){return i?n?this.Rt.Ct().vr()?t.dr:t._r:t.Gt:""},i}(Q),vi=function(){function t(t,i){this.wr=t,this.Mr=i}return t.prototype.br=function(t){return null!==t&&this.wr===t.wr&&this.Mr===t.Mr},t.prototype.mr=function(){return new t(this.wr,this.Mr)},t.prototype.pr=function(){return this.wr},t.prototype.gr=function(){return this.Mr},t.prototype.yr=function(){return this.Mr-this.wr},t.prototype.wi=function(){return this.Mr===this.wr||Number.isNaN(this.Mr)||Number.isNaN(this.wr)},t.prototype.Nn=function(i){return null===i?this:new t(Math.min(this.pr(),i.pr()),Math.max(this.gr(),i.gr()))},t.prototype.kr=function(t){if(E(t)&&0!==this.Mr-this.wr){var i=.5*(this.Mr+this.wr),n=this.Mr-i,r=this.wr-i;n*=t,r*=t,this.Mr=i+n,this.wr=i+r}},t.prototype.Nr=function(t){E(t)&&(this.Mr+=t,this.wr+=t)},t.prototype.Cr=function(){return{minValue:this.wr,maxValue:this.Mr}},t.Sr=function(i){return null===i?null:new t(i.minValue,i.maxValue)},t}(),di=function(){function t(t,i){this.Tr=t,this.Dr=i||null}return t.prototype.Ar=function(){return this.Tr},t.prototype.Br=function(){return this.Dr},t.prototype.Cr=function(){return null===this.Tr?null:{priceRange:this.Tr.Cr(),margins:this.Dr||void 0}},t.Sr=function(i){return null===i?null:new t(vi.Sr(i.priceRange),i.margins)},t}(),yi=function(t){function i(i,n){var r=t.call(this,i)||this;return r.Lr=n,r}return C(i,t),i.prototype.bh=function(t,i){var n=this.wh;n.yt=!1;var r=this.Lr.W();if(this.Kn.yt()&&r.lineVisible){var e=this.Lr.Er();null!==e&&(n.yt=!0,n.it=e,n.A=r.color,n.Ht=i,n.Yt=t,n.Vt=r.lineWidth,n.Pt=r.lineStyle)}},i}(Ut),gi=function(t){function i(i,n){var r=t.call(this)||this;return r.Vh=i,r.Lr=n,r}return C(i,t),i.prototype.vi=function(t,i,n){t.yt=!1,i.yt=!1;var r=this.Lr.W(),e=r.axisLabelVisible,o=""!==r.title,s=this.Vh;if(e&&s.yt()){var h=this.Lr.Er();if(null!==h){o&&(i.Gt=r.title,i.yt=!0),i.Tt=s.jt().Dt(h/s.Ct().Yt()),t.Gt=s.Ct().Fr(r.price),t.yt=!0;var u=M(r.color);n.t=u.t,n.A=u.i,n.ti=h}}},i}(Q),_i=function(){function t(t,i){this.Vh=t,this.zi=i,this.Or=new yi(t,this),this.uh=new gi(t,this),this.Vr=new Jt(this.uh,t,t.jt())}return t.prototype.Pr=function(t){k(this.zi,t),this.vt(),this.Vh.jt().Wr()},t.prototype.W=function(){return this.zi},t.prototype.tn=function(){return[this.Or,this.Vr]},t.prototype.zr=function(){return this.uh},t.prototype.vt=function(){this.Or.vt(),this.uh.vt()},t.prototype.Er=function(){var t=this.Vh,i=t.Ct();if(t.jt().bt().wi()||i.wi())return null;var n=t.kt();return null===n?null:i.xt(this.zi.price,n.St)},t}(),wi=function(t){function i(i){var n=t.call(this)||this;return n.pi=i,n}return C(i,t),i.prototype.jt=function(){return this.pi},i}(et),mi={Ds:"",Hs:"",Us:""},bi=function(){function t(t){this.Vh=t}return t.prototype.As=function(t,i){var n=this.Vh.Rr(),r=this.Vh.W();switch(n){case"Line":return this.Ir(r,t,i);case"Area":return this.jr(r);case"Baseline":return this.qr(r,t,i);case"Bar":return this.Ur(r,t,i);case"Candlestick":return this.Hr(r,t,i);case"Histogram":return this.Yr(r,t,i)}throw new Error("Unknown chart style")},t.prototype.Ur=function(t,i,n){var r=x({},mi),e=t.upColor,o=t.downColor,s=e,h=o,u=f(this.$r(i,n)),a=p(u.St[0])<=p(u.St[3]);return void 0!==u.A?(r.Ds=u.A,r.Hs=u.A):(r.Ds=a?e:o,r.Hs=a?s:h),r},t.prototype.Hr=function(t,i,n){var r,e,o,s=x({},mi),h=t.upColor,u=t.downColor,a=t.borderUpColor,l=t.borderDownColor,c=t.wickUpColor,v=t.wickDownColor,d=f(this.$r(i,n)),y=p(d.St[0])<=p(d.St[3]);return s.Ds=null!==(r=d.A)&&void 0!==r?r:y?h:u,s.Hs=null!==(e=d.Tt)&&void 0!==e?e:y?a:l,s.Us=null!==(o=d.qs)&&void 0!==o?o:y?c:v,s},t.prototype.jr=function(t){return x(x({},mi),{Ds:t.lineColor})},t.prototype.qr=function(t,i,n){var r=f(this.$r(i,n)).St[3]>=t.baseValue.price;return x(x({},mi),{Ds:r?t.topLineColor:t.bottomLineColor})},t.prototype.Ir=function(t,i,n){var r,e=f(this.$r(i,n));return x(x({},mi),{Ds:null!==(r=e.A)&&void 0!==r?r:t.color})},t.prototype.Yr=function(t,i,n){var r=x({},mi),e=f(this.$r(i,n));return r.Ds=void 0!==e.A?e.A:t.color,r},t.prototype.$r=function(t,i){return void 0!==i?i.St:this.Vh.an().Kr(t)},t}(),Mi=function(){function t(){this.Xr=[],this.Zr=new Map,this.Jr=new Map}return t.prototype.Gr=function(){return this.hs()>0?this.Xr[this.Xr.length-1]:null},t.prototype.Qr=function(){return this.hs()>0?this.te(0):null},t.prototype.un=function(){return this.hs()>0?this.te(this.Xr.length-1):null},t.prototype.hs=function(){return this.Xr.length},t.prototype.wi=function(){return 0===this.hs()},t.prototype.Uh=function(t){return null!==this.ie(t,0)},t.prototype.Kr=function(t){return this.ne(t)},t.prototype.ne=function(t,i){void 0===i&&(i=0);var n=this.ie(t,i);return null===n?null:x(x({},this.se(n)),{vs:this.te(n)})},t.prototype.fs=function(){return this.Xr},t.prototype.he=function(t,i,n){if(this.wi())return null;for(var r=null,e=0,o=n;e<o.length;e++){var s=o[e];r=Si(r,this.re(t,i,s))}return r},t.prototype.Z=function(t){this.Jr.clear(),this.Zr.clear(),this.Xr=t},t.prototype.te=function(t){return this.Xr[t].vs},t.prototype.se=function(t){return this.Xr[t]},t.prototype.ie=function(t,i){var n=this.ee(t);if(null===n&&0!==i)switch(i){case-1:return this.ue(t);case 1:return this.ae(t);default:throw new TypeError("Unknown search mode")}return n},t.prototype.ue=function(t){var i=this.oe(t);return i>0&&(i-=1),i!==this.Xr.length&&this.te(i)<t?i:null},t.prototype.ae=function(t){var i=this.le(t);return i!==this.Xr.length&&t<this.te(i)?i:null},t.prototype.ee=function(t){var i=this.oe(t);return i===this.Xr.length||t<this.Xr[i].vs?null:i},t.prototype.oe=function(t){return gt(this.Xr,t,(function(t,i){return t.vs<i}))},t.prototype.le=function(t){return _t(this.Xr,t,(function(t,i){return i.vs>t}))},t.prototype.fe=function(t,i,n){for(var r=null,e=t;e<i;e++){var o=this.Xr[e].St[n];Number.isNaN(o)||(null===r?r={ce:o,ve:o}:(o<r.ce&&(r.ce=o),o>r.ve&&(r.ve=o)))}return r},t.prototype.re=function(t,i,n){if(this.wi())return null;var r=null,e=f(this.Qr()),o=f(this.un()),s=Math.max(t,e),h=Math.min(i,o),u=30*Math.ceil(s/30),a=Math.max(u,30*Math.floor(h/30)),l=this.oe(s),c=this.le(Math.min(h,u,i));r=Si(r,this.fe(l,c,n));var p=this.Zr.get(n);void 0===p&&(p=new Map,this.Zr.set(n,p));for(var v=Math.max(u+1,s);v<a;v+=30){var d=Math.floor(v/30),y=p.get(d);if(void 0===y){var g=this.oe(30*d),_=this.le(30*(d+1)-1);y=this.fe(g,_,n),p.set(d,y)}r=Si(r,y)}return l=this.oe(a),c=this.le(h),Si(r,this.fe(l,c,n))},t}();function Si(t,i){return null===t?i:null===i?t:{ce:Math.min(t.ce,i.ce),ve:Math.max(t.ve,i.ve)}}var Ci=function(t){function i(i,n,r){var e=t.call(this,i)||this;e.Bt=new Mi,e.Or=new fi(e),e._e=[],e.de=new Kt(e),e.we=null,e.Me=null,e.be=[],e.me=[],e.pe=null,e.zi=n,e.ge=r;var o=new pi(e);return e.Ei=[o],e.Vr=new Jt(o,e,i),"Area"!==r&&"Line"!==r&&"Baseline"!==r||(e.we=new ti(e)),e.ye(),e.ke(),e}return C(i,t),i.prototype.g=function(){null!==this.pe&&clearTimeout(this.pe)},i.prototype.ur=function(t){return this.zi.priceLineColor||t},i.prototype.jh=function(t){var i={qh:!0},n=this.Ct();if(this.jt().bt().wi()||n.wi()||this.Bt.wi())return i;var r,e,o=this.jt().bt().ss(),s=this.kt();if(null===o||null===s)return i;if(t){var h=this.Bt.Gr();if(null===h)return i;r=h,e=h.vs}else{var u=this.Bt.ne(o.jn(),-1);if(null===u)return i;if(null===(r=this.Bt.Kr(u.vs)))return i;e=u.vs}var a=r.St[3],l=this.ls().As(e,{St:r}),c=n.xt(a,s.St);return{qh:!1,et:a,Gt:n.Mi(a,s.St),_r:n.Fr(a),dr:n.Ne(a,s.St),A:l.Ds,ti:c,vs:e}},i.prototype.ls=function(){return null!==this.Me||(this.Me=new bi(this)),this.Me},i.prototype.W=function(){return this.zi},i.prototype.Pr=function(t){var i=t.priceScaleId;void 0!==i&&i!==this.zi.priceScaleId&&this.jt().xe(this,i),k(this.zi,t),null!==this.ki&&void 0!==t.scaleMargins&&this.ki.Pr({scaleMargins:t.scaleMargins}),void 0!==t.priceFormat&&(this.ye(),this.jt().Ce()),this.jt().Se(this),this.jt().Te(),this.Hi.vt("options")},i.prototype.Z=function(t,i){this.Bt.Z(t),this.De(),this.Hi.vt("data"),this.Ri.vt("data"),null!==this.we&&(i&&i.Ae?this.we.Wh():0===t.length&&this.we.Ph());var n=this.jt().oh(this);this.jt().Be(n),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},i.prototype.Le=function(t){this.be=t.map((function(t){return x({},t)})),this.De();var i=this.jt().oh(this);this.Ri.vt("data"),this.jt().Be(i),this.jt().Se(this),this.jt().Te(),this.jt().Wr()},i.prototype.rr=function(){return this.me},i.prototype.Ee=function(t){var i=new _i(this,t);return this._e.push(i),this.jt().Se(this),i},i.prototype.Fe=function(t){var i=this._e.indexOf(t);-1!==i&&this._e.splice(i,1),this.jt().Se(this)},i.prototype.Rr=function(){return this.ge},i.prototype.kt=function(){var t=this.Oe();return null===t?null:{St:t.St[3],Ve:t.rt}},i.prototype.Oe=function(){var t=this.jt().bt().ss();if(null===t)return null;var i=t.In();return this.Bt.ne(i,1)},i.prototype.an=function(){return this.Bt},i.prototype.er=function(t){var i=this.Bt.Kr(t);return null===i?null:"Bar"===this.ge||"Candlestick"===this.ge?{open:i.St[0],high:i.St[1],low:i.St[2],close:i.St[3]}:i.St[3]},i.prototype.Pe=function(t){var i=this,n=this.we;return null!==n&&n.yt()?(null===this.pe&&n.Rh()&&(this.pe=setTimeout((function(){i.pe=null,i.jt().We()}),0)),n.zh(),[n]):[]},i.prototype.tn=function(){var t=[];this.ze()||t.push(this.de);for(var i=0,n=this._e;i<n.length;i++){var r=n[i];t.push.apply(t,r.tn())}return t.push(this.Hi,this.Or,this.Vr,this.Ri),t},i.prototype.nn=function(t,i){if(i!==this.ki&&!this.ze())return[];for(var n=z([],this.Ei,!0),r=0,e=this._e;r<e.length;r++){var o=e[r];n.push(o.zr())}return n},i.prototype.Re=function(t,i){var n=this;if(void 0!==this.zi.autoscaleInfoProvider){var r=this.zi.autoscaleInfoProvider((function(){var r=n.Ie(t,i);return null===r?null:r.Cr()}));return di.Sr(r)}return this.Ie(t,i)},i.prototype.je=function(){return this.zi.priceFormat.minMove},i.prototype.qe=function(){return this.Ue},i.prototype.hn=function(){var t;this.Hi.vt(),this.Ri.vt();for(var i=0,n=this.Ei;i<n.length;i++)n[i].vt();for(var r=0,e=this._e;r<e.length;r++)e[r].vt();this.Or.vt(),this.de.vt(),null===(t=this.we)||void 0===t||t.vt()},i.prototype.Ct=function(){return f(t.prototype.Ct.call(this))},i.prototype.gt=function(t){if("Line"!==this.ge&&"Area"!==this.ge&&"Baseline"!==this.ge||!this.zi.crosshairMarkerVisible)return null;var i=this.Bt.Kr(t);return null===i?null:{et:i.St[3],st:this.He(),Tt:this.Ye(),Nt:this.$e(t)}},i.prototype.ar=function(){return this.zi.title},i.prototype.yt=function(){return this.zi.visible},i.prototype.ze=function(){return!st(this.Ct().Ke())},i.prototype.Ie=function(t,i){if(!T(t)||!T(i)||this.Bt.wi())return null;var n="Line"===this.ge||"Area"===this.ge||"Baseline"===this.ge||"Histogram"===this.ge?[3]:[2,1],r=this.Bt.he(t,i,n),e=null!==r?new vi(r.ce,r.ve):null;if("Histogram"===this.Rr()){var o=this.zi.base,s=new vi(o,o);e=null!==e?e.Nn(s):s}return new di(e,this.Ri.hr())},i.prototype.He=function(){switch(this.ge){case"Line":case"Area":case"Baseline":return this.zi.crosshairMarkerRadius}return 0},i.prototype.Ye=function(){switch(this.ge){case"Line":case"Area":case"Baseline":var t=this.zi.crosshairMarkerBorderColor;if(0!==t.length)return t}return null},i.prototype.$e=function(t){switch(this.ge){case"Line":case"Area":case"Baseline":var i=this.zi.crosshairMarkerBackgroundColor;if(0!==i.length)return i}return this.ls().As(t).Ds},i.prototype.ye=function(){switch(this.zi.priceFormat.type){case"custom":this.Ue={format:this.zi.priceFormat.formatter};break;case"volume":this.Ue=new ct(this.zi.priceFormat.precision);break;case"percent":this.Ue=new lt(this.zi.priceFormat.precision);break;default:var t=Math.pow(10,this.zi.priceFormat.precision);this.Ue=new at(t,this.zi.priceFormat.minMove*t)}null!==this.ki&&this.ki.Xe()},i.prototype.De=function(){var t=this,i=this.jt().bt();if(i.wi()||0===this.Bt.hs())this.me=[];else{var n=f(this.Bt.Qr());this.me=this.be.map((function(r,e){var o=f(i.Ze(r.time,!0)),s=o<n?1:-1;return{time:f(t.Bt.ne(o,s)).vs,position:r.position,shape:r.shape,color:r.color,id:r.id,Xh:e,text:r.text,size:r.size}}))}},i.prototype.ke=function(){switch(this.Ri=new ci(this,this.jt()),this.ge){case"Bar":this.Hi=new Bt(this,this.jt());break;case"Candlestick":this.Hi=new Pt(this,this.jt());break;case"Line":this.Hi=new Vt(this,this.jt());break;case"Area":this.Hi=new Ct(this,this.jt());break;case"Baseline":this.Hi=new Wt(this,this.jt());break;case"Histogram":this.Hi=new It(this,this.jt());break;default:throw Error("Unknown chart style assigned: "+this.ge)}},i}(wi),xi=function(){function t(t){this.zi=t}return t.prototype.Je=function(t,i,n){var r=t;if(0===this.zi.mode)return r;var e=n.ji(),o=e.kt();if(null===o)return r;var s=e.xt(t,o),h=n.Ge().filter((function(t){return t instanceof Ci})).reduce((function(t,r){if(n.lh(r)||!r.yt())return t;var e=r.Ct(),o=r.an();if(e.wi()||!o.Uh(i))return t;var s=o.Kr(i);if(null===s)return t;var h=p(r.kt());return t.concat([e.xt(s.St[3],h.St)])}),[]);if(0===h.length)return r;h.sort((function(t,i){return Math.abs(t-s)-Math.abs(i-s)}));var u=h[0];return e.qi(u,o)},t}(),zi=function(){function t(){this.Bt=null}return t.prototype.Z=function(t){this.Bt=t},t.prototype.H=function(t,i,n,r){var e=this;if(null!==this.Bt){var o=Math.max(1,Math.floor(i));t.lineWidth=o;var s=Math.ceil(this.Bt.Ot*i),h=Math.ceil(this.Bt.Ft*i);!function(t,i){t.save(),t.lineWidth%2&&t.translate(.5,.5),i(),t.restore()}(t,(function(){var n=f(e.Bt);if(n.Qe){t.strokeStyle=n.tu,u(t,n.iu),t.beginPath();for(var r=0,a=n.nu;r<a.length;r++){var l=a[r],c=Math.round(l.su*i);t.moveTo(c,-o),t.lineTo(c,s+o)}t.stroke()}if(n.hu){t.strokeStyle=n.ru,u(t,n.eu),t.beginPath();for(var p=0,v=n.uu;p<v.length;p++){var d=v[p],y=Math.round(d.su*i);t.moveTo(-o,y),t.lineTo(h+o,y)}t.stroke()}}))}},t}(),Bi=function(){function t(t){this.zt=new zi,this.ft=!0,this.Di=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){if(this.ft){var n=this.Di.jt().W().grid,r={Ot:t,Ft:i,hu:n.horzLines.visible,Qe:n.vertLines.visible,ru:n.horzLines.color,tu:n.vertLines.color,eu:n.horzLines.style,iu:n.vertLines.style,uu:this.Di.ji().au(),nu:this.Di.jt().bt().au()||[]};this.zt.Z(r),this.ft=!1}return this.zt},t}(),ki=function(){function t(t){this.Hi=new Bi(t)}return t.prototype.ou=function(){return this.Hi},t}(),Ei={lu:4,fu:1e-4};function Ti(t,i){var n=100*(t-i)/i;return i<0?-n:n}function Li(t,i){var n=Ti(t.pr(),i),r=Ti(t.gr(),i);return new vi(n,r)}function Ai(t,i){var n=100*(t-i)/i+100;return i<0?-n:n}function Di(t,i){var n=Ai(t.pr(),i),r=Ai(t.gr(),i);return new vi(n,r)}function Ri(t,i){var n=Math.abs(t);if(n<1e-15)return 0;var r=Tt(n+i.fu)+i.lu;return t<0?-r:r}function Wi(t,i){var n=Math.abs(t);if(n<1e-15)return 0;var r=Math.pow(10,n-i.lu)-i.fu;return t<0?-r:r}function ji(t,i){if(null===t)return null;var n=Ri(t.pr(),i),r=Ri(t.gr(),i);return new vi(n,r)}function Pi(t,i){if(null===t)return null;var n=Wi(t.pr(),i),r=Wi(t.gr(),i);return new vi(n,r)}function Oi(t){if(null===t)return Ei;var i=Math.abs(t.gr()-t.pr());if(i>=1||i<1e-15)return Ei;var n=Math.ceil(Math.abs(Math.log10(i))),r=Ei.lu+n;return{lu:r,fu:1/Math.pow(10,r)}}var Ni,Fi=function(){function t(t,i){if(this.cu=t,this.vu=i,function(t){if(t<0)return!1;for(var i=t;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.cu))this._u=[2,2.5,2];else{this._u=[];for(var n=this.cu;1!==n;){if(n%2==0)this._u.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this._u.push(2,2.5),n/=5}if(this._u.length>100)throw new Error("something wrong with base")}}}return t.prototype.du=function(t,i,n){for(var r,e=0===this.cu?0:1/this.cu,o=Math.pow(10,Math.max(0,Math.ceil(Tt(t-i)))),s=0,h=this.vu[0];;){var u=Et(o,e,1e-14)&&o>e+1e-14,a=Et(o,n*h,1e-14),l=Et(o,1,1e-14);if(!(u&&a&&l))break;o/=h,h=this.vu[++s%this.vu.length]}if(o<=e+1e-14&&(o=e),o=Math.max(1,o),this._u.length>0&&(r=o,1,1e-14,Math.abs(r-1)<1e-14))for(s=0,h=this._u[0];Et(o,n*h,1e-14)&&o>e+1e-14;)o/=h,h=this._u[++s%this._u.length];return o},t}(),Ii=function(){function t(t,i,n,r){this.wu=[],this._i=t,this.cu=i,this.Mu=n,this.bu=r}return t.prototype.du=function(t,i){if(t<i)throw new Error("high < low");var n=this._i.Yt(),r=(t-i)*this.mu()/n,e=new Fi(this.cu,[2,2.5,2]),o=new Fi(this.cu,[2,2,2.5]),s=new Fi(this.cu,[2.5,2,2]),h=[];return h.push(e.du(t,i,r),o.du(t,i,r),s.du(t,i,r)),function(t){if(t.length<1)throw Error("array is empty");for(var i=t[0],n=1;n<t.length;++n)t[n]<i&&(i=t[n]);return i}(h)},t.prototype.pu=function(){var t=this._i,i=t.kt();if(null!==i){var n=t.Yt(),r=this.Mu(n-1,i),e=this.Mu(0,i),o=this._i.W().entireTextOnly?this.gu()/2:0,s=o,h=n-1-o,u=Math.max(r,e),a=Math.min(r,e);if(u!==a){for(var l=this.du(u,a),c=u%l,f=u>=a?1:-1,p=null,v=0,d=u-(c+=c<0?l:0);d>a;d-=l){var y=this.bu(d,i,!0);null!==p&&Math.abs(y-p)<this.mu()||y<s||y>h||(v<this.wu.length?(this.wu[v].su=y,this.wu[v].yu=t.ku(d)):this.wu.push({su:y,yu:t.ku(d)}),v++,p=y,t.Nu()&&(l=this.du(d*f,a)))}this.wu.length=v}else this.wu=[]}else this.wu=[]},t.prototype.au=function(){return this.wu},t.prototype.gu=function(){return this._i.S()},t.prototype.mu=function(){return Math.ceil(2.5*this.gu())},t}();function Vi(t){return t.slice().sort((function(t,i){return f(t.xi())-f(i.xi())}))}!function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"}(Ni||(Ni={}));var Gi=new lt,Yi=new at(100,1),Xi=function(){function t(t,i,n,r){this.xu=0,this.Cu=null,this.Tr=null,this.Su=null,this.Tu={Du:!1,Au:null},this.Bu=0,this.Lu=0,this.Eu=new B,this.Fu=new B,this.Ou=[],this.Vu=null,this.Pu=null,this.Wu=null,this.zu=null,this.Ue=Yi,this.Ru=Oi(null),this.Iu=t,this.zi=i,this.ju=n,this.qu=r,this.Uu=new Ii(this,100,this.Hu.bind(this),this.Yu.bind(this))}return t.prototype.Ke=function(){return this.Iu},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(t){if(k(this.zi,t),this.Xe(),void 0!==t.mode&&this.$u({mh:t.mode}),void 0!==t.scaleMargins){var i=c(t.scaleMargins.top),n=c(t.scaleMargins.bottom);if(i<0||i>1)throw new Error("Invalid top margin - expect value between 0 and 1, given=".concat(i));if(n<0||n>1||i+n>1)throw new Error("Invalid bottom margin - expect value between 0 and 1, given=".concat(n));if(i+n>1)throw new Error("Invalid margins - sum of margins must be less than 1, given=".concat(i+n));this.Ku(),this.Pu=null}},t.prototype.Xu=function(){return this.zi.autoScale},t.prototype.Nu=function(){return 1===this.zi.mode},t.prototype.vr=function(){return 2===this.zi.mode},t.prototype.Zu=function(){return 3===this.zi.mode},t.prototype.mh=function(){return{_n:this.zi.autoScale,Ju:this.zi.invertScale,mh:this.zi.mode}},t.prototype.$u=function(t){var i=this.mh(),n=null;void 0!==t._n&&(this.zi.autoScale=t._n),void 0!==t.mh&&(this.zi.mode=t.mh,2!==t.mh&&3!==t.mh||(this.zi.autoScale=!0),this.Tu.Du=!1),1===i.mh&&t.mh!==i.mh&&(function(t,i){if(null===t)return!1;var n=Wi(t.pr(),i),r=Wi(t.gr(),i);return isFinite(n)&&isFinite(r)}(this.Tr,this.Ru)?null!==(n=Pi(this.Tr,this.Ru))&&this.Gu(n):this.zi.autoScale=!0),1===t.mh&&t.mh!==i.mh&&null!==(n=ji(this.Tr,this.Ru))&&this.Gu(n);var r=i.mh!==this.zi.mode;r&&(2===i.mh||this.vr())&&this.Xe(),r&&(3===i.mh||this.Zu())&&this.Xe(),void 0!==t.Ju&&i.Ju!==t.Ju&&(this.zi.invertScale=t.Ju,this.Qu()),this.Fu.m(i,this.mh())},t.prototype.ta=function(){return this.Fu},t.prototype.S=function(){return this.ju.fontSize},t.prototype.Yt=function(){return this.xu},t.prototype.ia=function(t){this.xu!==t&&(this.xu=t,this.Ku(),this.Pu=null)},t.prototype.na=function(){if(this.Cu)return this.Cu;var t=this.Yt()-this.sa()-this.ha();return this.Cu=t,t},t.prototype.Ar=function(){return this.ra(),this.Tr},t.prototype.Gu=function(t,i){var n=this.Tr;(i||null===n&&null!==t||null!==n&&!n.br(t))&&(this.Pu=null,this.Tr=t)},t.prototype.wi=function(){return this.ra(),0===this.xu||!this.Tr||this.Tr.wi()},t.prototype.ea=function(t){return this.Ju()?t:this.Yt()-1-t},t.prototype.xt=function(t,i){return this.vr()?t=Ti(t,i):this.Zu()&&(t=Ai(t,i)),this.Yu(t,i)},t.prototype.us=function(t,i,n){this.ra();for(var r=this.ha(),e=f(this.Ar()),o=e.pr(),s=e.gr(),h=this.na()-1,u=this.Ju(),a=h/(s-o),l=void 0===n?0:n.from,c=void 0===n?t.length:n.to,p=this.ua(),v=l;v<c;v++){var d=t[v],y=d.et;if(!isNaN(y)){var g=y;null!==p&&(g=p(d.et,i));var _=r+a*(g-o),w=u?_:this.xu-1-_;d.it=w}}},t.prototype.Ss=function(t,i,n){this.ra();for(var r=this.ha(),e=f(this.Ar()),o=e.pr(),s=e.gr(),h=this.na()-1,u=this.Ju(),a=h/(s-o),l=void 0===n?0:n.from,c=void 0===n?t.length:n.to,p=this.ua(),v=l;v<c;v++){var d=t[v],y=d.open,g=d.high,_=d.low,w=d.close;null!==p&&(y=p(d.open,i),g=p(d.high,i),_=p(d.low,i),w=p(d.close,i));var m=r+a*(y-o),b=u?m:this.xu-1-m;d.xs=b,m=r+a*(g-o),b=u?m:this.xu-1-m,d.ys=b,m=r+a*(_-o),b=u?m:this.xu-1-m,d.ks=b,m=r+a*(w-o),b=u?m:this.xu-1-m,d.Cs=b}},t.prototype.qi=function(t,i){var n=this.Hu(t,i);return this.aa(n,i)},t.prototype.aa=function(t,i){var n=t;return this.vr()?n=function(t,i){return i<0&&(t=-t),t/100*i+i}(n,i):this.Zu()&&(n=function(t,i){return t-=100,i<0&&(t=-t),t/100*i+i}(n,i)),n},t.prototype.Ge=function(){return this.Ou},t.prototype.oa=function(){if(this.Vu)return this.Vu;for(var t=[],i=0;i<this.Ou.length;i++){var n=this.Ou[i];null===n.xi()&&n.Ci(i+1),t.push(n)}return t=Vi(t),this.Vu=t,this.Vu},t.prototype.la=function(t){-1===this.Ou.indexOf(t)&&(this.Ou.push(t),this.Xe(),this.fa())},t.prototype.ca=function(t){var i=this.Ou.indexOf(t);if(-1===i)throw new Error("source is not attached to scale");this.Ou.splice(i,1),0===this.Ou.length&&(this.$u({_n:!0}),this.Gu(null)),this.Xe(),this.fa()},t.prototype.kt=function(){for(var t=null,i=0,n=this.Ou;i<n.length;i++){var r=n[i].kt();null!==r&&(null===t||r.Ve<t.Ve)&&(t=r)}return null===t?null:t.St},t.prototype.Ju=function(){return this.zi.invertScale},t.prototype.au=function(){var t=null===this.kt();if(null!==this.Pu&&(t||this.Pu.va===t))return this.Pu.au;this.Uu.pu();var i=this.Uu.au();return this.Pu={au:i,va:t},this.Eu.m(),i},t.prototype._a=function(){return this.Eu},t.prototype.da=function(t){this.vr()||this.Zu()||null===this.Wu&&null===this.Su&&(this.wi()||(this.Wu=this.xu-t,this.Su=f(this.Ar()).mr()))},t.prototype.wa=function(t){if(!this.vr()&&!this.Zu()&&null!==this.Wu){this.$u({_n:!1}),(t=this.xu-t)<0&&(t=0);var i=(this.Wu+.2*(this.xu-1))/(t+.2*(this.xu-1)),n=f(this.Su).mr();i=Math.max(i,.1),n.kr(i),this.Gu(n)}},t.prototype.Ma=function(){this.vr()||this.Zu()||(this.Wu=null,this.Su=null)},t.prototype.ba=function(t){this.Xu()||null===this.zu&&null===this.Su&&(this.wi()||(this.zu=t,this.Su=f(this.Ar()).mr()))},t.prototype.ma=function(t){if(!this.Xu()&&null!==this.zu){var i=f(this.Ar()).yr()/(this.na()-1),n=t-this.zu;this.Ju()&&(n*=-1);var r=n*i,e=f(this.Su).mr();e.Nr(r),this.Gu(e,!0),this.Pu=null}},t.prototype.pa=function(){this.Xu()||null!==this.zu&&(this.zu=null,this.Su=null)},t.prototype.qe=function(){return this.Ue||this.Xe(),this.Ue},t.prototype.Mi=function(t,i){switch(this.zi.mode){case 2:return this.qe().format(Ti(t,i));case 3:return this.qe().format(Ai(t,i));default:return this.ga(t)}},t.prototype.ku=function(t){switch(this.zi.mode){case 2:case 3:return this.qe().format(t);default:return this.ga(t)}},t.prototype.Fr=function(t){return this.ga(t,f(this.ya()).qe())},t.prototype.Ne=function(t,i){return t=Ti(t,i),Gi.format(t)},t.prototype.ka=function(){return this.Ou},t.prototype.Na=function(t){this.Tu={Au:t,Du:!1}},t.prototype.hn=function(){this.Ou.forEach((function(t){return t.hn()}))},t.prototype.Xe=function(){this.Pu=null;var t=this.ya(),i=100;null!==t&&(i=Math.round(1/t.je())),this.Ue=Yi,this.vr()?(this.Ue=Gi,i=100):this.Zu()?(this.Ue=new at(100,1),i=100):null!==t&&(this.Ue=t.qe()),this.Uu=new Ii(this,i,this.Hu.bind(this),this.Yu.bind(this)),this.Uu.pu()},t.prototype.fa=function(){this.Vu=null},t.prototype.ya=function(){return this.Ou[0]||null},t.prototype.sa=function(){return this.Ju()?this.zi.scaleMargins.bottom*this.Yt()+this.Lu:this.zi.scaleMargins.top*this.Yt()+this.Bu},t.prototype.ha=function(){return this.Ju()?this.zi.scaleMargins.top*this.Yt()+this.Bu:this.zi.scaleMargins.bottom*this.Yt()+this.Lu},t.prototype.ra=function(){this.Tu.Du||(this.Tu.Du=!0,this.xa())},t.prototype.Ku=function(){this.Cu=null},t.prototype.Yu=function(t,i){if(this.ra(),this.wi())return 0;t=this.Nu()&&t?Ri(t,this.Ru):t;var n=f(this.Ar()),r=this.ha()+(this.na()-1)*(t-n.pr())/n.yr();return this.ea(r)},t.prototype.Hu=function(t,i){if(this.ra(),this.wi())return 0;var n=this.ea(t),r=f(this.Ar()),e=r.pr()+r.yr()*((n-this.ha())/(this.na()-1));return this.Nu()?Wi(e,this.Ru):e},t.prototype.Qu=function(){this.Pu=null,this.Uu.pu()},t.prototype.xa=function(){var t=this.Tu.Au;if(null!==t){for(var i,n,r=null,e=0,o=0,s=0,h=this.ka();s<h.length;s++){var u=h[s];if(u.yt()){var a=u.kt();if(null!==a){var l=u.Re(t.In(),t.jn()),c=l&&l.Ar();if(null!==c){switch(this.zi.mode){case 1:c=ji(c,this.Ru);break;case 2:c=Li(c,a.St);break;case 3:c=Di(c,a.St)}if(r=null===r?c:r.Nn(f(c)),null!==l){var p=l.Br();null!==p&&(e=Math.max(e,p.above),o=Math.max(e,p.below))}}}}}if(e===this.Bu&&o===this.Lu||(this.Bu=e,this.Lu=o,this.Pu=null,this.Ku()),null!==r){if(r.pr()===r.gr()){var v=this.ya(),d=5*(null===v||this.vr()||this.Zu()?1:v.je());this.Nu()&&(r=Pi(r,this.Ru)),r=new vi(r.pr()-d,r.gr()+d),this.Nu()&&(r=ji(r,this.Ru))}if(this.Nu()){var y=Pi(r,this.Ru),g=Oi(y);if(i=g,n=this.Ru,i.lu!==n.lu||i.fu!==n.fu){var _=null!==this.Su?Pi(this.Su,this.Ru):null;this.Ru=g,r=ji(y,g),null!==_&&(this.Su=ji(_,g))}}this.Gu(r)}else null===this.Tr&&(this.Gu(new vi(-.5,.5)),this.Ru=Oi(null));this.Tu.Du=!0}},t.prototype.ua=function(){var t=this;return this.vr()?Ti:this.Zu()?Ai:this.Nu()?function(i){return Ri(i,t.Ru)}:null},t.prototype.ga=function(t,i){return void 0===this.qu.priceFormatter?(void 0===i&&(i=this.qe()),i.format(t)):this.qu.priceFormatter(t)},t}(),Ji=function(){function t(t,i){this.Ou=[],this.Ca=new Map,this.xu=0,this.hh=0,this.Sa=1e3,this.Vu=null,this.Ta=new B,this.Da=t,this.pi=i,this.Aa=new ki(this);var n=i.W();this.Ba=this.La("left",n.leftPriceScale),this.Ea=this.La("right",n.rightPriceScale),this.Ba.ta().u(this.Fa.bind(this,this.Ba),this),this.Ea.ta().u(this.Fa.bind(this,this.Ba),this),this.Oa(n)}return t.prototype.Oa=function(t){if(t.leftPriceScale&&this.Ba.Pr(t.leftPriceScale),t.rightPriceScale&&this.Ea.Pr(t.rightPriceScale),t.localization&&(this.Ba.Xe(),this.Ea.Xe()),t.overlayPriceScales)for(var i=0,n=Array.from(this.Ca.values());i<n.length;i++){var r=f(n[i][0].Ct());r.Pr(t.overlayPriceScales),t.localization&&r.Xe()}},t.prototype.Va=function(t){switch(t){case"left":return this.Ba;case"right":return this.Ea}return this.Ca.has(t)?c(this.Ca.get(t))[0].Ct():null},t.prototype.g=function(){this.jt().Pa().M(this),this.Ba.ta().M(this),this.Ea.ta().M(this),this.Ou.forEach((function(t){t.g&&t.g()})),this.Ta.m()},t.prototype.Wa=function(){return this.Sa},t.prototype.za=function(t){this.Sa=t},t.prototype.jt=function(){return this.pi},t.prototype.Ht=function(){return this.hh},t.prototype.Yt=function(){return this.xu},t.prototype.Ra=function(t){this.hh=t,this.Ia()},t.prototype.ia=function(t){var i=this;this.xu=t,this.Ba.ia(t),this.Ea.ia(t),this.Ou.forEach((function(n){if(i.lh(n)){var r=n.Ct();null!==r&&r.ia(t)}})),this.Ia()},t.prototype.Ge=function(){return this.Ou},t.prototype.lh=function(t){var i=t.Ct();return null===i||this.Ba!==i&&this.Ea!==i},t.prototype.la=function(t,i,n){var r=void 0!==n?n:this.qa().ja+1;this.Ua(t,i,r)},t.prototype.ca=function(t){var i=this.Ou.indexOf(t);l(-1!==i,"removeDataSource: invalid data source"),this.Ou.splice(i,1);var n=f(t.Ct()).Ke();if(this.Ca.has(n)){var r=c(this.Ca.get(n)),e=r.indexOf(t);-1!==e&&(r.splice(e,1),0===r.length&&this.Ca.delete(n))}var o=t.Ct();o&&o.Ge().indexOf(t)>=0&&o.ca(t),null!==o&&(o.fa(),this.Ha(o)),this.Vu=null},t.prototype._h=function(t){return t===this.Ba?"left":t===this.Ea?"right":"overlay"},t.prototype.Ya=function(){return this.Ba},t.prototype.$a=function(){return this.Ea},t.prototype.Ka=function(t,i){t.da(i)},t.prototype.Xa=function(t,i){t.wa(i),this.Ia()},t.prototype.Za=function(t){t.Ma()},t.prototype.Ja=function(t,i){t.ba(i)},t.prototype.Ga=function(t,i){t.ma(i),this.Ia()},t.prototype.Qa=function(t){t.pa()},t.prototype.Ia=function(){this.Ou.forEach((function(t){t.hn()}))},t.prototype.ji=function(){var t=null;return this.pi.W().rightPriceScale.visible&&0!==this.Ea.Ge().length?t=this.Ea:this.pi.W().leftPriceScale.visible&&0!==this.Ba.Ge().length?t=this.Ba:0!==this.Ou.length&&(t=this.Ou[0].Ct()),null===t&&(t=this.Ea),t},t.prototype.fh=function(){var t=null;return this.pi.W().rightPriceScale.visible?t=this.Ea:this.pi.W().leftPriceScale.visible&&(t=this.Ba),t},t.prototype.Ha=function(t){null!==t&&t.Xu()&&this.io(t)},t.prototype.no=function(t){var i=this.Da.ss();t.$u({_n:!0}),null!==i&&t.Na(i),this.Ia()},t.prototype.so=function(){this.io(this.Ba),this.io(this.Ea)},t.prototype.ho=function(){var t=this;this.Ha(this.Ba),this.Ha(this.Ea),this.Ou.forEach((function(i){t.lh(i)&&t.Ha(i.Ct())})),this.Ia(),this.pi.Wr()},t.prototype.oa=function(){return null===this.Vu&&(this.Vu=Vi(this.Ou)),this.Vu},t.prototype.ro=function(){return this.Ta},t.prototype.eo=function(){return this.Aa},t.prototype.io=function(t){var i=t.ka();if(i&&i.length>0&&!this.Da.wi()){var n=this.Da.ss();null!==n&&t.Na(n)}t.hn()},t.prototype.qa=function(){var t=this.oa();if(0===t.length)return{uo:0,ja:0};for(var i=0,n=0,r=0;r<t.length;r++){var e=t[r].xi();null!==e&&(e<i&&(i=e),e>n&&(n=e))}return{uo:i,ja:n}},t.prototype.Ua=function(t,i,n){var r=this.Va(i);if(null===r&&(r=this.La(i,this.pi.W().overlayPriceScales)),this.Ou.push(t),!st(i)){var e=this.Ca.get(i)||[];e.push(t),this.Ca.set(i,e)}r.la(t),t.Si(r),t.Ci(n),this.Ha(r),this.Vu=null},t.prototype.Fa=function(t,i,n){i.mh!==n.mh&&this.io(t)},t.prototype.La=function(t,i){var n=x({visible:!0,autoScale:!0},D(i)),r=new Xi(t,n,this.pi.W().layout,this.pi.W().localization);return r.ia(this.Yt()),r},t}(),Zi=function(t){return t.getUTCFullYear()};var Ui=function(){function t(t,i){void 0===t&&(t="yyyy-MM-dd"),void 0===i&&(i="default"),this.ao=t,this.oo=i}return t.prototype.lo=function(t){return function(t,i,n){return i.replace(/yyyy/g,function(t){return ut(Zi(t),4)}(t)).replace(/yy/g,function(t){return ut(Zi(t)%100,2)}(t)).replace(/MMMM/g,function(t,i){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"long"})}(t,n)).replace(/MMM/g,function(t,i){return new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"short"})}(t,n)).replace(/MM/g,function(t){return ut(function(t){return t.getUTCMonth()+1}(t),2)}(t)).replace(/dd/g,function(t){return ut(function(t){return t.getUTCDate()}(t),2)}(t))}(t,this.ao,this.oo)},t}(),Ki=function(){function t(t){this.fo=t||"%h:%m:%s"}return t.prototype.lo=function(t){return this.fo.replace("%h",ut(t.getUTCHours(),2)).replace("%m",ut(t.getUTCMinutes(),2)).replace("%s",ut(t.getUTCSeconds(),2))},t}(),Hi={co:"yyyy-MM-dd",vo:"%h:%m:%s",_o:" ",do:"default"},$i=function(){function t(t){void 0===t&&(t={});var i=x(x({},Hi),t);this.wo=new Ui(i.co,i.do),this.Mo=new Ki(i.vo),this.bo=i._o}return t.prototype.lo=function(t){return"".concat(this.wo.lo(t)).concat(this.bo).concat(this.Mo.lo(t))},t}(),qi=function(){function t(t,i){void 0===i&&(i=50),this.mo=0,this.po=1,this.yo=1,this.Gs=new Map,this.ko=new Map,this.No=t,this.xo=i}return t.prototype.lo=function(t){var i=void 0===t.Co?new Date(1e3*t.So).getTime():new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day)).getTime(),n=this.Gs.get(i);if(void 0!==n)return n.To;if(this.mo===this.xo){var r=this.ko.get(this.yo);this.ko.delete(this.yo),this.Gs.delete(c(r)),this.yo++,this.mo--}var e=this.No(t);return this.Gs.set(i,{To:e,Do:this.po}),this.ko.set(this.po,i),this.mo++,this.po++,e},t}(),Qi=function(){function t(t,i){l(t<=i,"right should be >= left"),this.Ao=t,this.Bo=i}return t.prototype.In=function(){return this.Ao},t.prototype.jn=function(){return this.Bo},t.prototype.Lo=function(){return this.Bo-this.Ao+1},t.prototype.Uh=function(t){return this.Ao<=t&&t<=this.Bo},t.prototype.br=function(t){return this.Ao===t.In()&&this.Bo===t.jn()},t}();function tn(t,i){return null===t||null===i?t===i:t.br(i)}var nn,rn=function(){function t(){this.Eo=new Map,this.Gs=null}return t.prototype.Fo=function(t,i){this.Oo(i),this.Gs=null;for(var n=i;n<t.length;++n){var r=t[n],e=this.Eo.get(r.Vo);void 0===e&&(e=[],this.Eo.set(r.Vo,e)),e.push({vs:n,rt:r.rt,Po:r.Vo})}},t.prototype.Wo=function(t,i){var n=Math.ceil(i/t);return null!==this.Gs&&this.Gs.zo===n||(this.Gs={au:this.Ro(n),zo:n}),this.Gs.au},t.prototype.Oo=function(t){if(0!==t){var i=[];this.Eo.forEach((function(n,r){t<=n[0].vs?i.push(r):n.splice(gt(n,t,(function(i){return i.vs<t})),1/0)}));for(var n=0,r=i;n<r.length;n++){var e=r[n];this.Eo.delete(e)}}else this.Eo.clear()},t.prototype.Ro=function(t){for(var i=[],n=0,r=Array.from(this.Eo.keys()).sort((function(t,i){return i-t}));n<r.length;n++){var e=r[n];if(this.Eo.get(e)){var o=i;i=[];for(var s=o.length,h=0,u=c(this.Eo.get(e)),a=u.length,l=1/0,f=-1/0,p=0;p<a;p++){for(var v=u[p],d=v.vs;h<s;){var y=o[h],g=y.vs;if(!(g<d)){l=g;break}h++,i.push(y),f=g,l=1/0}l-d>=t&&d-f>=t&&(i.push(v),f=d)}for(;h<s;h++)i.push(o[h])}}return i},t}(),en=function(){function t(t){this.Io=t}return t.prototype.jo=function(){return null===this.Io?null:new Qi(Math.floor(this.Io.In()),Math.ceil(this.Io.jn()))},t.prototype.qo=function(){return this.Io},t.Uo=function(){return new t(null)},t}();!function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(nn||(nn={}));var on,sn=function(){function t(t,i,n){this.hh=0,this.Ho=null,this.Yo=[],this.zu=null,this.Wu=null,this.$o=new rn,this.Ko=new Map,this.Xo=en.Uo(),this.Zo=!0,this.Jo=new B,this.Go=new B,this.Qo=new B,this.tl=null,this.il=null,this.nl=[],this.zi=i,this.qu=n,this.sl=i.rightOffset,this.hl=i.barSpacing,this.pi=t,this.rl()}return t.prototype.W=function(){return this.zi},t.prototype.el=function(t){k(this.qu,t),this.ul(),this.rl()},t.prototype.Pr=function(t,i){var n;k(this.zi,t),this.zi.fixLeftEdge&&this.al(),this.zi.fixRightEdge&&this.ol(),void 0!==t.barSpacing&&this.pi.gn(t.barSpacing),void 0!==t.rightOffset&&this.pi.yn(t.rightOffset),void 0!==t.minBarSpacing&&this.pi.gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.hl),this.ul(),this.rl(),this.Qo.m()},t.prototype.gi=function(t){var i;return(null===(i=this.Yo[t])||void 0===i?void 0:i.rt)||null},t.prototype.Ze=function(t,i){if(this.Yo.length<1)return null;if(t.So>this.Yo[this.Yo.length-1].rt.So)return i?this.Yo.length-1:null;var n=gt(this.Yo,t.So,(function(t,i){return t.rt.So<i}));return t.So<this.Yo[n].rt.So?i?n:null:n},t.prototype.wi=function(){return 0===this.hh||0===this.Yo.length||null===this.Ho},t.prototype.ss=function(){return this.ll(),this.Xo.jo()},t.prototype.fl=function(){return this.ll(),this.Xo.qo()},t.prototype.cl=function(){var t=this.ss();if(null===t)return null;var i={from:t.In(),to:t.jn()};return this.vl(i)},t.prototype.vl=function(t){var i=Math.round(t.from),n=Math.round(t.to),r=f(this._l()),e=f(this.dl());return{from:f(this.gi(Math.max(r,i))),to:f(this.gi(Math.min(e,n)))}},t.prototype.wl=function(t){return{from:f(this.Ze(t.from,!0)),to:f(this.Ze(t.to,!0))}},t.prototype.Ht=function(){return this.hh},t.prototype.Ra=function(t){if(isFinite(t)&&!(t<=0)&&this.hh!==t){if(this.zi.lockVisibleTimeRangeOnResize&&this.hh){var i=this.hl*t/this.hh;this.hl=i}if(this.zi.fixLeftEdge){var n=this.ss();if(null!==n&&n.In()<=0){var r=this.hh-t;this.sl-=Math.round(r/this.hl)+1}}this.hh=t,this.Zo=!0,this.Ml(),this.bl()}},t.prototype.At=function(t){if(this.wi()||!T(t))return 0;var i=this.ml()+this.sl-t;return this.hh-(i+.5)*this.hl-1},t.prototype.es=function(t,i){for(var n=this.ml(),r=void 0===i?0:i.from,e=void 0===i?t.length:i.to,o=r;o<e;o++){var s=t[o].rt,h=n+this.sl-s,u=this.hh-(h+.5)*this.hl-1;t[o].tt=u}},t.prototype.pl=function(t){return Math.ceil(this.gl(t))},t.prototype.yn=function(t){this.Zo=!0,this.sl=t,this.bl(),this.pi.yl(),this.pi.Wr()},t.prototype.ws=function(){return this.hl},t.prototype.gn=function(t){this.kl(t),this.bl(),this.pi.yl(),this.pi.Wr()},t.prototype.Nl=function(){return this.sl},t.prototype.au=function(){if(this.wi())return null;if(null!==this.il)return this.il;for(var t=this.hl,i=5*(this.pi.W().layout.fontSize+4),n=Math.round(i/t),r=f(this.ss()),e=Math.max(r.In(),r.In()-n),o=Math.max(r.jn(),r.jn()-n),s=this.$o.Wo(t,i),h=this._l()+n,u=this.dl()-n,a=this.xl(),l=this.zi.fixLeftEdge||a,c=this.zi.fixRightEdge||a,p=0,v=0,d=s;v<d.length;v++){var y=d[v];if(e<=y.vs&&y.vs<=o){var g=void 0;p<this.nl.length?((g=this.nl[p]).su=this.At(y.vs),g.yu=this.Cl(y.rt,y.Po),g.Po=y.Po):(g={Sl:!1,su:this.At(y.vs),yu:this.Cl(y.rt,y.Po),Po:y.Po},this.nl.push(g)),this.hl>i/2&&!a?g.Sl=!1:g.Sl=l&&y.vs<=h||c&&y.vs>=u,p++}}return this.nl.length=p,this.il=this.nl,this.nl},t.prototype.Tl=function(){this.Zo=!0,this.gn(this.zi.barSpacing),this.yn(this.zi.rightOffset)},t.prototype.Dl=function(t){this.Zo=!0,this.Ho=t,this.bl(),this.al()},t.prototype.Al=function(t,i){var n=this.gl(t),r=this.ws(),e=r+i*(r/10);this.gn(e),this.zi.rightBarStaysOnScroll||this.yn(this.Nl()+(n-this.gl(t)))},t.prototype.da=function(t){this.zu&&this.pa(),null===this.Wu&&null===this.tl&&(this.wi()||(this.Wu=t,this.Bl()))},t.prototype.wa=function(t){if(null!==this.tl){var i=kt(this.hh-t,0,this.hh),n=kt(this.hh-f(this.Wu),0,this.hh);0!==i&&0!==n&&this.gn(this.tl.ws*i/n)}},t.prototype.Ma=function(){null!==this.Wu&&(this.Wu=null,this.Ll())},t.prototype.ba=function(t){null===this.zu&&null===this.tl&&(this.wi()||(this.zu=t,this.Bl()))},t.prototype.ma=function(t){if(null!==this.zu){var i=(this.zu-t)/this.ws();this.sl=f(this.tl).Nl+i,this.Zo=!0,this.bl()}},t.prototype.pa=function(){null!==this.zu&&(this.zu=null,this.Ll())},t.prototype.El=function(){this.Fl(this.zi.rightOffset)},t.prototype.Fl=function(t,i){var n=this;if(void 0===i&&(i=400),!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");var r=this.sl,e=performance.now();!function o(){var s=(performance.now()-e)/i,h=s>=1,u=h?t:r+(t-r)*s;n.yn(u),h||setTimeout(o,20)}()},t.prototype.vt=function(t,i){this.Zo=!0,this.Yo=t,this.$o.Fo(t,i),this.bl()},t.prototype.Ol=function(){return this.Jo},t.prototype.Vl=function(){return this.Go},t.prototype.Pl=function(){return this.Qo},t.prototype.ml=function(){return this.Ho||0},t.prototype.Wl=function(t){var i=t.Lo();this.kl(this.hh/i),this.sl=t.jn()-this.ml(),this.bl(),this.Zo=!0,this.pi.yl(),this.pi.Wr()},t.prototype.zl=function(){var t=this._l(),i=this.dl();null!==t&&null!==i&&this.Wl(new Qi(t,i+this.zi.rightOffset))},t.prototype.Rl=function(t){var i=new Qi(t.from,t.to);this.Wl(i)},t.prototype.yi=function(t){return void 0!==this.qu.timeFormatter?this.qu.timeFormatter(t.Co||t.So):this.Il.lo(new Date(1e3*t.So))},t.prototype.xl=function(){var t=this.pi.W(),i=t.handleScroll,n=t.handleScale;return!(i.horzTouchDrag||i.mouseWheel||i.pressedMouseMove||i.vertTouchDrag||n.axisDoubleClickReset||n.axisPressedMouseMove.time||n.mouseWheel||n.pinch)},t.prototype._l=function(){return 0===this.Yo.length?null:0},t.prototype.dl=function(){return 0===this.Yo.length?null:this.Yo.length-1},t.prototype.jl=function(t){return(this.hh-1-t)/this.hl},t.prototype.gl=function(t){var i=this.jl(t),n=this.ml()+this.sl-i;return Math.round(1e6*n)/1e6},t.prototype.kl=function(t){var i=this.hl;this.hl=t,this.Ml(),i!==this.hl&&(this.Zo=!0,this.ql())},t.prototype.ll=function(){if(this.Zo)if(this.Zo=!1,this.wi())this.Ul(en.Uo());else{var t=this.ml(),i=this.hh/this.hl,n=this.sl+t,r=new Qi(n-i+1,n);this.Ul(new en(r))}},t.prototype.Ml=function(){var t=this.Hl();if(this.hl<t&&(this.hl=t,this.Zo=!0),0!==this.hh){var i=.5*this.hh;this.hl>i&&(this.hl=i,this.Zo=!0)}},t.prototype.Hl=function(){return this.zi.fixLeftEdge&&this.zi.fixRightEdge&&0!==this.Yo.length?this.hh/this.Yo.length:this.zi.minBarSpacing},t.prototype.bl=function(){var t=this.Yl();this.sl>t&&(this.sl=t,this.Zo=!0);var i=this.$l();null!==i&&this.sl<i&&(this.sl=i,this.Zo=!0)},t.prototype.$l=function(){var t=this._l(),i=this.Ho;return null===t||null===i?null:t-i-1+(this.zi.fixLeftEdge?this.hh/this.hl:Math.min(2,this.Yo.length))},t.prototype.Yl=function(){return this.zi.fixRightEdge?0:this.hh/this.hl-Math.min(2,this.Yo.length)},t.prototype.Bl=function(){this.tl={ws:this.ws(),Nl:this.Nl()}},t.prototype.Ll=function(){this.tl=null},t.prototype.Cl=function(t,i){var n=this,r=this.Ko.get(i);return void 0===r&&(r=new qi((function(t){return n.Kl(t,i)})),this.Ko.set(i,r)),r.lo(t)},t.prototype.Kl=function(t,i){var n,r=function(t,i,n){switch(t){case 0:case 10:return i?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return i?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(i,this.zi.timeVisible,this.zi.secondsVisible);return void 0!==this.zi.tickMarkFormatter?this.zi.tickMarkFormatter(null!==(n=t.Co)&&void 0!==n?n:t.So,r,this.qu.locale):function(t,i,n){var r={};switch(i){case 0:r.year="numeric";break;case 1:r.month="short";break;case 2:r.day="numeric";break;case 3:r.hour12=!1,r.hour="2-digit",r.minute="2-digit";break;case 4:r.hour12=!1,r.hour="2-digit",r.minute="2-digit",r.second="2-digit"}var e=void 0===t.Co?new Date(1e3*t.So):new Date(Date.UTC(t.Co.year,t.Co.month-1,t.Co.day));return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()).toLocaleString(n,r)}(t,r,this.qu.locale)},t.prototype.Ul=function(t){var i=this.Xo;this.Xo=t,tn(i.jo(),this.Xo.jo())||this.Jo.m(),tn(i.qo(),this.Xo.qo())||this.Go.m(),this.ql()},t.prototype.ql=function(){this.il=null},t.prototype.ul=function(){this.ql(),this.Ko.clear()},t.prototype.rl=function(){var t=this.qu.dateFormat;this.zi.timeVisible?this.Il=new $i({co:t,vo:this.zi.secondsVisible?"%h:%m:%s":"%h:%m",_o:"   ",do:this.qu.locale}):this.Il=new Ui(t,this.qu.locale)},t.prototype.al=function(){if(this.zi.fixLeftEdge){var t=this._l();if(null!==t){var i=this.ss();if(null!==i){var n=i.In()-t;if(n<0){var r=this.sl-n-1;this.yn(r)}this.Ml()}}}},t.prototype.ol=function(){this.bl(),this.Ml()},t}(),hn=function(t){function i(i){var n=t.call(this)||this;return n.Xl=new Map,n.Bt=i,n}return C(i,t),i.prototype.Y=function(t){},i.prototype.K=function(t){if(this.Bt.yt){t.save();for(var i=0,n=0,r=this.Bt.Zl;n<r.length;n++)if(0!==(u=r[n]).Gt.length){t.font=u.T;var e=this.Jl(t,u.Gt);e>this.Bt.Ht?u.Al=this.Bt.Ht/e:u.Al=1,i+=u.Gl*u.Al}var o=0;switch(this.Bt.Ql){case"top":o=0;break;case"center":o=Math.max((this.Bt.Yt-i)/2,0);break;case"bottom":o=Math.max(this.Bt.Yt-i,0)}t.fillStyle=this.Bt.A;for(var s=0,h=this.Bt.Zl;s<h.length;s++){var u=h[s];t.save();var a=0;switch(this.Bt.tf){case"left":t.textAlign="left",a=u.Gl/2;break;case"center":t.textAlign="center",a=this.Bt.Ht/2;break;case"right":t.textAlign="right",a=this.Bt.Ht-1-u.Gl/2}t.translate(a,o),t.textBaseline="top",t.font=u.T,t.scale(u.Al,u.Al),t.fillText(u.Gt,0,u.if),t.restore(),o+=u.Gl*u.Al}t.restore()}},i.prototype.Jl=function(t,i){var n=this.nf(t.font),r=n.get(i);return void 0===r&&(r=t.measureText(i).width,n.set(i,r)),r},i.prototype.nf=function(t){var i=this.Xl.get(t);return void 0===i&&(i=new Map,this.Xl.set(t,i)),i},i}(F),un=function(){function t(t){this.ft=!0,this.Wt={yt:!1,A:"",Yt:0,Ht:0,Zl:[],Ql:"center",tf:"center"},this.zt=new hn(this.Wt),this.Rt=t}return t.prototype.vt=function(){this.ft=!0},t.prototype.dt=function(t,i){return this.ft&&(this.wt(t,i),this.ft=!1),this.zt},t.prototype.wt=function(t,i){var n=this.Rt.W(),r=this.Wt;r.yt=n.visible,r.yt&&(r.A=n.color,r.Ht=i,r.Yt=t,r.tf=n.horzAlign,r.Ql=n.vertAlign,r.Zl=[{Gt:n.text,T:P(n.fontSize,n.fontFamily,n.fontStyle),Gl:1.2*n.fontSize,if:0,Al:0}])},t}(),an=function(t){function i(i,n){var r=t.call(this)||this;return r.zi=n,r.Hi=new un(r),r}return C(i,t),i.prototype.nn=function(){return[]},i.prototype.tn=function(){return[this.Hi]},i.prototype.W=function(){return this.zi},i.prototype.hn=function(){this.Hi.vt()},i}(et);!function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"}(on||(on={}));var ln,cn,fn,pn=function(){function t(t,i){this.sf=[],this.hf=[],this.hh=0,this.rf=null,this.ef=null,this.uf=new B,this.af=new B,this.lf=null,this.ff=t,this.zi=i,this.cf=new O(this),this.Da=new sn(this,i.timeScale,this.zi.localization),this.ct=new ot(this,i.crosshair),this.vf=new xi(i.crosshair),this._f=new an(this,i.watermark),this.df(),this.sf[0].za(2e3),this.wf=this.Mf(0),this.bf=this.Mf(1)}return t.prototype.Ce=function(){this.mf(new ht(3))},t.prototype.Wr=function(){this.mf(new ht(2))},t.prototype.We=function(){this.mf(new ht(1))},t.prototype.Se=function(t){var i=this.pf(t);this.mf(i)},t.prototype.gf=function(){return this.ef},t.prototype.yf=function(t){var i=this.ef;this.ef=t,null!==i&&this.Se(i.kf),null!==t&&this.Se(t.kf)},t.prototype.W=function(){return this.zi},t.prototype.Pr=function(t){k(this.zi,t),this.sf.forEach((function(i){return i.Oa(t)})),void 0!==t.timeScale&&this.Da.Pr(t.timeScale),void 0!==t.localization&&this.Da.el(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.uf.m(),this.wf=this.Mf(0),this.bf=this.Mf(1),this.Ce()},t.prototype.Nf=function(t,i){if("left"!==t)if("right"!==t){var n=this.xf(t);null!==n&&(n.Ct.Pr(i),this.uf.m())}else this.Pr({rightPriceScale:i});else this.Pr({leftPriceScale:i})},t.prototype.xf=function(t){for(var i=0,n=this.sf;i<n.length;i++){var r=n[i],e=r.Va(t);if(null!==e)return{It:r,Ct:e}}return null},t.prototype.bt=function(){return this.Da},t.prototype.Cf=function(){return this.sf},t.prototype.Sf=function(){return this._f},t.prototype.Tf=function(){return this.ct},t.prototype.Df=function(){return this.af},t.prototype.Af=function(t,i){t.ia(i),this.yl()},t.prototype.Ra=function(t){this.hh=t,this.Da.Ra(this.hh),this.sf.forEach((function(i){return i.Ra(t)})),this.yl()},t.prototype.df=function(t){var i=new Ji(this.Da,this);void 0!==t?this.sf.splice(t,0,i):this.sf.push(i);var n=void 0===t?this.sf.length-1:t,r=new ht(3);return r.cn(n,{vn:0,_n:!0}),this.mf(r),i},t.prototype.Ka=function(t,i,n){t.Ka(i,n)},t.prototype.Xa=function(t,i,n){t.Xa(i,n),this.Te(),this.mf(this.Bf(t,2))},t.prototype.Za=function(t,i){t.Za(i),this.mf(this.Bf(t,2))},t.prototype.Ja=function(t,i,n){i.Xu()||t.Ja(i,n)},t.prototype.Ga=function(t,i,n){i.Xu()||(t.Ga(i,n),this.Te(),this.mf(this.Bf(t,2)))},t.prototype.Qa=function(t,i){i.Xu()||(t.Qa(i),this.mf(this.Bf(t,2)))},t.prototype.no=function(t,i){t.no(i),this.mf(this.Bf(t,2))},t.prototype.Lf=function(t){this.Da.da(t)},t.prototype.Ef=function(t,i){var n=this.bt();if(!n.wi()&&0!==i){var r=n.Ht();t=Math.max(1,Math.min(t,r)),n.Al(t,i),this.yl()}},t.prototype.Ff=function(t){this.Of(0),this.Vf(t),this.Pf()},t.prototype.Wf=function(t){this.Da.wa(t),this.yl()},t.prototype.zf=function(){this.Da.Ma(),this.Wr()},t.prototype.Of=function(t){this.rf=t,this.Da.ba(t)},t.prototype.Vf=function(t){var i=!1;return null!==this.rf&&Math.abs(t-this.rf)>20&&(this.rf=null,i=!0),this.Da.ma(t),this.yl(),i},t.prototype.Pf=function(){this.Da.pa(),this.Wr(),this.rf=null},t.prototype._t=function(){return this.hf},t.prototype.Rf=function(t,i,n){this.ct.Yi(t,i);var r=NaN,e=this.Da.pl(t),o=this.Da.ss();null!==o&&(e=Math.min(Math.max(o.In(),e),o.jn()));var s=n.ji(),h=s.kt();null!==h&&(r=s.qi(i,h)),r=this.vf.Je(r,e,n),this.ct.Zi(e,r,n),this.We(),this.af.m(this.ct.Mt(),{x:t,y:i})},t.prototype.If=function(){this.Tf().Gi(),this.We(),this.af.m(null,null)},t.prototype.Te=function(){var t=this.ct.It();if(null!==t){var i=this.ct.Ki(),n=this.ct.Xi();this.Rf(i,n,t)}this.ct.hn()},t.prototype.jf=function(t,i,n){var r=this.Da.gi(0);void 0!==i&&void 0!==n&&this.Da.vt(i,n);var e=this.Da.gi(0),o=this.Da.ml(),s=this.Da.ss();if(null!==s&&null!==r&&null!==e){var h=s.Uh(o),u=r.So>e.So,a=null!==t&&t>o&&!u,l=h&&this.Da.W().shiftVisibleRangeOnNewBar;if(a&&!l){var c=t-o;this.Da.yn(this.Da.Nl()-c)}}this.Da.Dl(t)},t.prototype.Be=function(t){null!==t&&t.ho()},t.prototype.oh=function(t){var i=this.sf.find((function(i){return i.oa().includes(t)}));return void 0===i?null:i},t.prototype.yl=function(){this._f.hn(),this.sf.forEach((function(t){return t.ho()})),this.Te()},t.prototype.g=function(){this.sf.forEach((function(t){return t.g()})),this.sf.length=0,this.zi.localization.priceFormatter=void 0,this.zi.localization.timeFormatter=void 0},t.prototype.qf=function(){return this.cf},t.prototype.dh=function(){return this.cf.W()},t.prototype.Pa=function(){return this.uf},t.prototype.Uf=function(t,i){var n=this.sf[0],r=this.Hf(i,t,n);return this.hf.push(r),1===this.hf.length?this.Ce():this.Wr(),r},t.prototype.Yf=function(t){var i=this.oh(t),n=this.hf.indexOf(t);l(-1!==n,"Series not found"),this.hf.splice(n,1),f(i).ca(t),t.g&&t.g()},t.prototype.xe=function(t,i){var n=f(this.oh(t));n.ca(t);var r=this.xf(i);if(null===r){var e=t.xi();n.la(t,i,e)}else e=r.It===n?t.xi():void 0,r.It.la(t,i,e)},t.prototype.zl=function(){var t=new ht(2);t.Mn(),this.mf(t)},t.prototype.$f=function(t){var i=new ht(2);i.mn(t),this.mf(i)},t.prototype.pn=function(){var t=new ht(2);t.pn(),this.mf(t)},t.prototype.gn=function(t){var i=new ht(2);i.gn(t),this.mf(i)},t.prototype.yn=function(t){var i=new ht(2);i.yn(t),this.mf(i)},t.prototype.Kf=function(){return this.zi.rightPriceScale.visible?"right":"left"},t.prototype.Xf=function(){return this.bf},t.prototype.Zf=function(){return this.wf},t.prototype.Dt=function(t){var i=this.bf,n=this.wf;if(i===n)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.lf||this.lf.Pn!==n||this.lf.Wn!==i)this.lf={Pn:n,Wn:i,Jf:new Map};else{var r=this.lf.Jf.get(t);if(void 0!==r)return r}var e=function(t,i,n){var r=b(t),e=r[0],o=r[1],s=r[2],h=r[3],u=b(i),a=u[0],l=u[1],c=u[2],f=u[3],p=[d(e+n*(a-e)),d(o+n*(l-o)),d(s+n*(c-s)),y(h+n*(f-h))];return"rgba(".concat(p[0],", ").concat(p[1],", ").concat(p[2],", ").concat(p[3],")")}(n,i,t/100);return this.lf.Jf.set(t,e),e},t.prototype.Bf=function(t,i){var n=new ht(i);if(null!==t){var r=this.sf.indexOf(t);n.cn(r,{vn:i})}return n},t.prototype.pf=function(t,i){return void 0===i&&(i=2),this.Bf(this.oh(t),i)},t.prototype.mf=function(t){this.ff&&this.ff(t),this.sf.forEach((function(t){return t.eo().ou().vt()}))},t.prototype.Hf=function(t,i,n){var r=new Ci(this,t,i),e=void 0!==t.priceScaleId?t.priceScaleId:this.Kf();return n.la(r,e),st(e)||r.Pr(t),r},t.prototype.Mf=function(t){var i=this.zi.layout;return"gradient"===i.background.type?0===t?i.background.topColor:i.background.bottomColor:i.background.color},t}();function vn(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}function dn(t){return!E(t)&&!L(t)}function yn(t){return E(t)}!function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"}(ln||(ln={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(cn||(cn={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(fn||(fn={}));var gn=function(){function t(t,i){this.Ft=t,this.Ot=i}return t.prototype.br=function(t){return this.Ft===t.Ft&&this.Ot===t.Ot},t}();function _n(t){return t.ownerDocument&&t.ownerDocument.defaultView&&t.ownerDocument.defaultView.devicePixelRatio||1}function wn(t){var i=f(t.getContext("2d"));return i.setTransform(1,0,0,1,0,0),i}function mn(t,i){var n=t.createElement("canvas"),r=_n(n);return n.style.width="".concat(i.Ft,"px"),n.style.height="".concat(i.Ot,"px"),n.width=i.Ft*r,n.height=i.Ot*r,n}function bn(t,i){var n=f(t.ownerDocument).createElement("canvas");t.appendChild(n);var e,o=(void 0===(e={allowDownsampling:!1})&&(e=r),new h(n,e));return o.resizeCanvas({width:i.Ft,height:i.Ot}),o}function Mn(t,i){return t.Gf-i.Gf}function Sn(t,i,n){var r=(t.Gf-i.Gf)/(t.rt-i.rt);return Math.sign(r)*Math.min(Math.abs(r),n)}var Cn=function(){function t(t,i,n,r){this.Qf=null,this.tc=null,this.ic=null,this.nc=null,this.sc=null,this.hc=0,this.rc=0,this.ec=!1,this.uc=t,this.ac=i,this.oc=n,this.Cn=r}return t.prototype.lc=function(t,i){if(null!==this.Qf){if(this.Qf.rt===i)return void(this.Qf.Gf=t);if(Math.abs(this.Qf.Gf-t)<this.Cn)return}this.nc=this.ic,this.ic=this.tc,this.tc=this.Qf,this.Qf={rt:i,Gf:t}},t.prototype.xh=function(t,i){if(null!==this.Qf&&null!==this.tc&&!(i-this.Qf.rt>50)){var n=0,r=Sn(this.Qf,this.tc,this.ac),e=Mn(this.Qf,this.tc),o=[r],s=[e];if(n+=e,null!==this.ic){var h=Sn(this.tc,this.ic,this.ac);if(Math.sign(h)===Math.sign(r)){var u=Mn(this.tc,this.ic);if(o.push(h),s.push(u),n+=u,null!==this.nc){var a=Sn(this.ic,this.nc,this.ac);if(Math.sign(a)===Math.sign(r)){var l=Mn(this.ic,this.nc);o.push(a),s.push(l),n+=l}}}}for(var c,f,p,v=0,d=0;d<o.length;++d)v+=s[d]/n*o[d];Math.abs(v)<this.uc||(this.sc={Gf:t,rt:i},this.rc=v,this.hc=(c=Math.abs(v),f=this.oc,p=Math.log(f),Math.log(1*p/-c)/p))}},t.prototype.fc=function(t){var i=f(this.sc),n=t-i.rt;return i.Gf+this.rc*(Math.pow(this.oc,n)-1)/Math.log(this.oc)},t.prototype.cc=function(t){return null===this.sc||this.vc(t)===this.hc},t.prototype._c=function(){return this.ec},t.prototype.dc=function(){this.ec=!0},t.prototype.vc=function(t){var i=t-f(this.sc).rt;return Math.min(i,this.hc)},t}(),xn="undefined"!=typeof window;function zn(){return!!xn&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Bn(){return!!xn&&/iPhone|iPad|iPod/.test(window.navigator.platform)}var kn=function(){function t(t,i,n){var r=this;this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY},this.kc=null,this.Nc=!1,this.xc=null,this.Cc=null,this.Sc=!1,this.Tc=!1,this.Dc=!1,this.Ac=null,this.Bc=null,this.Lc=null,this.Ec=null,this.Fc=null,this.Oc=null,this.Vc=null,this.Pc=0,this.Wc=!1,this.zc=!1,this.Rc=!1,this.Ic=0,this.jc=null,this.qc=!Bn(),this.Uc=function(t){r.Hc(t)},this.Yc=function(t){if(r.$c(t)){var i=r.Kc(t);++r.mc,r.gc&&r.mc>1&&(r.Zc(Ln(t),r.yc).Xc<30&&!r.Dc&&r.Jc(i,r.Qc.Gc),r.tv())}else i=r.Kc(t),++r.wc,r.Mc&&r.wc>1&&(r.Zc(Ln(t),r.bc).Xc<5&&!r.Tc&&r.iv(i,r.Qc.nv),r.sv())},this.hv=t,this.Qc=i,this.zi=n,this.rv()}return t.prototype.g=function(){null!==this.Ac&&(this.Ac(),this.Ac=null),null!==this.Bc&&(this.Bc(),this.Bc=null),null!==this.Ec&&(this.Ec(),this.Ec=null),null!==this.Fc&&(this.Fc(),this.Fc=null),null!==this.Oc&&(this.Oc(),this.Oc=null),null!==this.Lc&&(this.Lc(),this.Lc=null),this.ev(),this.sv()},t.prototype.uv=function(t){var i=this;this.Ec&&this.Ec();var n=this.av.bind(this);if(this.Ec=function(){i.hv.removeEventListener("mousemove",n)},this.hv.addEventListener("mousemove",n),!this.$c(t)){var r=this.Kc(t);this.iv(r,this.Qc.ov),this.qc=!0}},t.prototype.sv=function(){null!==this.Mc&&clearTimeout(this.Mc),this.wc=0,this.Mc=null,this.bc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.tv=function(){null!==this.gc&&clearTimeout(this.gc),this.mc=0,this.gc=null,this.yc={tt:Number.NEGATIVE_INFINITY,it:Number.POSITIVE_INFINITY}},t.prototype.av=function(t){if(!this.Rc&&null===this.Cc&&!this.$c(t)){var i=this.Kc(t);this.iv(i,this.Qc.lv),this.qc=!0}},t.prototype.fv=function(t){var i=Dn(t.changedTouches,f(this.jc));if(null!==i&&(this.Ic=An(t),null===this.Vc&&!this.zc)){this.Wc=!0;var n=this.Zc(Ln(i),f(this.Cc)),r=n.cv,e=n.vv,o=n.Xc;if(this.Sc||!(o<5)){if(!this.Sc){var s=.5*r,h=e>=s&&!this.zi._v(),u=s>e&&!this.zi.dv();h||u||(this.zc=!0),this.Sc=!0,this.Dc=!0,this.ev(),this.tv()}if(!this.zc){var a=this.Kc(t,i);this.Jc(a,this.Qc.wv),Tn(t)}}}},t.prototype.Mv=function(t){if(0===t.button&&(this.Zc(Ln(t),f(this.xc)).Xc>=5&&(this.Tc=!0,this.sv()),this.Tc)){var i=this.Kc(t);this.iv(i,this.Qc.bv)}},t.prototype.Zc=function(t,i){var n=Math.abs(i.tt-t.tt),r=Math.abs(i.it-t.it);return{cv:n,vv:r,Xc:n+r}},t.prototype.mv=function(t){var i=Dn(t.changedTouches,f(this.jc));if(null===i&&0===t.touches.length&&(i=t.changedTouches[0]),null!==i){this.jc=null,this.Ic=An(t),this.ev(),this.Cc=null,this.Oc&&(this.Oc(),this.Oc=null);var n=this.Kc(t,i);this.Jc(n,this.Qc.pv),++this.mc,this.gc&&this.mc>1?(this.Zc(Ln(i),this.yc).Xc<30&&!this.Dc&&this.Jc(n,this.Qc.Gc),this.tv()):this.Dc||(this.Jc(n,this.Qc.gv),this.Qc.gv&&Tn(t)),0===this.mc&&Tn(t),0===t.touches.length&&this.Nc&&(this.Nc=!1,Tn(t))}},t.prototype.Hc=function(t){if(0===t.button){var i=this.Kc(t);this.xc=null,this.Rc=!1,this.Fc&&(this.Fc(),this.Fc=null),zn()&&this.hv.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uc),this.$c(t)||(this.iv(i,this.Qc.yv),++this.wc,this.Mc&&this.wc>1?(this.Zc(Ln(t),this.bc).Xc<5&&!this.Tc&&this.iv(i,this.Qc.nv),this.sv()):this.Tc||this.iv(i,this.Qc.kv))}},t.prototype.ev=function(){null!==this.kc&&(clearTimeout(this.kc),this.kc=null)},t.prototype.Nv=function(t){if(null===this.jc){var i=t.changedTouches[0];this.jc=i.identifier,this.Ic=An(t);var n=this.hv.ownerDocument.documentElement;this.Dc=!1,this.Sc=!1,this.zc=!1,this.Cc=Ln(i),this.Oc&&(this.Oc(),this.Oc=null);var r=this.fv.bind(this),e=this.mv.bind(this);this.Oc=function(){n.removeEventListener("touchmove",r),n.removeEventListener("touchend",e)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",e,{passive:!1}),this.ev(),this.kc=setTimeout(this.xv.bind(this,t),240);var o=this.Kc(t,i);this.Jc(o,this.Qc.Cv),this.gc||(this.mc=0,this.gc=setTimeout(this.tv.bind(this),500),this.yc=Ln(i))}},t.prototype.Sv=function(t){if(0===t.button){var i=this.hv.ownerDocument.documentElement;zn()&&i.addEventListener("mouseleave",this.Uc),this.Tc=!1,this.xc=Ln(t),this.Fc&&(this.Fc(),this.Fc=null);var n=this.Mv.bind(this),r=this.Hc.bind(this);if(this.Fc=function(){i.removeEventListener("mousemove",n),i.removeEventListener("mouseup",r)},i.addEventListener("mousemove",n),i.addEventListener("mouseup",r),this.Rc=!0,!this.$c(t)){var e=this.Kc(t);this.iv(e,this.Qc.Tv),this.Mc||(this.wc=0,this.Mc=setTimeout(this.sv.bind(this),500),this.bc=Ln(t))}}},t.prototype.rv=function(){var t=this;this.hv.addEventListener("mouseenter",this.uv.bind(this)),this.hv.addEventListener("touchcancel",this.ev.bind(this));var i=this.hv.ownerDocument,n=function(i){t.Qc.Dv&&(i.target&&t.hv.contains(i.target)||t.Qc.Dv())};this.Bc=function(){i.removeEventListener("touchstart",n)},this.Ac=function(){i.removeEventListener("mousedown",n)},i.addEventListener("mousedown",n),i.addEventListener("touchstart",n,{passive:!0}),Bn()&&(this.Lc=function(){t.hv.removeEventListener("dblclick",t.Yc)},this.hv.addEventListener("dblclick",this.Yc)),this.hv.addEventListener("mouseleave",this.Av.bind(this)),this.hv.addEventListener("touchstart",this.Nv.bind(this),{passive:!0}),function(t){xn&&void 0!==window.chrome&&t.addEventListener("mousedown",(function(t){if(1===t.button)return t.preventDefault(),!1}))}(this.hv),this.hv.addEventListener("mousedown",this.Sv.bind(this)),this.Bv(),this.hv.addEventListener("touchmove",(function(){}),{passive:!1})},t.prototype.Bv=function(){var t=this;void 0===this.Qc.Lv&&void 0===this.Qc.Ev&&void 0===this.Qc.Fv||(this.hv.addEventListener("touchstart",(function(i){return t.Ov(i.touches)}),{passive:!0}),this.hv.addEventListener("touchmove",(function(i){if(2===i.touches.length&&null!==t.Vc&&void 0!==t.Qc.Ev){var n=En(i.touches[0],i.touches[1])/t.Pc;t.Qc.Ev(t.Vc,n),Tn(i)}}),{passive:!1}),this.hv.addEventListener("touchend",(function(i){t.Ov(i.touches)})))},t.prototype.Ov=function(t){1===t.length&&(this.Wc=!1),2!==t.length||this.Wc||this.Nc?this.Vv():this.Pv(t)},t.prototype.Pv=function(t){var i=this.hv.getBoundingClientRect()||{left:0,top:0};this.Vc={tt:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,it:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Pc=En(t[0],t[1]),void 0!==this.Qc.Lv&&this.Qc.Lv(),this.ev()},t.prototype.Vv=function(){null!==this.Vc&&(this.Vc=null,void 0!==this.Qc.Fv&&this.Qc.Fv())},t.prototype.Av=function(t){if(this.Ec&&this.Ec(),!this.$c(t)&&this.qc){var i=this.Kc(t);this.iv(i,this.Qc.Wv),this.qc=!Bn()}},t.prototype.xv=function(t){var i=Dn(t.touches,f(this.jc));if(null!==i){var n=this.Kc(t,i);this.Jc(n,this.Qc.zv),this.Dc=!0,this.Nc=!0}},t.prototype.$c=function(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:An(t)<this.Ic+500},t.prototype.Jc=function(t,i){i&&i.call(this.Qc,t)},t.prototype.iv=function(t,i){i&&i.call(this.Qc,t)},t.prototype.Kc=function(t,i){var n=i||t,r=this.hv.getBoundingClientRect()||{left:0,top:0};return{Rv:n.clientX,Iv:n.clientY,jv:n.pageX,qv:n.pageY,Uv:n.screenX,Hv:n.screenY,Yv:n.clientX-r.left,$v:n.clientY-r.top,Kv:t.ctrlKey,Xv:t.altKey,Zv:t.shiftKey,Jv:t.metaKey,Gv:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Qv:t.type,t_:n.target,i_:t.view,n_:function(){"touchstart"!==t.type&&Tn(t)}}},t}();function En(t,i){var n=t.clientX-i.clientX,r=t.clientY-i.clientY;return Math.sqrt(n*n+r*r)}function Tn(t){t.cancelable&&t.preventDefault()}function Ln(t){return{tt:t.pageX,it:t.pageY}}function An(t){return t.timeStamp||performance.now()}function Dn(t,i){for(var n=0;n<t.length;++n)if(t[n].identifier===i)return t[n];return null}var Rn=function(){function t(t,i,n,r){this.rh=new Yt(200),this.R=0,this.s_="",this.Yh="",this.th=[],this.h_=new Map,this.R=t,this.s_=i,this.Yh=P(t,n,r)}return t.prototype.g=function(){this.rh.ih(),this.th=[],this.h_.clear()},t.prototype.r_=function(t,i,n,r,e){var o=this.e_(t,i);if("left"!==e){var s=_n(t.canvas);n-=Math.floor(o.u_*s)}r-=Math.floor(o.Yt/2),t.drawImage(o.a_,n,r,o.Ht,o.Yt)},t.prototype.e_=function(t,i){var n,r=this;if(this.h_.has(i))n=c(this.h_.get(i));else{if(this.th.length>=200){var e=c(this.th.shift());this.h_.delete(e)}var o=_n(t.canvas),s=Math.ceil(this.R/4.5),h=Math.round(this.R/10),u=Math.ceil(this.rh.Qt(t,i)),a=Lt(Math.round(u+2*s)),l=Lt(this.R+2*s),f=mn(document,new gn(a,l));n={Gt:i,u_:Math.round(Math.max(1,u)),Ht:Math.ceil(a*o),Yt:Math.ceil(l*o),a_:f},0!==u&&(this.th.push(n.Gt),this.h_.set(n.Gt,n)),U(t=wn(n.a_),o,(function(){t.font=r.Yh,t.fillStyle=r.s_,t.fillText(i,0,l-s-h)}))}return n},t}(),Wn=function(){function t(t,i,n,r){var e=this;this._i=null,this.o_=null,this.l_=!1,this.f_=new Yt(50),this.c_=new Rn(11,"#000"),this.s_=null,this.Yh=null,this.v_=0,this.__=!1,this.d_=function(){e.w_(e.cf.W()),e.__||e.Di.M_().jt().Wr()},this.b_=function(){e.__||e.Di.M_().jt().Wr()},this.Di=t,this.zi=i,this.cf=n,this.m_="left"===r,this.p_=document.createElement("div"),this.p_.style.height="100%",this.p_.style.overflow="hidden",this.p_.style.width="25px",this.p_.style.left="0",this.p_.style.position="relative",this.g_=bn(this.p_,new gn(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var o=this.g_.canvas;o.style.position="absolute",o.style.zIndex="1",o.style.left="0",o.style.top="0",this.y_=bn(this.p_,new gn(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var s=this.y_.canvas;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0";var h={Tv:this.k_.bind(this),Cv:this.k_.bind(this),bv:this.N_.bind(this),wv:this.N_.bind(this),Dv:this.x_.bind(this),yv:this.C_.bind(this),pv:this.C_.bind(this),nv:this.S_.bind(this),Gc:this.S_.bind(this),ov:this.T_.bind(this),Wv:this.D_.bind(this)};this.A_=new kn(this.y_.canvas,h,{_v:function(){return!1},dv:function(){return!0}})}return t.prototype.g=function(){this.A_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this._i&&this._i._a().M(this),this._i=null,this.c_.g()},t.prototype.B_=function(){return this.p_},t.prototype.ht=function(){return f(this._i).W().borderColor},t.prototype.L_=function(){return this.zi.textColor},t.prototype.S=function(){return this.zi.fontSize},t.prototype.E_=function(){return P(this.S(),this.zi.fontFamily)},t.prototype.F_=function(){var t=this.cf.W(),i=this.s_!==t.A,n=this.Yh!==t.T;return(i||n)&&(this.w_(t),this.s_=t.A),n&&(this.f_.ih(),this.Yh=t.T),t},t.prototype.O_=function(){if(null===this._i)return 0;var t=0,i=this.F_(),n=wn(this.g_.canvas),r=this._i.au();n.font=this.E_(),r.length>0&&(t=Math.max(this.f_.Qt(n,r[0].yu),this.f_.Qt(n,r[r.length-1].yu)));for(var e=this.V_(),o=e.length;o--;){var s=this.f_.Qt(n,e[o].Gt());s>t&&(t=s)}var h=this._i.kt();if(null!==h&&null!==this.o_){var u=this._i.qi(1,h),a=this._i.qi(this.o_.Ot-2,h);t=Math.max(t,this.f_.Qt(n,this._i.Mi(Math.floor(Math.min(u,a))+.11111111111111,h)),this.f_.Qt(n,this._i.Mi(Math.ceil(Math.max(u,a))-.11111111111111,h)))}var l=t||34,c=Math.ceil(i.N+i.C+i.L+i.F+l);return c+c%2},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisWidget "+JSON.stringify(t));null!==this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.p_.style.minWidth=t.Ft+"px")},t.prototype.W_=function(){return f(this.o_).Ft},t.prototype.Si=function(t){this._i!==t&&(null!==this._i&&this._i._a().M(this),this._i=t,t._a().u(this.Eu.bind(this),this))},t.prototype.Ct=function(){return this._i},t.prototype.ih=function(){var t=this.Di.z_();this.Di.M_().jt().no(t,f(this.Ct()))},t.prototype.R_=function(t){if(null!==this.o_){if(1!==t){var i=wn(this.g_.canvas);this.I_(),this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio),this.q_(i,this.g_.pixelRatio),this.U_(i,this.g_.pixelRatio)}var n=wn(this.y_.canvas),r=this.o_.Ft,e=this.o_.Ot;U(n,this.y_.pixelRatio,(function(){n.clearRect(0,0,r,e)})),this.H_(n,this.y_.pixelRatio)}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.vt=function(){var t;null===(t=this._i)||void 0===t||t.au()},t.prototype.k_=function(t){if(null!==this._i&&!this._i.wi()&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_();this.l_=!0,i.Ka(n,this._i,t.$v)}},t.prototype.N_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_(),r=this._i;i.Xa(n,r,t.$v)}},t.prototype.x_=function(){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var t=this.Di.M_().jt(),i=this.Di.z_(),n=this._i;this.l_&&(this.l_=!1,t.Za(i,n))}},t.prototype.C_=function(t){if(null!==this._i&&this.Di.M_().W().handleScale.axisPressedMouseMove.price){var i=this.Di.M_().jt(),n=this.Di.z_();this.l_=!1,i.Za(n,this._i)}},t.prototype.S_=function(t){this.Di.M_().W().handleScale.axisDoubleClickReset&&this.ih()},t.prototype.T_=function(t){null!==this._i&&(!this.Di.M_().jt().W().handleScale.axisPressedMouseMove.price||this._i.vr()||this._i.Zu()||this.K_(1))},t.prototype.D_=function(t){this.K_(0)},t.prototype.V_=function(){var t=this,i=[],n=null===this._i?void 0:this._i;return function(r){for(var e=0;e<r.length;++e)for(var o=r[e].nn(t.Di.z_(),n),s=0;s<o.length;s++)i.push(o[s])}(this.Di.z_().oa()),i},t.prototype.j_=function(t,i){var n=this;if(null!==this.o_){var r=this.o_.Ft,e=this.o_.Ot;U(t,i,(function(){var i=n.Di.z_().jt(),o=i.Zf(),s=i.Xf();o===s?K(t,0,0,r,e,o):H(t,0,0,r,e,o,s)}))}},t.prototype.Rs=function(t,i){if(null!==this.o_&&null!==this._i&&this._i.W().borderVisible){t.save(),t.fillStyle=this.ht();var n,r=Math.max(1,Math.floor(this.F_().N*i));n=this.m_?Math.floor(this.o_.Ft*i)-r:0,t.fillRect(n,0,r,Math.ceil(this.o_.Ot*i)),t.restore()}},t.prototype.q_=function(t,i){if(null!==this.o_&&null!==this._i){var n=this._i.au();t.save(),t.strokeStyle=this.ht(),t.font=this.E_(),t.fillStyle=this.ht();var r=this.F_(),e=this._i.W().borderVisible&&this._i.W().drawTicks,o=this.m_?Math.floor((this.o_.Ft-r.C)*i-r.N*i):Math.floor(r.N*i),s=this.m_?Math.round(o-r.L*i):Math.round(o+r.C*i+r.L*i),h=this.m_?"right":"left",u=Math.max(1,Math.floor(i)),a=Math.floor(.5*i);if(e){var l=Math.round(r.C*i);t.beginPath();for(var c=0,f=n;c<f.length;c++){var p=f[c];t.rect(o,Math.round(p.su*i)-a,l,u)}t.fill()}t.fillStyle=this.L_();for(var v=0,d=n;v<d.length;v++)p=d[v],this.c_.r_(t,p.yu,s,Math.round(p.su*i),h);t.restore()}},t.prototype.I_=function(){if(null!==this.o_&&null!==this._i){var t=this.o_.Ot/2,i=[],n=this._i.oa().slice(),r=this.Di.z_(),e=this.F_();this._i===r.fh()&&this.Di.z_().oa().forEach((function(t){r.lh(t)&&n.push(t)}));var o=this._i.Ge()[0],s=this._i;n.forEach((function(n){var e=n.nn(r,s);e.forEach((function(t){t.oi(null),t.li()&&i.push(t)})),o===n&&e.length>0&&(t=e[0].ti())}));var h=i.filter((function(i){return i.ti()<=t})),u=i.filter((function(i){return i.ti()>t}));if(h.sort((function(t,i){return i.ti()-t.ti()})),h.length&&u.length&&u.push(h[0]),u.sort((function(t,i){return t.ti()-i.ti()})),i.forEach((function(t){return t.oi(t.ti())})),this._i.W().alignLabels){for(var a=1;a<h.length;a++){var l=h[a],c=(p=h[a-1]).Yt(e,!1);l.ti()>(v=p.ai())-c&&l.oi(v-c)}for(var f=1;f<u.length;f++){var p,v;l=u[f],c=(p=u[f-1]).Yt(e,!0),l.ti()<(v=p.ai())+c&&l.oi(v+c)}}}},t.prototype.U_=function(t,i){var n=this;if(null!==this.o_){t.save();var r=this.o_,e=this.V_(),o=this.F_(),s=this.m_?"right":"left";e.forEach((function(e){if(e.fi()){var h=e.dt(f(n._i));t.save(),h.H(t,o,n.f_,r.Ft,s,i),t.restore()}})),t.restore()}},t.prototype.H_=function(t,i){var n=this;if(null!==this.o_&&null!==this._i){t.save();var r=this.o_,e=this.Di.M_().jt(),o=[],s=this.Di.z_(),h=e.Tf().nn(s,this._i);h.length&&o.push(h);var u=this.F_(),a=this.m_?"right":"left";o.forEach((function(e){e.forEach((function(e){t.save(),e.dt(f(n._i)).H(t,u,n.f_,r.Ft,a,i),t.restore()}))})),t.restore()}},t.prototype.K_=function(t){this.p_.style.cursor=1===t?"ns-resize":"default"},t.prototype.Eu=function(){var t=this.O_();this.v_<t&&this.Di.M_().jt().Ce(),this.v_=t},t.prototype.w_=function(t){this.c_.g(),this.c_=new Rn(t.S,t.A,t.D)},t}();function jn(t,i,n,r,e){t.$&&t.$(i,n,r,e)}function Pn(t,i,n,r,e){t.H(i,n,r,e)}function On(t,i){return t.tn(i)}function Nn(t,i){return void 0!==t.Pe?t.Pe(i):[]}var Fn=function(){function t(t,i){var n=this;this.o_=new gn(0,0),this.X_=null,this.Z_=null,this.J_=null,this.G_=!1,this.Q_=new B,this.td=0,this.nd=!1,this.sd=null,this.hd=!1,this.rd=null,this.ed=null,this.__=!1,this.d_=function(){n.__||null===n.ud||n.pi().Wr()},this.b_=function(){n.__||null===n.ud||n.pi().Wr()},this.ad=t,this.ud=i,this.ud.ro().u(this.od.bind(this),this,!0),this.ld=document.createElement("td"),this.ld.style.padding="0",this.ld.style.position="relative";var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="relative",r.style.overflow="hidden",this.fd=document.createElement("td"),this.fd.style.padding="0",this.vd=document.createElement("td"),this.vd.style.padding="0",this.ld.appendChild(r),this.g_=bn(r,new gn(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var e=this.g_.canvas;e.style.position="absolute",e.style.zIndex="1",e.style.left="0",e.style.top="0",this.y_=bn(r,new gn(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var o=this.y_.canvas;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0",this._d=document.createElement("tr"),this._d.appendChild(this.fd),this._d.appendChild(this.ld),this._d.appendChild(this.vd),this.dd(),this.A_=new kn(this.y_.canvas,this,{_v:function(){return null===n.sd&&!n.ad.W().handleScroll.vertTouchDrag},dv:function(){return null===n.sd&&!n.ad.W().handleScroll.horzTouchDrag}})}return t.prototype.g=function(){null!==this.X_&&this.X_.g(),null!==this.Z_&&this.Z_.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy(),null!==this.ud&&this.ud.ro().M(this),this.A_.g()},t.prototype.z_=function(){return f(this.ud)},t.prototype.wd=function(i){null!==this.ud&&this.ud.ro().M(this),this.ud=i,null!==this.ud&&this.ud.ro().u(t.prototype.od.bind(this),this,!0),this.dd()},t.prototype.M_=function(){return this.ad},t.prototype.B_=function(){return this._d},t.prototype.dd=function(){if(null!==this.ud&&(this.Md(),0!==this.pi()._t().length)){if(null!==this.X_){var t=this.ud.Ya();this.X_.Si(f(t))}if(null!==this.Z_){var i=this.ud.$a();this.Z_.Si(f(i))}}},t.prototype.bd=function(){null!==this.X_&&this.X_.vt(),null!==this.Z_&&this.Z_.vt()},t.prototype.Wa=function(){return null!==this.ud?this.ud.Wa():0},t.prototype.za=function(t){this.ud&&this.ud.za(t)},t.prototype.ov=function(t){if(this.ud){this.md();var i=t.Yv,n=t.$v;this.pd(i,n)}},t.prototype.Tv=function(t){this.md(),this.gd(),this.pd(t.Yv,t.$v)},t.prototype.lv=function(t){if(this.ud){this.md();var i=t.Yv,n=t.$v;this.pd(i,n);var r=this.$h(i,n);this.pi().yf(r&&{kf:r.kf,yd:r.yd})}},t.prototype.kv=function(t){if(null!==this.ud){this.md();var i=t.Yv,n=t.$v;if(this.Q_.p()){var r=this.pi().Tf().Mt();this.Q_.m(r,{x:i,y:n})}}},t.prototype.bv=function(t){this.md(),this.kd(t),this.pd(t.Yv,t.$v)},t.prototype.yv=function(t){null!==this.ud&&(this.md(),this.nd=!1,this.Nd(t))},t.prototype.zv=function(t){if(this.nd=!0,null===this.sd){var i={x:t.Yv,y:t.$v};this.xd(i,i)}},t.prototype.Wv=function(t){null!==this.ud&&(this.md(),this.ud.jt().yf(null),this.Cd())},t.prototype.Sd=function(){return this.Q_},t.prototype.Lv=function(){this.td=1,this.Td()},t.prototype.Ev=function(t,i){if(this.ad.W().handleScale.pinch){var n=5*(i-this.td);this.td=i,this.pi().Ef(t.tt,n)}},t.prototype.Cv=function(t){if(this.nd=!1,this.hd=null!==this.sd,this.gd(),null!==this.sd){var i=this.pi().Tf();this.rd={x:i.$t(),y:i.Kt()},this.sd={x:t.Yv,y:t.$v}}},t.prototype.wv=function(t){if(null!==this.ud){var i=t.Yv,n=t.$v;if(null===this.sd)this.kd(t);else{this.hd=!1;var r=f(this.rd),e=r.x+(i-this.sd.x),o=r.y+(n-this.sd.y);this.pd(e,o)}}},t.prototype.pv=function(t){0===this.M_().W().trackingMode.exitMode&&(this.hd=!0),this.Dd(),this.Nd(t)},t.prototype.$h=function(t,i){var n=this.ud;if(null===n)return null;for(var r=0,e=n.oa();r<e.length;r++){var o=e[r],s=this.Ad(o.tn(n),t,i);if(null!==s)return{kf:o,i_:s.i_,yd:s.yd}}return null},t.prototype.Bd=function(t,i){f("left"===i?this.X_:this.Z_).P_(new gn(t,this.o_.Ot))},t.prototype.Ld=function(){return this.o_},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PaneWidget "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.ld.style.width=t.Ft+"px",this.ld.style.height=t.Ot+"px")},t.prototype.Ed=function(){var t=f(this.ud);t.Ha(t.Ya()),t.Ha(t.$a());for(var i=0,n=t.Ge();i<n.length;i++){var r=n[i];if(t.lh(r)){var e=r.Ct();null!==e&&t.Ha(e),r.hn()}}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.R_=function(t){if(0!==t&&null!==this.ud){if(t>1&&this.Ed(),null!==this.X_&&this.X_.R_(t),null!==this.Z_&&this.Z_.R_(t),1!==t){var i=wn(this.g_.canvas);i.save(),this.j_(i,this.g_.pixelRatio),this.ud&&(this.Fd(i,this.g_.pixelRatio),this.Od(i,this.g_.pixelRatio),this.Vd(i,this.g_.pixelRatio,On)),i.restore()}var n=wn(this.y_.canvas);n.clearRect(0,0,Math.ceil(this.o_.Ft*this.y_.pixelRatio),Math.ceil(this.o_.Ot*this.y_.pixelRatio)),this.Vd(n,this.g_.pixelRatio,Nn),this.Pd(n,this.y_.pixelRatio)}},t.prototype.Wd=function(){return this.X_},t.prototype.zd=function(){return this.Z_},t.prototype.od=function(){null!==this.ud&&this.ud.ro().M(this),this.ud=null},t.prototype.j_=function(t,i){var n=this;U(t,i,(function(){var i=n.pi(),r=i.Zf(),e=i.Xf();r===e?K(t,0,0,n.o_.Ft,n.o_.Ot,e):H(t,0,0,n.o_.Ft,n.o_.Ot,r,e)}))},t.prototype.Fd=function(t,i){var n=f(this.ud),r=n.eo().ou().dt(n.Yt(),n.Ht());null!==r&&(t.save(),r.H(t,i,!1),t.restore())},t.prototype.Od=function(t,i){var n=this.pi().Sf();this.Rd(t,i,On,jn,n),this.Rd(t,i,On,Pn,n)},t.prototype.Pd=function(t,i){this.Rd(t,i,On,Pn,this.pi().Tf())},t.prototype.Vd=function(t,i,n){for(var r=f(this.ud).oa(),e=0,o=r;e<o.length;e++){var s=o[e];this.Rd(t,i,n,jn,s)}for(var h=0,u=r;h<u.length;h++)s=u[h],this.Rd(t,i,n,Pn,s)},t.prototype.Rd=function(t,i,n,r,e){for(var o=f(this.ud),s=n(e,o),h=o.Yt(),u=o.Ht(),a=o.jt().gf(),l=null!==a&&a.kf===e,c=null!==a&&l&&void 0!==a.yd?a.yd.Kh:void 0,p=0,v=s;p<v.length;p++){var d=v[p].dt(h,u);null!==d&&(t.save(),r(d,t,i,l,c),t.restore())}},t.prototype.Ad=function(t,i,n){for(var r=0,e=t;r<e.length;r++){var o=e[r],s=o.dt(this.o_.Ot,this.o_.Ft);if(null!==s&&s.$h){var h=s.$h(i,n);if(null!==h)return{i_:o,yd:h}}}return null},t.prototype.Md=function(){if(null!==this.ud){var t=this.ad,i=this.ud.Ya().W().visible,n=this.ud.$a().W().visible;i||null===this.X_||(this.fd.removeChild(this.X_.B_()),this.X_.g(),this.X_=null),n||null===this.Z_||(this.vd.removeChild(this.Z_.B_()),this.Z_.g(),this.Z_=null);var r=t.jt().qf();i&&null===this.X_&&(this.X_=new Wn(this,t.W().layout,r,"left"),this.fd.appendChild(this.X_.B_())),n&&null===this.Z_&&(this.Z_=new Wn(this,t.W().layout,r,"right"),this.vd.appendChild(this.Z_.B_()))}},t.prototype.Id=function(t){return t.Gv&&this.nd||null!==this.sd},t.prototype.jd=function(t){return Math.max(0,Math.min(t,this.o_.Ft-1))},t.prototype.qd=function(t){return Math.max(0,Math.min(t,this.o_.Ot-1))},t.prototype.pd=function(t,i){this.pi().Rf(this.jd(t),this.qd(i),f(this.ud))},t.prototype.Cd=function(){this.pi().If()},t.prototype.Dd=function(){this.hd&&(this.sd=null,this.Cd())},t.prototype.xd=function(t,i){this.sd=t,this.hd=!1,this.pd(i.x,i.y);var n=this.pi().Tf();this.rd={x:n.$t(),y:n.Kt()}},t.prototype.pi=function(){return this.ad.jt()},t.prototype.Ud=function(){var t=this.pi(),i=this.z_(),n=i.ji();t.Qa(i,n),t.Pf(),this.J_=null,this.G_=!1},t.prototype.Nd=function(t){var i=this;if(this.G_){var n=performance.now();if(null!==this.ed&&this.ed.xh(t.Yv,n),null===this.ed||this.ed.cc(n))this.Ud();else{var r=this.pi(),e=r.bt(),o=this.ed;requestAnimationFrame((function t(){if(!o._c()){var n=performance.now(),s=o.cc(n);if(!o._c()){var h=e.Nl();r.Vf(o.fc(n)),h===e.Nl()&&(s=!0,i.ed=null)}s?i.Ud():requestAnimationFrame(t)}}))}}},t.prototype.md=function(){this.sd=null},t.prototype.gd=function(){if(this.ud){if(this.Td(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)f(document.activeElement).blur();else{var t=document.getSelection();null!==t&&t.removeAllRanges()}!this.ud.ji().wi()&&this.pi().bt().wi()}},t.prototype.kd=function(t){if(null!==this.ud){var i=this.pi();if(!i.bt().wi()){var n=this.ad.W(),r=n.handleScroll,e=n.kineticScroll;if(r.pressedMouseMove&&!t.Gv||(r.horzTouchDrag||r.vertTouchDrag)&&t.Gv){var o=this.ud.ji(),s=performance.now();null!==this.J_||this.Id(t)||(this.J_={x:t.Rv,y:t.Iv,So:s,Yv:t.Yv,$v:t.$v}),null!==this.ed&&this.ed.lc(t.Yv,s),null===this.J_||this.G_||this.J_.x===t.Rv&&this.J_.y===t.Iv||(null===this.ed&&(t.Gv&&e.touch||!t.Gv&&e.mouse)&&(this.ed=new Cn(.2,7,.997,15),this.ed.lc(this.J_.Yv,this.J_.So),this.ed.lc(t.Yv,s)),o.wi()||i.Ja(this.ud,o,t.$v),i.Of(t.Yv),this.G_=!0),this.G_&&(o.wi()||i.Ga(this.ud,o,t.$v),i.Vf(t.Yv))}}}},t.prototype.Td=function(){var t=performance.now(),i=null===this.ed||this.ed.cc(t);null!==this.ed&&(i||this.Ud()),null!==this.ed&&(this.ed.dc(),this.ed=null)},t}(),In=function(){function t(t,i,n,r,e){var o=this;this.ft=!0,this.o_=new gn(0,0),this.d_=function(){return o.R_(3)},this.m_="left"===t,this.cf=n.qf,this.zi=i,this.Hd=r,this.Yd=e,this.p_=document.createElement("div"),this.p_.style.width="25px",this.p_.style.height="100%",this.p_.style.overflow="hidden",this.g_=bn(this.p_,new gn(16,16)),this.g_.subscribeCanvasConfigured(this.d_)}return t.prototype.g=function(){this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},t.prototype.B_=function(){return this.p_},t.prototype.Ld=function(){return this.o_},t.prototype.P_=function(t){if(t.Ft<0||t.Ot<0)throw new Error("Try to set invalid size to PriceAxisStub "+JSON.stringify(t));this.o_.br(t)||(this.o_=t,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.p_.style.width="".concat(t.Ft,"px"),this.p_.style.minWidth="".concat(t.Ft,"px"),this.p_.style.height="".concat(t.Ot,"px"),this.ft=!0)},t.prototype.R_=function(t){if((!(t<3)||this.ft)&&0!==this.o_.Ft&&0!==this.o_.Ot){this.ft=!1;var i=wn(this.g_.canvas);this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio)}},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.Rs=function(t,i){if(this.Hd()){var n=this.o_.Ft;t.save(),t.fillStyle=this.zi.timeScale.borderColor;var r=Math.floor(this.cf.W().N*i),e=this.m_?Math.round(n*i)-r:0;t.fillRect(e,0,r,r),t.restore()}},t.prototype.j_=function(t,i){var n=this;U(t,i,(function(){K(t,0,0,n.o_.Ft,n.o_.Ot,n.Yd())}))},t}();function Vn(t,i){return t.Po>i.Po?t:i}var Gn=function(){function t(t){var i=this;this.$d=null,this.Kd=null,this.k=null,this.Xd=!1,this.o_=new gn(0,0),this.Zd=new B,this.f_=new Yt(5),this.__=!1,this.d_=function(){i.__||i.ad.jt().Wr()},this.b_=function(){i.__||i.ad.jt().Wr()},this.ad=t,this.zi=t.W().layout,this.Jd=document.createElement("tr"),this.Gd=document.createElement("td"),this.Gd.style.padding="0",this.Qd=document.createElement("td"),this.Qd.style.padding="0",this.p_=document.createElement("td"),this.p_.style.height="25px",this.p_.style.padding="0",this.tw=document.createElement("div"),this.tw.style.width="100%",this.tw.style.height="100%",this.tw.style.position="relative",this.tw.style.overflow="hidden",this.p_.appendChild(this.tw),this.g_=bn(this.tw,new gn(16,16)),this.g_.subscribeCanvasConfigured(this.d_);var n=this.g_.canvas;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.y_=bn(this.tw,new gn(16,16)),this.y_.subscribeCanvasConfigured(this.b_);var r=this.y_.canvas;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Jd.appendChild(this.Gd),this.Jd.appendChild(this.p_),this.Jd.appendChild(this.Qd),this.iw(),this.ad.jt().Pa().u(this.iw.bind(this),this),this.A_=new kn(this.y_.canvas,this,{_v:function(){return!0},dv:function(){return!1}})}return t.prototype.g=function(){this.A_.g(),null!==this.$d&&this.$d.g(),null!==this.Kd&&this.Kd.g(),this.y_.unsubscribeCanvasConfigured(this.b_),this.y_.destroy(),this.g_.unsubscribeCanvasConfigured(this.d_),this.g_.destroy()},t.prototype.B_=function(){return this.Jd},t.prototype.nw=function(){return this.$d},t.prototype.sw=function(){return this.Kd},t.prototype.Tv=function(t){if(!this.Xd){this.Xd=!0;var i=this.ad.jt();!i.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&i.Lf(t.Yv)}},t.prototype.Cv=function(t){this.Tv(t)},t.prototype.Dv=function(){var t=this.ad.jt();!t.bt().wi()&&this.Xd&&(this.Xd=!1,this.ad.W().handleScale.axisPressedMouseMove.time&&t.zf())},t.prototype.bv=function(t){var i=this.ad.jt();!i.bt().wi()&&this.ad.W().handleScale.axisPressedMouseMove.time&&i.Wf(t.Yv)},t.prototype.wv=function(t){this.bv(t)},t.prototype.yv=function(){this.Xd=!1;var t=this.ad.jt();t.bt().wi()&&!this.ad.W().handleScale.axisPressedMouseMove.time||t.zf()},t.prototype.pv=function(){this.yv()},t.prototype.nv=function(){this.ad.W().handleScale.axisDoubleClickReset&&this.ad.jt().pn()},t.prototype.Gc=function(){this.nv()},t.prototype.ov=function(){this.ad.jt().W().handleScale.axisPressedMouseMove.time&&this.K_(1)},t.prototype.Wv=function(){this.K_(0)},t.prototype.Ld=function(){return this.o_},t.prototype.hw=function(){return this.Zd},t.prototype.rw=function(t,i,n){this.o_&&this.o_.br(t)||(this.o_=t,this.__=!0,this.g_.resizeCanvas({width:t.Ft,height:t.Ot}),this.y_.resizeCanvas({width:t.Ft,height:t.Ot}),this.__=!1,this.p_.style.width=t.Ft+"px",this.p_.style.height=t.Ot+"px",this.Zd.m(t)),null!==this.$d&&this.$d.P_(new gn(i,t.Ot)),null!==this.Kd&&this.Kd.P_(new gn(n,t.Ot))},t.prototype.ew=function(){var t=this.uw();return Math.ceil(t.N+t.C+t.S+t.O+t.B)},t.prototype.vt=function(){this.ad.jt().bt().au()},t.prototype.Y_=function(){return this.g_.canvas},t.prototype.R_=function(t){if(0!==t){if(1!==t){var i=wn(this.g_.canvas);this.j_(i,this.g_.pixelRatio),this.Rs(i,this.g_.pixelRatio),this.q_(i,this.g_.pixelRatio),null!==this.$d&&this.$d.R_(t),null!==this.Kd&&this.Kd.R_(t)}var n=wn(this.y_.canvas),r=this.y_.pixelRatio;n.clearRect(0,0,Math.ceil(this.o_.Ft*r),Math.ceil(this.o_.Ot*r)),this.aw([this.ad.jt().Tf()],n,r)}},t.prototype.j_=function(t,i){var n=this;U(t,i,(function(){K(t,0,0,n.o_.Ft,n.o_.Ot,n.ad.jt().Xf())}))},t.prototype.Rs=function(t,i){if(this.ad.W().timeScale.borderVisible){t.save(),t.fillStyle=this.ow();var n=Math.max(1,Math.floor(this.uw().N*i));t.fillRect(0,0,Math.ceil(this.o_.Ft*i),n),t.restore()}},t.prototype.q_=function(t,i){var n=this,r=this.ad.jt().bt().au();if(r&&0!==r.length){var e=r.reduce(Vn,r[0]).Po;e>30&&e<50&&(e=30),t.save(),t.strokeStyle=this.ow();var o=this.uw(),s=o.N+o.C+o.O+o.S-o.V;t.textAlign="center",t.fillStyle=this.ow();var h=Math.floor(this.uw().N*i),u=Math.max(1,Math.floor(i)),a=Math.floor(.5*i);if(this.ad.jt().bt().W().borderVisible){t.beginPath();for(var l=Math.round(o.C*i),c=r.length;c--;){var f=Math.round(r[c].su*i);t.rect(f-a,h,u,l)}t.fill()}t.fillStyle=this.j(),U(t,i,(function(){t.font=n.lw();for(var i=0,o=r;i<o.length;i++)if((l=o[i]).Po<e){var h=l.Sl?n.fw(t,l.su,l.yu):l.su;t.fillText(l.yu,h,s)}t.font=n.cw();for(var u=0,a=r;u<a.length;u++){var l;(l=a[u]).Po>=e&&(h=l.Sl?n.fw(t,l.su,l.yu):l.su,t.fillText(l.yu,h,s))}})),t.restore()}},t.prototype.fw=function(t,i,n){var r=this.f_.Qt(t,n),e=r/2,o=Math.floor(i-e)+.5;return o<0?i+=Math.abs(0-o):o+r>this.o_.Ft&&(i-=Math.abs(this.o_.Ft-(o+r))),i},t.prototype.aw=function(t,i,n){for(var r=this.uw(),e=0,o=t;e<o.length;e++)for(var s=0,h=o[e].Ti();s<h.length;s++){var u=h[s];i.save(),u.dt().H(i,r,n),i.restore()}},t.prototype.ow=function(){return this.ad.W().timeScale.borderColor},t.prototype.j=function(){return this.zi.textColor},t.prototype.R=function(){return this.zi.fontSize},t.prototype.lw=function(){return P(this.R(),this.zi.fontFamily)},t.prototype.cw=function(){return P(this.R(),this.zi.fontFamily,"bold")},t.prototype.uw=function(){null===this.k&&(this.k={N:1,V:NaN,O:NaN,B:NaN,mi:NaN,C:3,S:NaN,T:"",bi:new Yt});var t=this.k,i=this.lw();if(t.T!==i){var n=this.R();t.S=n,t.T=i,t.O=Math.ceil(n/2.5),t.B=t.O,t.mi=Math.ceil(n/2),t.V=Math.round(this.R()/5),t.bi.ih()}return this.k},t.prototype.K_=function(t){this.p_.style.cursor=1===t?"ew-resize":"default"},t.prototype.iw=function(){var t=this.ad.jt(),i=t.W();i.leftPriceScale.visible||null===this.$d||(this.Gd.removeChild(this.$d.B_()),this.$d.g(),this.$d=null),i.rightPriceScale.visible||null===this.Kd||(this.Qd.removeChild(this.Kd.B_()),this.Kd.g(),this.Kd=null);var n={qf:this.ad.jt().qf()},r=function(){return i.leftPriceScale.borderVisible&&t.bt().W().borderVisible},e=function(){return t.Xf()};i.leftPriceScale.visible&&null===this.$d&&(this.$d=new In("left",i,n,r,e),this.Gd.appendChild(this.$d.B_())),i.rightPriceScale.visible&&null===this.Kd&&(this.Kd=new In("right",i,n,r,e),this.Qd.appendChild(this.Kd.B_()))},t}(),Yn=function(){function t(t,i){var n;this._w=[],this.dw=0,this.xu=0,this.hh=0,this.ww=0,this.Mw=0,this.bw=null,this.mw=!1,this.Q_=new B,this.af=new B,this.zi=i,this.Jd=document.createElement("div"),this.Jd.classList.add("tv-lightweight-charts"),this.Jd.style.overflow="hidden",this.Jd.style.width="100%",this.Jd.style.height="100%",(n=this.Jd).style.userSelect="none",n.style.webkitUserSelect="none",n.style.msUserSelect="none",n.style.MozUserSelect="none",n.style.webkitTapHighlightColor="transparent",this.pw=document.createElement("table"),this.pw.setAttribute("cellspacing","0"),this.Jd.appendChild(this.pw),this.gw=this.yw.bind(this),this.Jd.addEventListener("wheel",this.gw,{passive:!1}),this.pi=new pn(this.ff.bind(this),this.zi),this.jt().Df().u(this.kw.bind(this),this),this.Nw=new Gn(this),this.pw.appendChild(this.Nw.B_());var r=this.zi.width,e=this.zi.height;if(0===r||0===e){var o=t.getBoundingClientRect();0===r&&(r=Math.floor(o.width),r-=r%2),0===e&&(e=Math.floor(o.height),e-=e%2)}this.xw(r,e),this.Cw(),t.appendChild(this.Jd),this.Sw(),this.pi.bt().Pl().u(this.pi.Ce.bind(this.pi),this),this.pi.Pa().u(this.pi.Ce.bind(this.pi),this)}return t.prototype.jt=function(){return this.pi},t.prototype.W=function(){return this.zi},t.prototype.Tw=function(){return this._w},t.prototype.Dw=function(){return this.Nw},t.prototype.g=function(){this.Jd.removeEventListener("wheel",this.gw),0!==this.dw&&window.cancelAnimationFrame(this.dw),this.pi.Df().M(this),this.pi.bt().Pl().M(this),this.pi.Pa().M(this),this.pi.g();for(var t=0,i=this._w;t<i.length;t++){var n=i[t];this.pw.removeChild(n.B_()),n.Sd().M(this),n.g()}this._w=[],f(this.Nw).g(),null!==this.Jd.parentElement&&this.Jd.parentElement.removeChild(this.Jd),this.af.g(),this.Q_.g()},t.prototype.xw=function(t,i,n){if(void 0===n&&(n=!1),this.xu!==i||this.hh!==t){this.xu=i,this.hh=t;var r=i+"px",e=t+"px";f(this.Jd).style.height=r,f(this.Jd).style.width=e,this.pw.style.height=r,this.pw.style.width=e,n?this.Aw(new ht(3)):this.pi.Ce()}},t.prototype.R_=function(t){void 0===t&&(t=new ht(3));for(var i=0;i<this._w.length;i++)this._w[i].R_(t.wn(i).vn);this.zi.timeScale.visible&&this.Nw.R_(t.dn())},t.prototype.Pr=function(t){this.pi.Pr(t),this.Sw();var i=t.width||this.hh,n=t.height||this.xu;this.xw(i,n)},t.prototype.Sd=function(){return this.Q_},t.prototype.Df=function(){return this.af},t.prototype.Bw=function(){var t=this;null!==this.bw&&(this.Aw(this.bw),this.bw=null);var i=this._w[0],n=mn(document,new gn(this.hh,this.xu)),r=wn(n),e=_n(n);return U(r,e,(function(){var n=0,e=0,o=function(i){for(var o=0;o<t._w.length;o++){var s=t._w[o],h=s.Ld().Ot,u=f("left"===i?s.Wd():s.zd()),a=u.Y_();r.drawImage(a,n,e,u.W_(),h),e+=h}};t.Lw()&&(o("left"),n=f(i.Wd()).W_()),e=0;for(var s=0;s<t._w.length;s++){var h=t._w[s],u=h.Ld(),a=h.Y_();r.drawImage(a,n,e,u.Ft,u.Ot),e+=u.Ot}n+=i.Ld().Ft,t.Ew()&&(e=0,o("right"));var l=function(i){var o=f("left"===i?t.Nw.nw():t.Nw.sw()),s=o.Ld(),h=o.Y_();r.drawImage(h,n,e,s.Ft,s.Ot)};if(t.zi.timeScale.visible){n=0,t.Lw()&&(l("left"),n=f(i.Wd()).W_());var c=t.Nw.Ld();a=t.Nw.Y_(),r.drawImage(a,n,e,c.Ft,c.Ot),t.Ew()&&(n+=i.Ld().Ft,l("right"),r.restore())}})),n},t.prototype.Fw=function(t){return"none"===t||"left"===t&&!this.Lw()||"right"===t&&!this.Ew()||0===this._w.length?0:f("left"===t?this._w[0].Wd():this._w[0].zd()).W_()},t.prototype.Ow=function(){for(var t=0,i=0,n=0,r=0,e=this._w;r<e.length;r++){var o=e[r];this.Lw()&&(i=Math.max(i,f(o.Wd()).O_())),this.Ew()&&(n=Math.max(n,f(o.zd()).O_())),t+=o.Wa()}var s=this.hh,h=this.xu,u=Math.max(s-i-n,0),a=this.zi.timeScale.visible,l=a?this.Nw.ew():0;l%2&&(l+=1);for(var c=0+l,p=h<c?0:h-c,v=p/t,d=0,y=0;y<this._w.length;++y){(o=this._w[y]).wd(this.pi.Cf()[y]);var g,_;_=y===this._w.length-1?p-d:Math.round(o.Wa()*v),d+=g=Math.max(_,2),o.P_(new gn(u,g)),this.Lw()&&o.Bd(i,"left"),this.Ew()&&o.Bd(n,"right"),o.z_()&&this.pi.Af(o.z_(),g)}this.Nw.rw(new gn(a?u:0,l),a?i:0,a?n:0),this.pi.Ra(u),this.ww!==i&&(this.ww=i),this.Mw!==n&&(this.Mw=n)},t.prototype.yw=function(t){var i=t.deltaX/100,n=-t.deltaY/100;if(0!==i&&this.zi.handleScroll.mouseWheel||0!==n&&this.zi.handleScale.mouseWheel){switch(t.cancelable&&t.preventDefault(),t.deltaMode){case t.DOM_DELTA_PAGE:i*=120,n*=120;break;case t.DOM_DELTA_LINE:i*=32,n*=32}if(0!==n&&this.zi.handleScale.mouseWheel){var r=Math.sign(n)*Math.min(1,Math.abs(n)),e=t.clientX-this.Jd.getBoundingClientRect().left;this.jt().Ef(e,r)}0!==i&&this.zi.handleScroll.mouseWheel&&this.jt().Ff(-80*i)}},t.prototype.Aw=function(t){var i,n=t.dn();3===n&&this.Vw(),3!==n&&2!==n||(this.Pw(t),this.Ww(t),this.Nw.vt(),this._w.forEach((function(t){t.bd()})),3===(null===(i=this.bw)||void 0===i?void 0:i.dn())&&(this.bw.Nn(t),this.Vw(),this.Pw(this.bw),this.Ww(this.bw),t=this.bw,this.bw=null)),this.R_(t)},t.prototype.Ww=function(t){for(var i=0,n=t.kn();i<n.length;i++){var r=n[i];this.xn(r)}},t.prototype.Pw=function(t){for(var i=this.pi.Cf(),n=0;n<i.length;n++)t.wn(n)._n&&i[n].so()},t.prototype.xn=function(t){var i=this.pi.bt();switch(t.bn){case 0:i.zl();break;case 1:i.Rl(t.St);break;case 2:i.gn(t.St);break;case 3:i.yn(t.St);break;case 4:i.Tl()}},t.prototype.ff=function(t){var i=this;null!==this.bw?this.bw.Nn(t):this.bw=t,this.mw||(this.mw=!0,this.dw=window.requestAnimationFrame((function(){if(i.mw=!1,i.dw=0,null!==i.bw){var t=i.bw;i.bw=null,i.Aw(t)}})))},t.prototype.Vw=function(){this.Cw()},t.prototype.Cw=function(){for(var t=this.pi.Cf(),i=t.length,n=this._w.length,r=i;r<n;r++){var e=c(this._w.pop());this.pw.removeChild(e.B_()),e.Sd().M(this),e.g()}for(r=n;r<i;r++)(e=new Fn(this,t[r])).Sd().u(this.zw.bind(this),this),this._w.push(e),this.pw.insertBefore(e.B_(),this.Nw.B_());for(r=0;r<i;r++){var o=t[r];(e=this._w[r]).z_()!==o?e.wd(o):e.dd()}this.Sw(),this.Ow()},t.prototype.Rw=function(t,i){var n,r=new Map;if(null!==t&&this.pi._t().forEach((function(i){var n=i.er(t);null!==n&&r.set(i,n)})),null!==t){var e=this.pi.bt().gi(t);null!==e&&(n=e)}var o=this.jt().gf(),s=null!==o&&o.kf instanceof Ci?o.kf:void 0,h=null!==o&&void 0!==o.yd?o.yd.Zh:void 0;return{rt:n,Iw:i||void 0,jw:s,qw:r,Uw:h}},t.prototype.zw=function(t,i){var n=this;this.Q_.m((function(){return n.Rw(t,i)}))},t.prototype.kw=function(t,i){var n=this;this.af.m((function(){return n.Rw(t,i)}))},t.prototype.Sw=function(){var t=this.zi.timeScale.visible?"":"none";this.Nw.B_().style.display=t},t.prototype.Lw=function(){return this._w[0].z_().Ya().W().visible},t.prototype.Ew=function(){return this._w[0].z_().$a().W().visible},t}();function Xn(t,i,n){var r=n.value;return{vs:i,rt:t,St:[r,r,r,r]}}function Jn(t,i,n){var r=n.value,e={vs:i,rt:t,St:[r,r,r,r]};return"color"in n&&void 0!==n.color&&(e.A=n.color),e}function Zn(t){return void 0!==t.St}function Un(t){return function(i,n,r){return void 0===(e=r).open&&void 0===e.value?{rt:i,vs:n}:t(i,n,r);var e}}var Kn={Candlestick:Un((function(t,i,n){var r={vs:i,rt:t,St:[n.open,n.high,n.low,n.close]};return"color"in n&&void 0!==n.color&&(r.A=n.color),"borderColor"in n&&void 0!==n.borderColor&&(r.Tt=n.borderColor),"wickColor"in n&&void 0!==n.wickColor&&(r.qs=n.wickColor),r})),Bar:Un((function(t,i,n){var r={vs:i,rt:t,St:[n.open,n.high,n.low,n.close]};return"color"in n&&void 0!==n.color&&(r.A=n.color),r})),Area:Un(Xn),Baseline:Un(Xn),Histogram:Un(Jn),Line:Un(Jn)};function Hn(t){return Kn[t]}function $n(t){return 60*t*60*1e3}function qn(t){return 60*t*1e3}var Qn=[{Hw:(1,1e3),Po:10},{Hw:qn(1),Po:20},{Hw:qn(5),Po:21},{Hw:qn(30),Po:22},{Hw:$n(1),Po:30},{Hw:$n(3),Po:31},{Hw:$n(6),Po:32},{Hw:$n(12),Po:33}];function tr(t,i){if(t.getUTCFullYear()!==i.getUTCFullYear())return 70;if(t.getUTCMonth()!==i.getUTCMonth())return 60;if(t.getUTCDate()!==i.getUTCDate())return 50;for(var n=Qn.length-1;n>=0;--n)if(Math.floor(i.getTime()/Qn[n].Hw)!==Math.floor(t.getTime()/Qn[n].Hw))return Qn[n].Po;return 0}function ir(t,i){if(void 0===i&&(i=0),0!==t.length){for(var n=0===i?null:t[i-1].rt.So,r=null!==n?new Date(1e3*n):null,e=0,o=i;o<t.length;++o){var s=t[o],h=new Date(1e3*s.rt.So);null!==r&&(s.Vo=tr(h,r)),e+=s.rt.So-(n||s.rt.So),n=s.rt.So,r=h}if(0===i&&t.length>1){var u=Math.ceil(e/(t.length-1)),a=new Date(1e3*(t[0].rt.So-u));t[0].Vo=tr(new Date(1e3*t[0].rt.So),a)}}}function nr(t){if(!dn(t))throw new Error("time must be of type BusinessDay");var i=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{So:Math.round(i.getTime()/1e3),Co:t}}function rr(t){if(!yn(t))throw new Error("time must be of type isUTCTimestamp");return{So:t}}function er(t){return 0===t.length?null:dn(t[0].time)?nr:rr}function or(t){return yn(t)?rr(t):dn(t)?nr(t):nr(sr(t))}function sr(t){var i=new Date(t);if(isNaN(i.getTime()))throw new Error("Invalid date string=".concat(t,", expected format=yyyy-mm-dd"));return{day:i.getUTCDate(),month:i.getUTCMonth()+1,year:i.getUTCFullYear()}}function hr(t){L(t.time)&&(t.time=sr(t.time))}function ur(t){return{vs:0,Yw:new Map,Ve:t}}function ar(t){if(void 0!==t&&0!==t.length)return{$w:t[0].rt.So,Kw:t[t.length-1].rt.So}}var lr=function(){function t(){this.Xw=new Map,this.Zw=new Map,this.Jw=new Map,this.Gw=[]}return t.prototype.g=function(){this.Xw.clear(),this.Zw.clear(),this.Jw.clear(),this.Gw=[]},t.prototype.Qw=function(t,i){var n=this,r=0!==this.Xw.size,e=!1,o=this.Zw.get(t);if(void 0!==o)if(1===this.Zw.size)r=!1,e=!0,this.Xw.clear();else for(var s=0,h=this.Gw;s<h.length;s++)h[s].pointData.Yw.delete(t)&&(e=!0);var u=[];if(0!==i.length){!function(t){t.forEach(hr)}(i);var a=f(er(i)),l=Hn(t.Rr());u=i.map((function(i){var r=a(i.time),o=n.Xw.get(r.So);void 0===o&&(o=ur(r),n.Xw.set(r.So,o),e=!0);var s=l(r,o.vs,i);return o.Yw.set(t,s),s}))}r&&this.tM(),this.iM(t,u);var c=-1;if(e){var p=[];this.Xw.forEach((function(t){p.push({Vo:0,rt:t.Ve,pointData:t})})),p.sort((function(t,i){return t.rt.So-i.rt.So})),c=this.nM(p)}return this.sM(t,c,function(t,i){var n=ar(t),r=ar(i);if(void 0!==n&&void 0!==r)return{Ae:n.Kw>=r.Kw&&n.$w>=r.$w}}(this.Zw.get(t),o))},t.prototype.Yf=function(t){return this.Qw(t,[])},t.prototype.hM=function(t,i){hr(i);var n=f(er([i]))(i.time),r=this.Jw.get(t);if(void 0!==r&&n.So<r.So)throw new Error("Cannot update oldest data, last time=".concat(r.So,", new time=").concat(n.So));var e=this.Xw.get(n.So),o=void 0===e;void 0===e&&(e=ur(n),this.Xw.set(n.So,e));var s=Hn(t.Rr())(n,e.vs,i);e.Yw.set(t,s),this.rM(t,s);var h={Ae:Zn(s)};if(!o)return this.sM(t,-1,h);var u={Vo:0,rt:e.Ve,pointData:e},a=gt(this.Gw,u.rt.So,(function(t,i){return t.rt.So<i}));this.Gw.splice(a,0,u);for(var l=a;l<this.Gw.length;++l)cr(this.Gw[l].pointData,l);return ir(this.Gw,a),this.sM(t,a,h)},t.prototype.rM=function(t,i){var n=this.Zw.get(t);void 0===n&&(n=[],this.Zw.set(t,n));var r=0!==n.length?n[n.length-1]:null;null===r||i.rt.So>r.rt.So?Zn(i)&&n.push(i):Zn(i)?n[n.length-1]=i:n.splice(-1,1),this.Jw.set(t,i.rt)},t.prototype.iM=function(t,i){0!==i.length?(this.Zw.set(t,i.filter(Zn)),this.Jw.set(t,i[i.length-1].rt)):(this.Zw.delete(t),this.Jw.delete(t))},t.prototype.tM=function(){for(var t=0,i=this.Gw;t<i.length;t++){var n=i[t];0===n.pointData.Yw.size&&this.Xw.delete(n.rt.So)}},t.prototype.nM=function(t){for(var i=-1,n=0;n<this.Gw.length&&n<t.length;++n){var r=this.Gw[n],e=t[n];if(r.rt.So!==e.rt.So){i=n;break}e.Vo=r.Vo,cr(e.pointData,n)}if(-1===i&&this.Gw.length!==t.length&&(i=Math.min(this.Gw.length,t.length)),-1===i)return-1;for(n=i;n<t.length;++n)cr(t[n].pointData,n);return ir(t,i),this.Gw=t,i},t.prototype.eM=function(){if(0===this.Zw.size)return null;var t=0;return this.Zw.forEach((function(i){0!==i.length&&(t=Math.max(t,i[i.length-1].vs))})),t},t.prototype.sM=function(t,i,n){var r={uM:new Map,bt:{ml:this.eM()}};if(-1!==i)this.Zw.forEach((function(i,e){r.uM.set(e,{ph:i,aM:e===t?n:void 0})})),this.Zw.has(t)||r.uM.set(t,{ph:[],aM:n}),r.bt.oM=this.Gw,r.bt.lM=i;else{var e=this.Zw.get(t);r.uM.set(t,{ph:e||[],aM:n})}return r},t}();function cr(t,i){t.vs=i,t.Yw.forEach((function(t){t.vs=i}))}var fr={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:""},pr=function(){function t(t){this.Lr=t}return t.prototype.applyOptions=function(t){this.Lr.Pr(t)},t.prototype.options=function(){return this.Lr.W()},t.prototype.fM=function(){return this.Lr},t}();function vr(t){var i=t.overlay,n=function(t,i){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&i.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var e=0;for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)i.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(n[r[e]]=t[r[e]])}return n}(t,["overlay"]);return i&&(n.priceScaleId=""),n}var dr=function(){function t(t,i,n){this.Kn=t,this.cM=i,this.vM=n}return t.prototype.priceFormatter=function(){return this.Kn.qe()},t.prototype.priceToCoordinate=function(t){var i=this.Kn.kt();return null===i?null:this.Kn.Ct().xt(t,i.St)},t.prototype.coordinateToPrice=function(t){var i=this.Kn.kt();return null===i?null:this.Kn.Ct().qi(t,i.St)},t.prototype.barsInLogicalRange=function(t){if(null===t)return null;var i=new en(new Qi(t.from,t.to)).jo(),n=this.Kn.an();if(n.wi())return null;var r=n.ne(i.In(),1),e=n.ne(i.jn(),-1),o=f(n.Qr()),s=f(n.un());if(null!==r&&null!==e&&r.vs>e.vs)return{barsBefore:t.from-o,barsAfter:s-t.to};var h={barsBefore:null===r||r.vs===o?t.from-o:r.vs-o,barsAfter:null===e||e.vs===s?s-t.to:s-e.vs};return null!==r&&null!==e&&(h.from=r.rt.Co||r.rt.So,h.to=e.rt.Co||e.rt.So),h},t.prototype.setData=function(t){this.Kn.Rr(),this.cM._M(this.Kn,t)},t.prototype.update=function(t){this.Kn.Rr(),this.cM.dM(this.Kn,t)},t.prototype.setMarkers=function(t){var i=t.map((function(t){return x(x({},t),{time:or(t.time)})}));this.Kn.Le(i)},t.prototype.applyOptions=function(t){var i=vr(t);this.Kn.Pr(i)},t.prototype.options=function(){return D(this.Kn.W())},t.prototype.priceScale=function(){return this.vM.priceScale(this.Kn.Ct().Ke())},t.prototype.createPriceLine=function(t){var i=k(D(fr),t),n=this.Kn.Ee(i);return new pr(n)},t.prototype.removePriceLine=function(t){this.Kn.Fe(t.fM())},t.prototype.seriesType=function(){return this.Kn.Rr()},t}(),yr=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return C(i,t),i.prototype.applyOptions=function(i){vn(i),t.prototype.applyOptions.call(this,i)},i}(dr),gr={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,drawTicks:!0,scaleMargins:{bottom:.1,top:.2}},_r={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:j,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"},wr={width:0,height:0,layout:{background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:11,fontFamily:j},crosshair:{vertLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},horzLine:{color:"#758696",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#4c525e"},mode:1},grid:{vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},overlayPriceScales:x({},gr),leftPriceScale:x(x({},gr),{visible:!1}),rightPriceScale:x(x({},gr),{visible:!0}),timeScale:{rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0},watermark:_r,localization:{locale:xn?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:!0,mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}},mr={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},br={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},Mr={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Sr={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},Cr={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBackgroundColor:"",lastPriceAnimation:0},xr={color:"#26a69a",base:0},zr={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}},Br=function(){function t(t,i){this.wM=t,this.MM=i}return t.prototype.applyOptions=function(t){this.wM.jt().Nf(this.MM,t)},t.prototype.options=function(){return this._i().W()},t.prototype.width=function(){return st(this.MM)?this.wM.Fw("left"===this.MM?"left":"right"):0},t.prototype._i=function(){return f(this.wM.jt().xf(this.MM)).Ct},t}(),kr=function(){function t(t,i){this.bM=new B,this.Go=new B,this.Zd=new B,this.pi=t,this.Da=t.bt(),this.Nw=i,this.Da.Ol().u(this.mM.bind(this)),this.Da.Vl().u(this.pM.bind(this)),this.Nw.hw().u(this.gM.bind(this))}return t.prototype.g=function(){this.Da.Ol().M(this),this.Da.Vl().M(this),this.Nw.hw().M(this),this.bM.g(),this.Go.g(),this.Zd.g()},t.prototype.scrollPosition=function(){return this.Da.Nl()},t.prototype.scrollToPosition=function(t,i){i?this.Da.Fl(t,1e3):this.pi.yn(t)},t.prototype.scrollToRealTime=function(){this.Da.El()},t.prototype.getVisibleRange=function(){var t,i,n=this.Da.cl();return null===n?null:{from:null!==(t=n.from.Co)&&void 0!==t?t:n.from.So,to:null!==(i=n.to.Co)&&void 0!==i?i:n.to.So}},t.prototype.setVisibleRange=function(t){var i={from:or(t.from),to:or(t.to)},n=this.Da.wl(i);this.pi.$f(n)},t.prototype.getVisibleLogicalRange=function(){var t=this.Da.fl();return null===t?null:{from:t.In(),to:t.jn()}},t.prototype.setVisibleLogicalRange=function(t){l(t.from<=t.to,"The from index cannot be after the to index."),this.pi.$f(t)},t.prototype.resetTimeScale=function(){this.pi.pn()},t.prototype.fitContent=function(){this.pi.zl()},t.prototype.logicalToCoordinate=function(t){var i=this.pi.bt();return i.wi()?null:i.At(t)},t.prototype.coordinateToLogical=function(t){return this.Da.wi()?null:this.Da.pl(t)},t.prototype.timeToCoordinate=function(t){var i=or(t),n=this.Da.Ze(i,!1);return null===n?null:this.Da.At(n)},t.prototype.coordinateToTime=function(t){var i,n=this.pi.bt(),r=n.pl(t),e=n.gi(r);return null===e?null:null!==(i=e.Co)&&void 0!==i?i:e.So},t.prototype.width=function(){return this.Nw.Ld().Ft},t.prototype.height=function(){return this.Nw.Ld().Ot},t.prototype.subscribeVisibleTimeRangeChange=function(t){this.bM.u(t)},t.prototype.unsubscribeVisibleTimeRangeChange=function(t){this.bM._(t)},t.prototype.subscribeVisibleLogicalRangeChange=function(t){this.Go.u(t)},t.prototype.unsubscribeVisibleLogicalRangeChange=function(t){this.Go._(t)},t.prototype.subscribeSizeChange=function(t){this.Zd.u(t)},t.prototype.unsubscribeSizeChange=function(t){this.Zd._(t)},t.prototype.applyOptions=function(t){this.Da.Pr(t)},t.prototype.options=function(){return D(this.Da.W())},t.prototype.mM=function(){this.bM.p()&&this.bM.m(this.getVisibleRange())},t.prototype.pM=function(){this.Go.p()&&this.Go.m(this.getVisibleLogicalRange())},t.prototype.gM=function(t){this.Zd.m(t.Ft,t.Ot)},t}();function Er(t){if(void 0!==t&&"custom"!==t.type){var i=t;void 0!==i.minMove&&void 0===i.precision&&(i.precision=function(t){if(t>=1)return 0;for(var i=0;i<8;i++){var n=Math.round(t);if(Math.abs(n-t)<1e-8)return i;t*=10}return i}(i.minMove))}}function Tr(t){return function(t){if(A(t.handleScale)){var i=t.handleScale;t.handleScale={axisDoubleClickReset:i,axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(void 0!==t.handleScale&&A(t.handleScale.axisPressedMouseMove)){var n=t.handleScale.axisPressedMouseMove;t.handleScale.axisPressedMouseMove={time:n,price:n}}var r=t.handleScroll;A(r)&&(t.handleScroll={horzTouchDrag:r,vertTouchDrag:r,mouseWheel:r,pressedMouseMove:r})}(t),function(t){if(t.priceScale){t.leftPriceScale=t.leftPriceScale||{},t.rightPriceScale=t.rightPriceScale||{};var i=t.priceScale.position;delete t.priceScale.position,t.leftPriceScale=k(t.leftPriceScale,t.priceScale),t.rightPriceScale=k(t.rightPriceScale,t.priceScale),"left"===i&&(t.leftPriceScale.visible=!0,t.rightPriceScale.visible=!1),"right"===i&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!0),"none"===i&&(t.leftPriceScale.visible=!1,t.rightPriceScale.visible=!1),t.overlayPriceScales=t.overlayPriceScales||{},void 0!==t.priceScale.invertScale&&(t.overlayPriceScales.invertScale=t.priceScale.invertScale),void 0!==t.priceScale.scaleMargins&&(t.overlayPriceScales.scaleMargins=t.priceScale.scaleMargins)}}(t),function(t){t.layout&&t.layout.backgroundColor&&!t.layout.background&&(t.layout.background={type:"solid",color:t.layout.backgroundColor})}(t),t}var Lr=function(){function t(t,i){var n=this;this.yM=new lr,this.kM=new Map,this.NM=new Map,this.xM=new B,this.CM=new B;var r=void 0===i?D(wr):k(D(wr),Tr(i));this.wM=new Yn(t,r),this.wM.Sd().u((function(t){n.xM.p()&&n.xM.m(n.SM(t()))}),this),this.wM.Df().u((function(t){n.CM.p()&&n.CM.m(n.SM(t()))}),this);var e=this.wM.jt();this.TM=new kr(e,this.wM.Dw())}return t.prototype.remove=function(){this.wM.Sd().M(this),this.wM.Df().M(this),this.TM.g(),this.wM.g(),this.kM.clear(),this.NM.clear(),this.xM.g(),this.CM.g(),this.yM.g()},t.prototype.resize=function(t,i,n){this.wM.xw(t,i,n)},t.prototype.addAreaSeries=function(t){void 0===t&&(t={}),Er((t=vr(t)).priceFormat);var i=k(D(zr),Sr,t),n=this.wM.jt().Uf("Area",i),r=new dr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.addBaselineSeries=function(t){void 0===t&&(t={}),Er((t=vr(t)).priceFormat);var i=k(D(zr),D(Cr),t),n=this.wM.jt().Uf("Baseline",i),r=new dr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.addBarSeries=function(t){void 0===t&&(t={}),Er((t=vr(t)).priceFormat);var i=k(D(zr),br,t),n=this.wM.jt().Uf("Bar",i),r=new dr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.addCandlestickSeries=function(t){void 0===t&&(t={}),vn(t=vr(t)),Er(t.priceFormat);var i=k(D(zr),mr,t),n=this.wM.jt().Uf("Candlestick",i),r=new yr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.addHistogramSeries=function(t){void 0===t&&(t={}),Er((t=vr(t)).priceFormat);var i=k(D(zr),xr,t),n=this.wM.jt().Uf("Histogram",i),r=new dr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.addLineSeries=function(t){void 0===t&&(t={}),Er((t=vr(t)).priceFormat);var i=k(D(zr),Mr,t),n=this.wM.jt().Uf("Line",i),r=new dr(n,this,this);return this.kM.set(r,n),this.NM.set(n,r),r},t.prototype.removeSeries=function(t){var i=c(this.kM.get(t)),n=this.yM.Yf(i);this.wM.jt().Yf(i),this.DM(n),this.kM.delete(t),this.NM.delete(i)},t.prototype._M=function(t,i){this.DM(this.yM.Qw(t,i))},t.prototype.dM=function(t,i){this.DM(this.yM.hM(t,i))},t.prototype.subscribeClick=function(t){this.xM.u(t)},t.prototype.unsubscribeClick=function(t){this.xM._(t)},t.prototype.subscribeCrosshairMove=function(t){this.CM.u(t)},t.prototype.unsubscribeCrosshairMove=function(t){this.CM._(t)},t.prototype.priceScale=function(t){return void 0===t&&(t=this.wM.jt().Kf()),new Br(this.wM,t)},t.prototype.timeScale=function(){return this.TM},t.prototype.applyOptions=function(t){this.wM.Pr(Tr(t))},t.prototype.options=function(){return this.wM.W()},t.prototype.takeScreenshot=function(){return this.wM.Bw()},t.prototype.DM=function(t){var i=this.wM.jt();i.jf(t.bt.ml,t.bt.oM,t.bt.lM),t.uM.forEach((function(t,i){return i.Z(t.ph,t.aM)})),i.yl()},t.prototype.AM=function(t){return c(this.NM.get(t))},t.prototype.SM=function(t){var i=this,n=new Map;t.qw.forEach((function(t,r){n.set(i.AM(r),t)}));var r=void 0===t.jw?void 0:this.AM(t.jw);return{time:t.rt&&(t.rt.Co||t.rt.So),point:t.Iw,hoveredSeries:r,hoveredMarkerId:t.Uw,seriesPrices:n}},t}();function Ar(t,i){var n;if(L(t)){var r=document.getElementById(t);l(null!==r,"Cannot find element in DOM with id=".concat(t)),n=r}else n=t;return new Lr(n,i)}},763:function(t,i,n){var r;t=n.nmd(t),function(){var e,o="Expected a function",s="__lodash_hash_undefined__",h="__lodash_placeholder__",u=16,a=32,l=64,c=128,f=256,p=1/0,v=9007199254740991,d=NaN,y=4294967295,g=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",a],["partialRight",l],["rearg",f]],_="[object Arguments]",w="[object Array]",m="[object Boolean]",b="[object Date]",M="[object Error]",S="[object Function]",C="[object GeneratorFunction]",x="[object Map]",z="[object Number]",B="[object Object]",k="[object Promise]",E="[object RegExp]",T="[object Set]",L="[object String]",A="[object Symbol]",D="[object WeakMap]",R="[object ArrayBuffer]",W="[object DataView]",j="[object Float32Array]",P="[object Float64Array]",O="[object Int8Array]",N="[object Int16Array]",F="[object Int32Array]",I="[object Uint8Array]",V="[object Uint8ClampedArray]",G="[object Uint16Array]",Y="[object Uint32Array]",X=/\b__p \+= '';/g,J=/\b(__p \+=) '' \+/g,Z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,H=RegExp(U.source),$=RegExp(K.source),q=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,it=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(et.source),st=/^\s+/,ht=/\s/,ut=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,pt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,yt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mt=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Ct="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",zt="a-z\\xdf-\\xf6\\xf8-\\xff",Bt="A-Z\\xc0-\\xd6\\xd8-\\xde",kt="\\ufe0e\\ufe0f",Et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tt="['\u2019]",Lt="[\\ud800-\\udfff]",At="["+Et+"]",Dt="["+Ct+"]",Rt="\\d+",Wt="[\\u2700-\\u27bf]",jt="["+zt+"]",Pt="[^\\ud800-\\udfff"+Et+Rt+xt+zt+Bt+"]",Ot="\\ud83c[\\udffb-\\udfff]",Nt="[^\\ud800-\\udfff]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Bt+"]",Gt="(?:"+jt+"|"+Pt+")",Yt="(?:"+Vt+"|"+Pt+")",Xt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Jt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Zt="(?:"+Dt+"|"+Ot+")"+"?",Ut="[\\ufe0e\\ufe0f]?",Kt=Ut+Zt+("(?:\\u200d(?:"+[Nt,Ft,It].join("|")+")"+Ut+Zt+")*"),Ht="(?:"+[Wt,Ft,It].join("|")+")"+Kt,$t="(?:"+[Nt+Dt+"?",Dt,Ft,It,Lt].join("|")+")",qt=RegExp(Tt,"g"),Qt=RegExp(Dt,"g"),ti=RegExp(Ot+"(?="+Ot+")|"+$t+Kt,"g"),ii=RegExp([Vt+"?"+jt+"+"+Xt+"(?="+[At,Vt,"$"].join("|")+")",Yt+"+"+Jt+"(?="+[At,Vt+Gt,"$"].join("|")+")",Vt+"?"+Gt+"+"+Xt,Vt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,Ht].join("|"),"g"),ni=RegExp("[\\u200d\\ud800-\\udfff"+Ct+kt+"]"),ri=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ei=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oi=-1,si={};si[j]=si[P]=si[O]=si[N]=si[F]=si[I]=si[V]=si[G]=si[Y]=!0,si[_]=si[w]=si[R]=si[m]=si[W]=si[b]=si[M]=si[S]=si[x]=si[z]=si[B]=si[E]=si[T]=si[L]=si[D]=!1;var hi={};hi[_]=hi[w]=hi[R]=hi[W]=hi[m]=hi[b]=hi[j]=hi[P]=hi[O]=hi[N]=hi[F]=hi[x]=hi[z]=hi[B]=hi[E]=hi[T]=hi[L]=hi[A]=hi[I]=hi[V]=hi[G]=hi[Y]=!0,hi[M]=hi[S]=hi[D]=!1;var ui={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ai=parseFloat,li=parseInt,ci="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,fi="object"==typeof self&&self&&self.Object===Object&&self,pi=ci||fi||Function("return this")(),vi=i&&!i.nodeType&&i,di=vi&&t&&!t.nodeType&&t,yi=di&&di.exports===vi,gi=yi&&ci.process,_i=function(){try{var t=di&&di.require&&di.require("util").types;return t||gi&&gi.binding&&gi.binding("util")}catch(i){}}(),wi=_i&&_i.isArrayBuffer,mi=_i&&_i.isDate,bi=_i&&_i.isMap,Mi=_i&&_i.isRegExp,Si=_i&&_i.isSet,Ci=_i&&_i.isTypedArray;function xi(t,i,n){switch(n.length){case 0:return t.call(i);case 1:return t.call(i,n[0]);case 2:return t.call(i,n[0],n[1]);case 3:return t.call(i,n[0],n[1],n[2])}return t.apply(i,n)}function zi(t,i,n,r){for(var e=-1,o=null==t?0:t.length;++e<o;){var s=t[e];i(r,s,n(s),t)}return r}function Bi(t,i){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==i(t[n],n,t););return t}function ki(t,i){for(var n=null==t?0:t.length;n--&&!1!==i(t[n],n,t););return t}function Ei(t,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!i(t[n],n,t))return!1;return!0}function Ti(t,i){for(var n=-1,r=null==t?0:t.length,e=0,o=[];++n<r;){var s=t[n];i(s,n,t)&&(o[e++]=s)}return o}function Li(t,i){return!!(null==t?0:t.length)&&Ii(t,i,0)>-1}function Ai(t,i,n){for(var r=-1,e=null==t?0:t.length;++r<e;)if(n(i,t[r]))return!0;return!1}function Di(t,i){for(var n=-1,r=null==t?0:t.length,e=Array(r);++n<r;)e[n]=i(t[n],n,t);return e}function Ri(t,i){for(var n=-1,r=i.length,e=t.length;++n<r;)t[e+n]=i[n];return t}function Wi(t,i,n,r){var e=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++e]);++e<o;)n=i(n,t[e],e,t);return n}function ji(t,i,n,r){var e=null==t?0:t.length;for(r&&e&&(n=t[--e]);e--;)n=i(n,t[e],e,t);return n}function Pi(t,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(t[n],n,t))return!0;return!1}var Oi=Xi("length");function Ni(t,i,n){var r;return n(t,(function(t,n,e){if(i(t,n,e))return r=n,!1})),r}function Fi(t,i,n,r){for(var e=t.length,o=n+(r?1:-1);r?o--:++o<e;)if(i(t[o],o,t))return o;return-1}function Ii(t,i,n){return i===i?function(t,i,n){var r=n-1,e=t.length;for(;++r<e;)if(t[r]===i)return r;return-1}(t,i,n):Fi(t,Gi,n)}function Vi(t,i,n,r){for(var e=n-1,o=t.length;++e<o;)if(r(t[e],i))return e;return-1}function Gi(t){return t!==t}function Yi(t,i){var n=null==t?0:t.length;return n?Ui(t,i)/n:d}function Xi(t){return function(i){return null==i?e:i[t]}}function Ji(t){return function(i){return null==t?e:t[i]}}function Zi(t,i,n,r,e){return e(t,(function(t,e,o){n=r?(r=!1,t):i(n,t,e,o)})),n}function Ui(t,i){for(var n,r=-1,o=t.length;++r<o;){var s=i(t[r]);s!==e&&(n=n===e?s:n+s)}return n}function Ki(t,i){for(var n=-1,r=Array(t);++n<t;)r[n]=i(n);return r}function Hi(t){return t?t.slice(0,dn(t)+1).replace(st,""):t}function $i(t){return function(i){return t(i)}}function qi(t,i){return Di(i,(function(i){return t[i]}))}function Qi(t,i){return t.has(i)}function tn(t,i){for(var n=-1,r=t.length;++n<r&&Ii(i,t[n],0)>-1;);return n}function nn(t,i){for(var n=t.length;n--&&Ii(i,t[n],0)>-1;);return n}function rn(t,i){for(var n=t.length,r=0;n--;)t[n]===i&&++r;return r}var en=Ji({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Ji({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+ui[t]}function hn(t){return ni.test(t)}function un(t){var i=-1,n=Array(t.size);return t.forEach((function(t,r){n[++i]=[r,t]})),n}function an(t,i){return function(n){return t(i(n))}}function ln(t,i){for(var n=-1,r=t.length,e=0,o=[];++n<r;){var s=t[n];s!==i&&s!==h||(t[n]=h,o[e++]=n)}return o}function cn(t){var i=-1,n=Array(t.size);return t.forEach((function(t){n[++i]=t})),n}function fn(t){var i=-1,n=Array(t.size);return t.forEach((function(t){n[++i]=[t,t]})),n}function pn(t){return hn(t)?function(t){var i=ti.lastIndex=0;for(;ti.test(t);)++i;return i}(t):Oi(t)}function vn(t){return hn(t)?function(t){return t.match(ti)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var i=t.length;i--&&ht.test(t.charAt(i)););return i}var yn=Ji({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function t(i){var n=(i=null==i?pi:gn.defaults(pi.Object(),i,gn.pick(pi,ei))).Array,r=i.Date,ht=i.Error,Ct=i.Function,xt=i.Math,zt=i.Object,Bt=i.RegExp,kt=i.String,Et=i.TypeError,Tt=n.prototype,Lt=Ct.prototype,At=zt.prototype,Dt=i["__core-js_shared__"],Rt=Lt.toString,Wt=At.hasOwnProperty,jt=0,Pt=function(){var t=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ot=At.toString,Nt=Rt.call(zt),Ft=pi._,It=Bt("^"+Rt.call(Wt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=yi?i.Buffer:e,Gt=i.Symbol,Yt=i.Uint8Array,Xt=Vt?Vt.allocUnsafe:e,Jt=an(zt.getPrototypeOf,zt),Zt=zt.create,Ut=At.propertyIsEnumerable,Kt=Tt.splice,Ht=Gt?Gt.isConcatSpreadable:e,$t=Gt?Gt.iterator:e,ti=Gt?Gt.toStringTag:e,ni=function(){try{var t=fo(zt,"defineProperty");return t({},"",{}),t}catch(i){}}(),ui=i.clearTimeout!==pi.clearTimeout&&i.clearTimeout,ci=r&&r.now!==pi.Date.now&&r.now,fi=i.setTimeout!==pi.setTimeout&&i.setTimeout,vi=xt.ceil,di=xt.floor,gi=zt.getOwnPropertySymbols,_i=Vt?Vt.isBuffer:e,Oi=i.isFinite,Ji=Tt.join,_n=an(zt.keys,zt),wn=xt.max,mn=xt.min,bn=r.now,Mn=i.parseInt,Sn=xt.random,Cn=Tt.reverse,xn=fo(i,"DataView"),zn=fo(i,"Map"),Bn=fo(i,"Promise"),kn=fo(i,"Set"),En=fo(i,"WeakMap"),Tn=fo(zt,"create"),Ln=En&&new En,An={},Dn=Fo(xn),Rn=Fo(zn),Wn=Fo(Bn),jn=Fo(kn),Pn=Fo(En),On=Gt?Gt.prototype:e,Nn=On?On.valueOf:e,Fn=On?On.toString:e;function In(t){if(rh(t)&&!Js(t)&&!(t instanceof Xn)){if(t instanceof Yn)return t;if(Wt.call(t,"__wrapped__"))return Io(t)}return new Yn(t)}var Vn=function(){function t(){}return function(i){if(!nh(i))return{};if(Zt)return Zt(i);t.prototype=i;var n=new t;return t.prototype=e,n}}();function Gn(){}function Yn(t,i){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=e}function Xn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Jn(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var r=t[i];this.set(r[0],r[1])}}function Zn(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var r=t[i];this.set(r[0],r[1])}}function Un(t){var i=-1,n=null==t?0:t.length;for(this.clear();++i<n;){var r=t[i];this.set(r[0],r[1])}}function Kn(t){var i=-1,n=null==t?0:t.length;for(this.__data__=new Un;++i<n;)this.add(t[i])}function Hn(t){var i=this.__data__=new Zn(t);this.size=i.size}function $n(t,i){var n=Js(t),r=!n&&Xs(t),e=!n&&!r&&Hs(t),o=!n&&!r&&!e&&ch(t),s=n||r||e||o,h=s?Ki(t.length,kt):[],u=h.length;for(var a in t)!i&&!Wt.call(t,a)||s&&("length"==a||e&&("offset"==a||"parent"==a)||o&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||mo(a,u))||h.push(a);return h}function qn(t){var i=t.length;return i?t[Kr(0,i-1)]:e}function Qn(t,i){return Po(Te(t),ur(i,0,t.length))}function tr(t){return Po(Te(t))}function ir(t,i,n){(n!==e&&!Vs(t[i],n)||n===e&&!(i in t))&&sr(t,i,n)}function nr(t,i,n){var r=t[i];Wt.call(t,i)&&Vs(r,n)&&(n!==e||i in t)||sr(t,i,n)}function rr(t,i){for(var n=t.length;n--;)if(Vs(t[n][0],i))return n;return-1}function er(t,i,n,r){return pr(t,(function(t,e,o){i(r,t,n(t),o)})),r}function or(t,i){return t&&Le(i,Dh(i),t)}function sr(t,i,n){"__proto__"==i&&ni?ni(t,i,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[i]=n}function hr(t,i){for(var r=-1,o=i.length,s=n(o),h=null==t;++r<o;)s[r]=h?e:kh(t,i[r]);return s}function ur(t,i,n){return t===t&&(n!==e&&(t=t<=n?t:n),i!==e&&(t=t>=i?t:i)),t}function ar(t,i,n,r,o,s){var h,u=1&i,a=2&i,l=4&i;if(n&&(h=o?n(t,r,o,s):n(t)),h!==e)return h;if(!nh(t))return t;var c=Js(t);if(c){if(h=function(t){var i=t.length,n=new t.constructor(i);i&&"string"==typeof t[0]&&Wt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Te(t,h)}else{var f=yo(t),p=f==S||f==C;if(Hs(t))return Ce(t,u);if(f==B||f==_||p&&!o){if(h=a||p?{}:_o(t),!u)return a?function(t,i){return Le(t,vo(t),i)}(t,function(t,i){return t&&Le(i,Rh(i),t)}(h,t)):function(t,i){return Le(t,po(t),i)}(t,or(h,t))}else{if(!hi[f])return o?t:{};h=function(t,i,n){var r=t.constructor;switch(i){case R:return xe(t);case m:case b:return new r(+t);case W:return function(t,i){var n=i?xe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case j:case P:case O:case N:case F:case I:case V:case G:case Y:return ze(t,n);case x:return new r;case z:case L:return new r(t);case E:return function(t){var i=new t.constructor(t.source,dt.exec(t));return i.lastIndex=t.lastIndex,i}(t);case T:return new r;case A:return e=t,Nn?zt(Nn.call(e)):{}}var e}(t,f,u)}}s||(s=new Hn);var v=s.get(t);if(v)return v;s.set(t,h),uh(t)?t.forEach((function(r){h.add(ar(r,i,n,r,t,s))})):eh(t)&&t.forEach((function(r,e){h.set(e,ar(r,i,n,e,t,s))}));var d=c?e:(l?a?oo:eo:a?Rh:Dh)(t);return Bi(d||t,(function(r,e){d&&(r=t[e=r]),nr(h,e,ar(r,i,n,e,t,s))})),h}function lr(t,i,n){var r=n.length;if(null==t)return!r;for(t=zt(t);r--;){var o=n[r],s=i[o],h=t[o];if(h===e&&!(o in t)||!s(h))return!1}return!0}function cr(t,i,n){if("function"!=typeof t)throw new Et(o);return Do((function(){t.apply(e,n)}),i)}function fr(t,i,n,r){var e=-1,o=Li,s=!0,h=t.length,u=[],a=i.length;if(!h)return u;n&&(i=Di(i,$i(n))),r?(o=Ai,s=!1):i.length>=200&&(o=Qi,s=!1,i=new Kn(i));t:for(;++e<h;){var l=t[e],c=null==n?l:n(l);if(l=r||0!==l?l:0,s&&c===c){for(var f=a;f--;)if(i[f]===c)continue t;u.push(l)}else o(i,c,r)||u.push(l)}return u}In.templateSettings={escape:q,evaluate:Q,interpolate:tt,variable:"",imports:{_:In}},In.prototype=Gn.prototype,In.prototype.constructor=In,Yn.prototype=Vn(Gn.prototype),Yn.prototype.constructor=Yn,Xn.prototype=Vn(Gn.prototype),Xn.prototype.constructor=Xn,Jn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Jn.prototype.delete=function(t){var i=this.has(t)&&delete this.__data__[t];return this.size-=i?1:0,i},Jn.prototype.get=function(t){var i=this.__data__;if(Tn){var n=i[t];return n===s?e:n}return Wt.call(i,t)?i[t]:e},Jn.prototype.has=function(t){var i=this.__data__;return Tn?i[t]!==e:Wt.call(i,t)},Jn.prototype.set=function(t,i){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tn&&i===e?s:i,this},Zn.prototype.clear=function(){this.__data__=[],this.size=0},Zn.prototype.delete=function(t){var i=this.__data__,n=rr(i,t);return!(n<0)&&(n==i.length-1?i.pop():Kt.call(i,n,1),--this.size,!0)},Zn.prototype.get=function(t){var i=this.__data__,n=rr(i,t);return n<0?e:i[n][1]},Zn.prototype.has=function(t){return rr(this.__data__,t)>-1},Zn.prototype.set=function(t,i){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,i])):n[r][1]=i,this},Un.prototype.clear=function(){this.size=0,this.__data__={hash:new Jn,map:new(zn||Zn),string:new Jn}},Un.prototype.delete=function(t){var i=lo(this,t).delete(t);return this.size-=i?1:0,i},Un.prototype.get=function(t){return lo(this,t).get(t)},Un.prototype.has=function(t){return lo(this,t).has(t)},Un.prototype.set=function(t,i){var n=lo(this,t),r=n.size;return n.set(t,i),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,s),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.clear=function(){this.__data__=new Zn,this.size=0},Hn.prototype.delete=function(t){var i=this.__data__,n=i.delete(t);return this.size=i.size,n},Hn.prototype.get=function(t){return this.__data__.get(t)},Hn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.set=function(t,i){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!zn||r.length<199)return r.push([t,i]),this.size=++n.size,this;n=this.__data__=new Un(r)}return n.set(t,i),this.size=n.size,this};var pr=Re(br),vr=Re(Mr,!0);function dr(t,i){var n=!0;return pr(t,(function(t,r,e){return n=!!i(t,r,e)})),n}function yr(t,i,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],h=i(s);if(null!=h&&(u===e?h===h&&!lh(h):n(h,u)))var u=h,a=s}return a}function gr(t,i){var n=[];return pr(t,(function(t,r,e){i(t,r,e)&&n.push(t)})),n}function _r(t,i,n,r,e){var o=-1,s=t.length;for(n||(n=wo),e||(e=[]);++o<s;){var h=t[o];i>0&&n(h)?i>1?_r(h,i-1,n,r,e):Ri(e,h):r||(e[e.length]=h)}return e}var wr=We(),mr=We(!0);function br(t,i){return t&&wr(t,i,Dh)}function Mr(t,i){return t&&mr(t,i,Dh)}function Sr(t,i){return Ti(i,(function(i){return Qs(t[i])}))}function Cr(t,i){for(var n=0,r=(i=me(i,t)).length;null!=t&&n<r;)t=t[No(i[n++])];return n&&n==r?t:e}function xr(t,i,n){var r=i(t);return Js(t)?r:Ri(r,n(t))}function zr(t){return null==t?t===e?"[object Undefined]":"[object Null]":ti&&ti in zt(t)?function(t){var i=Wt.call(t,ti),n=t[ti];try{t[ti]=e;var r=!0}catch(s){}var o=Ot.call(t);r&&(i?t[ti]=n:delete t[ti]);return o}(t):function(t){return Ot.call(t)}(t)}function Br(t,i){return t>i}function kr(t,i){return null!=t&&Wt.call(t,i)}function Er(t,i){return null!=t&&i in zt(t)}function Tr(t,i,r){for(var o=r?Ai:Li,s=t[0].length,h=t.length,u=h,a=n(h),l=1/0,c=[];u--;){var f=t[u];u&&i&&(f=Di(f,$i(i))),l=mn(f.length,l),a[u]=!r&&(i||s>=120&&f.length>=120)?new Kn(u&&f):e}f=t[0];var p=-1,v=a[0];t:for(;++p<s&&c.length<l;){var d=f[p],y=i?i(d):d;if(d=r||0!==d?d:0,!(v?Qi(v,y):o(c,y,r))){for(u=h;--u;){var g=a[u];if(!(g?Qi(g,y):o(t[u],y,r)))continue t}v&&v.push(y),c.push(d)}}return c}function Lr(t,i,n){var r=null==(t=Eo(t,i=me(i,t)))?t:t[No(qo(i))];return null==r?e:xi(r,t,n)}function Ar(t){return rh(t)&&zr(t)==_}function Dr(t,i,n,r,o){return t===i||(null==t||null==i||!rh(t)&&!rh(i)?t!==t&&i!==i:function(t,i,n,r,o,s){var h=Js(t),u=Js(i),a=h?w:yo(t),l=u?w:yo(i),c=(a=a==_?B:a)==B,f=(l=l==_?B:l)==B,p=a==l;if(p&&Hs(t)){if(!Hs(i))return!1;h=!0,c=!1}if(p&&!c)return s||(s=new Hn),h||ch(t)?no(t,i,n,r,o,s):function(t,i,n,r,e,o,s){switch(n){case W:if(t.byteLength!=i.byteLength||t.byteOffset!=i.byteOffset)return!1;t=t.buffer,i=i.buffer;case R:return!(t.byteLength!=i.byteLength||!o(new Yt(t),new Yt(i)));case m:case b:case z:return Vs(+t,+i);case M:return t.name==i.name&&t.message==i.message;case E:case L:return t==i+"";case x:var h=un;case T:var u=1&r;if(h||(h=cn),t.size!=i.size&&!u)return!1;var a=s.get(t);if(a)return a==i;r|=2,s.set(t,i);var l=no(h(t),h(i),r,e,o,s);return s.delete(t),l;case A:if(Nn)return Nn.call(t)==Nn.call(i)}return!1}(t,i,a,n,r,o,s);if(!(1&n)){var v=c&&Wt.call(t,"__wrapped__"),d=f&&Wt.call(i,"__wrapped__");if(v||d){var y=v?t.value():t,g=d?i.value():i;return s||(s=new Hn),o(y,g,n,r,s)}}if(!p)return!1;return s||(s=new Hn),function(t,i,n,r,o,s){var h=1&n,u=eo(t),a=u.length,l=eo(i).length;if(a!=l&&!h)return!1;var c=a;for(;c--;){var f=u[c];if(!(h?f in i:Wt.call(i,f)))return!1}var p=s.get(t),v=s.get(i);if(p&&v)return p==i&&v==t;var d=!0;s.set(t,i),s.set(i,t);var y=h;for(;++c<a;){var g=t[f=u[c]],_=i[f];if(r)var w=h?r(_,g,f,i,t,s):r(g,_,f,t,i,s);if(!(w===e?g===_||o(g,_,n,r,s):w)){d=!1;break}y||(y="constructor"==f)}if(d&&!y){var m=t.constructor,b=i.constructor;m==b||!("constructor"in t)||!("constructor"in i)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return s.delete(t),s.delete(i),d}(t,i,n,r,o,s)}(t,i,n,r,Dr,o))}function Rr(t,i,n,r){var o=n.length,s=o,h=!r;if(null==t)return!s;for(t=zt(t);o--;){var u=n[o];if(h&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<s;){var a=(u=n[o])[0],l=t[a],c=u[1];if(h&&u[2]){if(l===e&&!(a in t))return!1}else{var f=new Hn;if(r)var p=r(l,c,a,t,i,f);if(!(p===e?Dr(c,l,3,r,f):p))return!1}}return!0}function Wr(t){return!(!nh(t)||(i=t,Pt&&Pt in i))&&(Qs(t)?It:_t).test(Fo(t));var i}function jr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Js(t)?Vr(t[0],t[1]):Ir(t):vu(t)}function Pr(t){if(!xo(t))return _n(t);var i=[];for(var n in zt(t))Wt.call(t,n)&&"constructor"!=n&&i.push(n);return i}function Or(t){if(!nh(t))return function(t){var i=[];if(null!=t)for(var n in zt(t))i.push(n);return i}(t);var i=xo(t),n=[];for(var r in t)("constructor"!=r||!i&&Wt.call(t,r))&&n.push(r);return n}function Nr(t,i){return t<i}function Fr(t,i){var r=-1,e=Us(t)?n(t.length):[];return pr(t,(function(t,n,o){e[++r]=i(t,n,o)})),e}function Ir(t){var i=co(t);return 1==i.length&&i[0][2]?Bo(i[0][0],i[0][1]):function(n){return n===t||Rr(n,t,i)}}function Vr(t,i){return Mo(t)&&zo(i)?Bo(No(t),i):function(n){var r=kh(n,t);return r===e&&r===i?Eh(n,t):Dr(i,r,3)}}function Gr(t,i,n,r,o){t!==i&&wr(i,(function(s,h){if(o||(o=new Hn),nh(s))!function(t,i,n,r,o,s,h){var u=Lo(t,n),a=Lo(i,n),l=h.get(a);if(l)return void ir(t,n,l);var c=s?s(u,a,n+"",t,i,h):e,f=c===e;if(f){var p=Js(a),v=!p&&Hs(a),d=!p&&!v&&ch(a);c=a,p||v||d?Js(u)?c=u:Ks(u)?c=Te(u):v?(f=!1,c=Ce(a,!0)):d?(f=!1,c=ze(a,!0)):c=[]:sh(a)||Xs(a)?(c=u,Xs(u)?c=wh(u):nh(u)&&!Qs(u)||(c=_o(a))):f=!1}f&&(h.set(a,c),o(c,a,r,s,h),h.delete(a));ir(t,n,c)}(t,i,h,n,Gr,r,o);else{var u=r?r(Lo(t,h),s,h+"",t,i,o):e;u===e&&(u=s),ir(t,h,u)}}),Rh)}function Yr(t,i){var n=t.length;if(n)return mo(i+=i<0?n:0,n)?t[i]:e}function Xr(t,i,n){i=i.length?Di(i,(function(t){return Js(t)?function(i){return Cr(i,1===t.length?t[0]:t)}:t})):[ou];var r=-1;i=Di(i,$i(ao()));var e=Fr(t,(function(t,n,e){var o=Di(i,(function(i){return i(t)}));return{criteria:o,index:++r,value:t}}));return function(t,i){var n=t.length;for(t.sort(i);n--;)t[n]=t[n].value;return t}(e,(function(t,i){return function(t,i,n){var r=-1,e=t.criteria,o=i.criteria,s=e.length,h=n.length;for(;++r<s;){var u=Be(e[r],o[r]);if(u)return r>=h?u:u*("desc"==n[r]?-1:1)}return t.index-i.index}(t,i,n)}))}function Jr(t,i,n){for(var r=-1,e=i.length,o={};++r<e;){var s=i[r],h=Cr(t,s);n(h,s)&&te(o,me(s,t),h)}return o}function Zr(t,i,n,r){var e=r?Vi:Ii,o=-1,s=i.length,h=t;for(t===i&&(i=Te(i)),n&&(h=Di(t,$i(n)));++o<s;)for(var u=0,a=i[o],l=n?n(a):a;(u=e(h,l,u,r))>-1;)h!==t&&Kt.call(h,u,1),Kt.call(t,u,1);return t}function Ur(t,i){for(var n=t?i.length:0,r=n-1;n--;){var e=i[n];if(n==r||e!==o){var o=e;mo(e)?Kt.call(t,e,1):fe(t,e)}}return t}function Kr(t,i){return t+di(Sn()*(i-t+1))}function Hr(t,i){var n="";if(!t||i<1||i>v)return n;do{i%2&&(n+=t),(i=di(i/2))&&(t+=t)}while(i);return n}function $r(t,i){return Ro(ko(t,i,ou),t+"")}function qr(t){return qn(Vh(t))}function Qr(t,i){var n=Vh(t);return Po(n,ur(i,0,n.length))}function te(t,i,n,r){if(!nh(t))return t;for(var o=-1,s=(i=me(i,t)).length,h=s-1,u=t;null!=u&&++o<s;){var a=No(i[o]),l=n;if("__proto__"===a||"constructor"===a||"prototype"===a)return t;if(o!=h){var c=u[a];(l=r?r(c,a,u):e)===e&&(l=nh(c)?c:mo(i[o+1])?[]:{})}nr(u,a,l),u=u[a]}return t}var ie=Ln?function(t,i){return Ln.set(t,i),t}:ou,ne=ni?function(t,i){return ni(t,"toString",{configurable:!0,enumerable:!1,value:nu(i),writable:!0})}:ou;function re(t){return Po(Vh(t))}function ee(t,i,r){var e=-1,o=t.length;i<0&&(i=-i>o?0:o+i),(r=r>o?o:r)<0&&(r+=o),o=i>r?0:r-i>>>0,i>>>=0;for(var s=n(o);++e<o;)s[e]=t[e+i];return s}function oe(t,i){var n;return pr(t,(function(t,r,e){return!(n=i(t,r,e))})),!!n}function se(t,i,n){var r=0,e=null==t?r:t.length;if("number"==typeof i&&i===i&&e<=2147483647){for(;r<e;){var o=r+e>>>1,s=t[o];null!==s&&!lh(s)&&(n?s<=i:s<i)?r=o+1:e=o}return e}return he(t,i,ou,n)}function he(t,i,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var h=(i=n(i))!==i,u=null===i,a=lh(i),l=i===e;o<s;){var c=di((o+s)/2),f=n(t[c]),p=f!==e,v=null===f,d=f===f,y=lh(f);if(h)var g=r||d;else g=l?d&&(r||p):u?d&&p&&(r||!v):a?d&&p&&!v&&(r||!y):!v&&!y&&(r?f<=i:f<i);g?o=c+1:s=c}return mn(s,4294967294)}function ue(t,i){for(var n=-1,r=t.length,e=0,o=[];++n<r;){var s=t[n],h=i?i(s):s;if(!n||!Vs(h,u)){var u=h;o[e++]=0===s?0:s}}return o}function ae(t){return"number"==typeof t?t:lh(t)?d:+t}function le(t){if("string"==typeof t)return t;if(Js(t))return Di(t,le)+"";if(lh(t))return Fn?Fn.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}function ce(t,i,n){var r=-1,e=Li,o=t.length,s=!0,h=[],u=h;if(n)s=!1,e=Ai;else if(o>=200){var a=i?null:He(t);if(a)return cn(a);s=!1,e=Qi,u=new Kn}else u=i?[]:h;t:for(;++r<o;){var l=t[r],c=i?i(l):l;if(l=n||0!==l?l:0,s&&c===c){for(var f=u.length;f--;)if(u[f]===c)continue t;i&&u.push(c),h.push(l)}else e(u,c,n)||(u!==h&&u.push(c),h.push(l))}return h}function fe(t,i){return null==(t=Eo(t,i=me(i,t)))||delete t[No(qo(i))]}function pe(t,i,n,r){return te(t,i,n(Cr(t,i)),r)}function ve(t,i,n,r){for(var e=t.length,o=r?e:-1;(r?o--:++o<e)&&i(t[o],o,t););return n?ee(t,r?0:o,r?o+1:e):ee(t,r?o+1:0,r?e:o)}function de(t,i){var n=t;return n instanceof Xn&&(n=n.value()),Wi(i,(function(t,i){return i.func.apply(i.thisArg,Ri([t],i.args))}),n)}function ye(t,i,r){var e=t.length;if(e<2)return e?ce(t[0]):[];for(var o=-1,s=n(e);++o<e;)for(var h=t[o],u=-1;++u<e;)u!=o&&(s[o]=fr(s[o]||h,t[u],i,r));return ce(_r(s,1),i,r)}function ge(t,i,n){for(var r=-1,o=t.length,s=i.length,h={};++r<o;){var u=r<s?i[r]:e;n(h,t[r],u)}return h}function _e(t){return Ks(t)?t:[]}function we(t){return"function"==typeof t?t:ou}function me(t,i){return Js(t)?t:Mo(t,i)?[t]:Oo(mh(t))}var be=$r;function Me(t,i,n){var r=t.length;return n=n===e?r:n,!i&&n>=r?t:ee(t,i,n)}var Se=ui||function(t){return pi.clearTimeout(t)};function Ce(t,i){if(i)return t.slice();var n=t.length,r=Xt?Xt(n):new t.constructor(n);return t.copy(r),r}function xe(t){var i=new t.constructor(t.byteLength);return new Yt(i).set(new Yt(t)),i}function ze(t,i){var n=i?xe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Be(t,i){if(t!==i){var n=t!==e,r=null===t,o=t===t,s=lh(t),h=i!==e,u=null===i,a=i===i,l=lh(i);if(!u&&!l&&!s&&t>i||s&&h&&a&&!u&&!l||r&&h&&a||!n&&a||!o)return 1;if(!r&&!s&&!l&&t<i||l&&n&&o&&!r&&!s||u&&n&&o||!h&&o||!a)return-1}return 0}function ke(t,i,r,e){for(var o=-1,s=t.length,h=r.length,u=-1,a=i.length,l=wn(s-h,0),c=n(a+l),f=!e;++u<a;)c[u]=i[u];for(;++o<h;)(f||o<s)&&(c[r[o]]=t[o]);for(;l--;)c[u++]=t[o++];return c}function Ee(t,i,r,e){for(var o=-1,s=t.length,h=-1,u=r.length,a=-1,l=i.length,c=wn(s-u,0),f=n(c+l),p=!e;++o<c;)f[o]=t[o];for(var v=o;++a<l;)f[v+a]=i[a];for(;++h<u;)(p||o<s)&&(f[v+r[h]]=t[o++]);return f}function Te(t,i){var r=-1,e=t.length;for(i||(i=n(e));++r<e;)i[r]=t[r];return i}function Le(t,i,n,r){var o=!n;n||(n={});for(var s=-1,h=i.length;++s<h;){var u=i[s],a=r?r(n[u],t[u],u,n,t):e;a===e&&(a=t[u]),o?sr(n,u,a):nr(n,u,a)}return n}function Ae(t,i){return function(n,r){var e=Js(n)?zi:er,o=i?i():{};return e(n,t,ao(r,2),o)}}function De(t){return $r((function(i,n){var r=-1,o=n.length,s=o>1?n[o-1]:e,h=o>2?n[2]:e;for(s=t.length>3&&"function"==typeof s?(o--,s):e,h&&bo(n[0],n[1],h)&&(s=o<3?e:s,o=1),i=zt(i);++r<o;){var u=n[r];u&&t(i,u,r,s)}return i}))}function Re(t,i){return function(n,r){if(null==n)return n;if(!Us(n))return t(n,r);for(var e=n.length,o=i?e:-1,s=zt(n);(i?o--:++o<e)&&!1!==r(s[o],o,s););return n}}function We(t){return function(i,n,r){for(var e=-1,o=zt(i),s=r(i),h=s.length;h--;){var u=s[t?h:++e];if(!1===n(o[u],u,o))break}return i}}function je(t){return function(i){var n=hn(i=mh(i))?vn(i):e,r=n?n[0]:i.charAt(0),o=n?Me(n,1).join(""):i.slice(1);return r[t]()+o}}function Pe(t){return function(i){return Wi(Qh(Xh(i).replace(qt,"")),t,"")}}function Oe(t){return function(){var i=arguments;switch(i.length){case 0:return new t;case 1:return new t(i[0]);case 2:return new t(i[0],i[1]);case 3:return new t(i[0],i[1],i[2]);case 4:return new t(i[0],i[1],i[2],i[3]);case 5:return new t(i[0],i[1],i[2],i[3],i[4]);case 6:return new t(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new t(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var n=Vn(t.prototype),r=t.apply(n,i);return nh(r)?r:n}}function Ne(t){return function(i,n,r){var o=zt(i);if(!Us(i)){var s=ao(n,3);i=Dh(i),n=function(t){return s(o[t],t,o)}}var h=t(i,n,r);return h>-1?o[s?i[h]:h]:e}}function Fe(t){return ro((function(i){var n=i.length,r=n,s=Yn.prototype.thru;for(t&&i.reverse();r--;){var h=i[r];if("function"!=typeof h)throw new Et(o);if(s&&!u&&"wrapper"==ho(h))var u=new Yn([],!0)}for(r=u?r:n;++r<n;){var a=ho(h=i[r]),l="wrapper"==a?so(h):e;u=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[ho(l[0])].apply(u,l[3]):1==h.length&&So(h)?u[a]():u.thru(h)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Js(r))return u.plant(r).value();for(var e=0,o=n?i[e].apply(this,t):r;++e<n;)o=i[e].call(this,o);return o}}))}function Ie(t,i,r,o,s,h,u,a,l,f){var p=i&c,v=1&i,d=2&i,y=24&i,g=512&i,_=d?e:Oe(t);return function e(){for(var c=arguments.length,w=n(c),m=c;m--;)w[m]=arguments[m];if(y)var b=uo(e),M=rn(w,b);if(o&&(w=ke(w,o,s,y)),h&&(w=Ee(w,h,u,y)),c-=M,y&&c<f){var S=ln(w,b);return Ue(t,i,Ie,e.placeholder,r,w,S,a,l,f-c)}var C=v?r:this,x=d?C[t]:t;return c=w.length,a?w=To(w,a):g&&c>1&&w.reverse(),p&&l<c&&(w.length=l),this&&this!==pi&&this instanceof e&&(x=_||Oe(x)),x.apply(C,w)}}function Ve(t,i){return function(n,r){return function(t,i,n,r){return br(t,(function(t,e,o){i(r,n(t),e,o)})),r}(n,t,i(r),{})}}function Ge(t,i){return function(n,r){var o;if(n===e&&r===e)return i;if(n!==e&&(o=n),r!==e){if(o===e)return r;"string"==typeof n||"string"==typeof r?(n=le(n),r=le(r)):(n=ae(n),r=ae(r)),o=t(n,r)}return o}}function Ye(t){return ro((function(i){return i=Di(i,$i(ao())),$r((function(n){var r=this;return t(i,(function(t){return xi(t,r,n)}))}))}))}function Xe(t,i){var n=(i=i===e?" ":le(i)).length;if(n<2)return n?Hr(i,t):i;var r=Hr(i,vi(t/pn(i)));return hn(i)?Me(vn(r),0,t).join(""):r.slice(0,t)}function Je(t){return function(i,r,o){return o&&"number"!=typeof o&&bo(i,r,o)&&(r=o=e),i=dh(i),r===e?(r=i,i=0):r=dh(r),function(t,i,r,e){for(var o=-1,s=wn(vi((i-t)/(r||1)),0),h=n(s);s--;)h[e?s:++o]=t,t+=r;return h}(i,r,o=o===e?i<r?1:-1:dh(o),t)}}function Ze(t){return function(i,n){return"string"==typeof i&&"string"==typeof n||(i=_h(i),n=_h(n)),t(i,n)}}function Ue(t,i,n,r,o,s,h,u,c,f){var p=8&i;i|=p?a:l,4&(i&=~(p?l:a))||(i&=-4);var v=[t,i,o,p?s:e,p?h:e,p?e:s,p?e:h,u,c,f],d=n.apply(e,v);return So(t)&&Ao(d,v),d.placeholder=r,Wo(d,t,i)}function Ke(t){var i=xt[t];return function(t,n){if(t=_h(t),(n=null==n?0:mn(yh(n),292))&&Oi(t)){var r=(mh(t)+"e").split("e");return+((r=(mh(i(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return i(t)}}var He=kn&&1/cn(new kn([,-0]))[1]==p?function(t){return new kn(t)}:lu;function $e(t){return function(i){var n=yo(i);return n==x?un(i):n==T?fn(i):function(t,i){return Di(i,(function(i){return[i,t[i]]}))}(i,t(i))}}function qe(t,i,r,s,p,v,d,y){var g=2&i;if(!g&&"function"!=typeof t)throw new Et(o);var _=s?s.length:0;if(_||(i&=-97,s=p=e),d=d===e?d:wn(yh(d),0),y=y===e?y:yh(y),_-=p?p.length:0,i&l){var w=s,m=p;s=p=e}var b=g?e:so(t),M=[t,i,r,s,p,w,m,v,d,y];if(b&&function(t,i){var n=t[1],r=i[1],e=n|r,o=e<131,s=r==c&&8==n||r==c&&n==f&&t[7].length<=i[8]||384==r&&i[7].length<=i[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=i[2],e|=1&n?0:4);var u=i[3];if(u){var a=t[3];t[3]=a?ke(a,u,i[4]):u,t[4]=a?ln(t[3],h):i[4]}(u=i[5])&&(a=t[5],t[5]=a?Ee(a,u,i[6]):u,t[6]=a?ln(t[5],h):i[6]);(u=i[7])&&(t[7]=u);r&c&&(t[8]=null==t[8]?i[8]:mn(t[8],i[8]));null==t[9]&&(t[9]=i[9]);t[0]=i[0],t[1]=e}(M,b),t=M[0],i=M[1],r=M[2],s=M[3],p=M[4],!(y=M[9]=M[9]===e?g?0:t.length:wn(M[9]-_,0))&&24&i&&(i&=-25),i&&1!=i)S=8==i||i==u?function(t,i,r){var o=Oe(t);return function s(){for(var h=arguments.length,u=n(h),a=h,l=uo(s);a--;)u[a]=arguments[a];var c=h<3&&u[0]!==l&&u[h-1]!==l?[]:ln(u,l);return(h-=c.length)<r?Ue(t,i,Ie,s.placeholder,e,u,c,e,e,r-h):xi(this&&this!==pi&&this instanceof s?o:t,this,u)}}(t,i,y):i!=a&&33!=i||p.length?Ie.apply(e,M):function(t,i,r,e){var o=1&i,s=Oe(t);return function i(){for(var h=-1,u=arguments.length,a=-1,l=e.length,c=n(l+u),f=this&&this!==pi&&this instanceof i?s:t;++a<l;)c[a]=e[a];for(;u--;)c[a++]=arguments[++h];return xi(f,o?r:this,c)}}(t,i,r,s);else var S=function(t,i,n){var r=1&i,e=Oe(t);return function i(){return(this&&this!==pi&&this instanceof i?e:t).apply(r?n:this,arguments)}}(t,i,r);return Wo((b?ie:Ao)(S,M),t,i)}function Qe(t,i,n,r){return t===e||Vs(t,At[n])&&!Wt.call(r,n)?i:t}function to(t,i,n,r,o,s){return nh(t)&&nh(i)&&(s.set(i,t),Gr(t,i,e,to,s),s.delete(i)),t}function io(t){return sh(t)?e:t}function no(t,i,n,r,o,s){var h=1&n,u=t.length,a=i.length;if(u!=a&&!(h&&a>u))return!1;var l=s.get(t),c=s.get(i);if(l&&c)return l==i&&c==t;var f=-1,p=!0,v=2&n?new Kn:e;for(s.set(t,i),s.set(i,t);++f<u;){var d=t[f],y=i[f];if(r)var g=h?r(y,d,f,i,t,s):r(d,y,f,t,i,s);if(g!==e){if(g)continue;p=!1;break}if(v){if(!Pi(i,(function(t,i){if(!Qi(v,i)&&(d===t||o(d,t,n,r,s)))return v.push(i)}))){p=!1;break}}else if(d!==y&&!o(d,y,n,r,s)){p=!1;break}}return s.delete(t),s.delete(i),p}function ro(t){return Ro(ko(t,e,Zo),t+"")}function eo(t){return xr(t,Dh,po)}function oo(t){return xr(t,Rh,vo)}var so=Ln?function(t){return Ln.get(t)}:lu;function ho(t){for(var i=t.name+"",n=An[i],r=Wt.call(An,i)?n.length:0;r--;){var e=n[r],o=e.func;if(null==o||o==t)return e.name}return i}function uo(t){return(Wt.call(In,"placeholder")?In:t).placeholder}function ao(){var t=In.iteratee||su;return t=t===su?jr:t,arguments.length?t(arguments[0],arguments[1]):t}function lo(t,i){var n=t.__data__;return function(t){var i=typeof t;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==t:null===t}(i)?n["string"==typeof i?"string":"hash"]:n.map}function co(t){for(var i=Dh(t),n=i.length;n--;){var r=i[n],e=t[r];i[n]=[r,e,zo(e)]}return i}function fo(t,i){var n=function(t,i){return null==t?e:t[i]}(t,i);return Wr(n)?n:e}var po=gi?function(t){return null==t?[]:(t=zt(t),Ti(gi(t),(function(i){return Ut.call(t,i)})))}:gu,vo=gi?function(t){for(var i=[];t;)Ri(i,po(t)),t=Jt(t);return i}:gu,yo=zr;function go(t,i,n){for(var r=-1,e=(i=me(i,t)).length,o=!1;++r<e;){var s=No(i[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=e?o:!!(e=null==t?0:t.length)&&ih(e)&&mo(s,e)&&(Js(t)||Xs(t))}function _o(t){return"function"!=typeof t.constructor||xo(t)?{}:Vn(Jt(t))}function wo(t){return Js(t)||Xs(t)||!!(Ht&&t&&t[Ht])}function mo(t,i){var n=typeof t;return!!(i=null==i?v:i)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<i}function bo(t,i,n){if(!nh(n))return!1;var r=typeof i;return!!("number"==r?Us(n)&&mo(i,n.length):"string"==r&&i in n)&&Vs(n[i],t)}function Mo(t,i){if(Js(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!lh(t))||(nt.test(t)||!it.test(t)||null!=i&&t in zt(i))}function So(t){var i=ho(t),n=In[i];if("function"!=typeof n||!(i in Xn.prototype))return!1;if(t===n)return!0;var r=so(n);return!!r&&t===r[0]}(xn&&yo(new xn(new ArrayBuffer(1)))!=W||zn&&yo(new zn)!=x||Bn&&yo(Bn.resolve())!=k||kn&&yo(new kn)!=T||En&&yo(new En)!=D)&&(yo=function(t){var i=zr(t),n=i==B?t.constructor:e,r=n?Fo(n):"";if(r)switch(r){case Dn:return W;case Rn:return x;case Wn:return k;case jn:return T;case Pn:return D}return i});var Co=Dt?Qs:_u;function xo(t){var i=t&&t.constructor;return t===("function"==typeof i&&i.prototype||At)}function zo(t){return t===t&&!nh(t)}function Bo(t,i){return function(n){return null!=n&&(n[t]===i&&(i!==e||t in zt(n)))}}function ko(t,i,r){return i=wn(i===e?t.length-1:i,0),function(){for(var e=arguments,o=-1,s=wn(e.length-i,0),h=n(s);++o<s;)h[o]=e[i+o];o=-1;for(var u=n(i+1);++o<i;)u[o]=e[o];return u[i]=r(h),xi(t,this,u)}}function Eo(t,i){return i.length<2?t:Cr(t,ee(i,0,-1))}function To(t,i){for(var n=t.length,r=mn(i.length,n),o=Te(t);r--;){var s=i[r];t[r]=mo(s,n)?o[s]:e}return t}function Lo(t,i){if(("constructor"!==i||"function"!==typeof t[i])&&"__proto__"!=i)return t[i]}var Ao=jo(ie),Do=fi||function(t,i){return pi.setTimeout(t,i)},Ro=jo(ne);function Wo(t,i,n){var r=i+"";return Ro(t,function(t,i){var n=i.length;if(!n)return t;var r=n-1;return i[r]=(n>1?"& ":"")+i[r],i=i.join(n>2?", ":" "),t.replace(ut,"{\n/* [wrapped with "+i+"] */\n")}(r,function(t,i){return Bi(g,(function(n){var r="_."+n[0];i&n[1]&&!Li(t,r)&&t.push(r)})),t.sort()}(function(t){var i=t.match(at);return i?i[1].split(lt):[]}(r),n)))}function jo(t){var i=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++i>=800)return arguments[0]}else i=0;return t.apply(e,arguments)}}function Po(t,i){var n=-1,r=t.length,o=r-1;for(i=i===e?r:i;++n<i;){var s=Kr(n,o),h=t[s];t[s]=t[n],t[n]=h}return t.length=i,t}var Oo=function(t){var i=js(t,(function(t){return 500===n.size&&n.clear(),t})),n=i.cache;return i}((function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(rt,(function(t,n,r,e){i.push(r?e.replace(pt,"$1"):n||t)})),i}));function No(t){if("string"==typeof t||lh(t))return t;var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}function Fo(t){if(null!=t){try{return Rt.call(t)}catch(i){}try{return t+""}catch(i){}}return""}function Io(t){if(t instanceof Xn)return t.clone();var i=new Yn(t.__wrapped__,t.__chain__);return i.__actions__=Te(t.__actions__),i.__index__=t.__index__,i.__values__=t.__values__,i}var Vo=$r((function(t,i){return Ks(t)?fr(t,_r(i,1,Ks,!0)):[]})),Go=$r((function(t,i){var n=qo(i);return Ks(n)&&(n=e),Ks(t)?fr(t,_r(i,1,Ks,!0),ao(n,2)):[]})),Yo=$r((function(t,i){var n=qo(i);return Ks(n)&&(n=e),Ks(t)?fr(t,_r(i,1,Ks,!0),e,n):[]}));function Xo(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var e=null==n?0:yh(n);return e<0&&(e=wn(r+e,0)),Fi(t,ao(i,3),e)}function Jo(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==e&&(o=yh(n),o=n<0?wn(r+o,0):mn(o,r-1)),Fi(t,ao(i,3),o,!0)}function Zo(t){return(null==t?0:t.length)?_r(t,1):[]}function Uo(t){return t&&t.length?t[0]:e}var Ko=$r((function(t){var i=Di(t,_e);return i.length&&i[0]===t[0]?Tr(i):[]})),Ho=$r((function(t){var i=qo(t),n=Di(t,_e);return i===qo(n)?i=e:n.pop(),n.length&&n[0]===t[0]?Tr(n,ao(i,2)):[]})),$o=$r((function(t){var i=qo(t),n=Di(t,_e);return(i="function"==typeof i?i:e)&&n.pop(),n.length&&n[0]===t[0]?Tr(n,e,i):[]}));function qo(t){var i=null==t?0:t.length;return i?t[i-1]:e}var Qo=$r(ts);function ts(t,i){return t&&t.length&&i&&i.length?Zr(t,i):t}var is=ro((function(t,i){var n=null==t?0:t.length,r=hr(t,i);return Ur(t,Di(i,(function(t){return mo(t,n)?+t:t})).sort(Be)),r}));function ns(t){return null==t?t:Cn.call(t)}var rs=$r((function(t){return ce(_r(t,1,Ks,!0))})),es=$r((function(t){var i=qo(t);return Ks(i)&&(i=e),ce(_r(t,1,Ks,!0),ao(i,2))})),os=$r((function(t){var i=qo(t);return i="function"==typeof i?i:e,ce(_r(t,1,Ks,!0),e,i)}));function ss(t){if(!t||!t.length)return[];var i=0;return t=Ti(t,(function(t){if(Ks(t))return i=wn(t.length,i),!0})),Ki(i,(function(i){return Di(t,Xi(i))}))}function hs(t,i){if(!t||!t.length)return[];var n=ss(t);return null==i?n:Di(n,(function(t){return xi(i,e,t)}))}var us=$r((function(t,i){return Ks(t)?fr(t,i):[]})),as=$r((function(t){return ye(Ti(t,Ks))})),ls=$r((function(t){var i=qo(t);return Ks(i)&&(i=e),ye(Ti(t,Ks),ao(i,2))})),cs=$r((function(t){var i=qo(t);return i="function"==typeof i?i:e,ye(Ti(t,Ks),e,i)})),fs=$r(ss);var ps=$r((function(t){var i=t.length,n=i>1?t[i-1]:e;return n="function"==typeof n?(t.pop(),n):e,hs(t,n)}));function vs(t){var i=In(t);return i.__chain__=!0,i}function ds(t,i){return i(t)}var ys=ro((function(t){var i=t.length,n=i?t[0]:0,r=this.__wrapped__,o=function(i){return hr(i,t)};return!(i>1||this.__actions__.length)&&r instanceof Xn&&mo(n)?((r=r.slice(n,+n+(i?1:0))).__actions__.push({func:ds,args:[o],thisArg:e}),new Yn(r,this.__chain__).thru((function(t){return i&&!t.length&&t.push(e),t}))):this.thru(o)}));var gs=Ae((function(t,i,n){Wt.call(t,n)?++t[n]:sr(t,n,1)}));var _s=Ne(Xo),ws=Ne(Jo);function ms(t,i){return(Js(t)?Bi:pr)(t,ao(i,3))}function bs(t,i){return(Js(t)?ki:vr)(t,ao(i,3))}var Ms=Ae((function(t,i,n){Wt.call(t,n)?t[n].push(i):sr(t,n,[i])}));var Ss=$r((function(t,i,r){var e=-1,o="function"==typeof i,s=Us(t)?n(t.length):[];return pr(t,(function(t){s[++e]=o?xi(i,t,r):Lr(t,i,r)})),s})),Cs=Ae((function(t,i,n){sr(t,n,i)}));function xs(t,i){return(Js(t)?Di:Fr)(t,ao(i,3))}var zs=Ae((function(t,i,n){t[n?0:1].push(i)}),(function(){return[[],[]]}));var Bs=$r((function(t,i){if(null==t)return[];var n=i.length;return n>1&&bo(t,i[0],i[1])?i=[]:n>2&&bo(i[0],i[1],i[2])&&(i=[i[0]]),Xr(t,_r(i,1),[])})),ks=ci||function(){return pi.Date.now()};function Es(t,i,n){return i=n?e:i,i=t&&null==i?t.length:i,qe(t,c,e,e,e,e,i)}function Ts(t,i){var n;if("function"!=typeof i)throw new Et(o);return t=yh(t),function(){return--t>0&&(n=i.apply(this,arguments)),t<=1&&(i=e),n}}var Ls=$r((function(t,i,n){var r=1;if(n.length){var e=ln(n,uo(Ls));r|=a}return qe(t,r,i,n,e)})),As=$r((function(t,i,n){var r=3;if(n.length){var e=ln(n,uo(As));r|=a}return qe(i,r,t,n,e)}));function Ds(t,i,n){var r,s,h,u,a,l,c=0,f=!1,p=!1,v=!0;if("function"!=typeof t)throw new Et(o);function d(i){var n=r,o=s;return r=s=e,c=i,u=t.apply(o,n)}function y(t){return c=t,a=Do(_,i),f?d(t):u}function g(t){var n=t-l;return l===e||n>=i||n<0||p&&t-c>=h}function _(){var t=ks();if(g(t))return w(t);a=Do(_,function(t){var n=i-(t-l);return p?mn(n,h-(t-c)):n}(t))}function w(t){return a=e,v&&r?d(t):(r=s=e,u)}function m(){var t=ks(),n=g(t);if(r=arguments,s=this,l=t,n){if(a===e)return y(l);if(p)return Se(a),a=Do(_,i),d(l)}return a===e&&(a=Do(_,i)),u}return i=_h(i)||0,nh(n)&&(f=!!n.leading,h=(p="maxWait"in n)?wn(_h(n.maxWait)||0,i):h,v="trailing"in n?!!n.trailing:v),m.cancel=function(){a!==e&&Se(a),c=0,r=l=s=a=e},m.flush=function(){return a===e?u:w(ks())},m}var Rs=$r((function(t,i){return cr(t,1,i)})),Ws=$r((function(t,i,n){return cr(t,_h(i)||0,n)}));function js(t,i){if("function"!=typeof t||null!=i&&"function"!=typeof i)throw new Et(o);var n=function n(){var r=arguments,e=i?i.apply(this,r):r[0],o=n.cache;if(o.has(e))return o.get(e);var s=t.apply(this,r);return n.cache=o.set(e,s)||o,s};return n.cache=new(js.Cache||Un),n}function Ps(t){if("function"!=typeof t)throw new Et(o);return function(){var i=arguments;switch(i.length){case 0:return!t.call(this);case 1:return!t.call(this,i[0]);case 2:return!t.call(this,i[0],i[1]);case 3:return!t.call(this,i[0],i[1],i[2])}return!t.apply(this,i)}}js.Cache=Un;var Os=be((function(t,i){var n=(i=1==i.length&&Js(i[0])?Di(i[0],$i(ao())):Di(_r(i,1),$i(ao()))).length;return $r((function(r){for(var e=-1,o=mn(r.length,n);++e<o;)r[e]=i[e].call(this,r[e]);return xi(t,this,r)}))})),Ns=$r((function(t,i){var n=ln(i,uo(Ns));return qe(t,a,e,i,n)})),Fs=$r((function(t,i){var n=ln(i,uo(Fs));return qe(t,l,e,i,n)})),Is=ro((function(t,i){return qe(t,f,e,e,e,i)}));function Vs(t,i){return t===i||t!==t&&i!==i}var Gs=Ze(Br),Ys=Ze((function(t,i){return t>=i})),Xs=Ar(function(){return arguments}())?Ar:function(t){return rh(t)&&Wt.call(t,"callee")&&!Ut.call(t,"callee")},Js=n.isArray,Zs=wi?$i(wi):function(t){return rh(t)&&zr(t)==R};function Us(t){return null!=t&&ih(t.length)&&!Qs(t)}function Ks(t){return rh(t)&&Us(t)}var Hs=_i||_u,$s=mi?$i(mi):function(t){return rh(t)&&zr(t)==b};function qs(t){if(!rh(t))return!1;var i=zr(t);return i==M||"[object DOMException]"==i||"string"==typeof t.message&&"string"==typeof t.name&&!sh(t)}function Qs(t){if(!nh(t))return!1;var i=zr(t);return i==S||i==C||"[object AsyncFunction]"==i||"[object Proxy]"==i}function th(t){return"number"==typeof t&&t==yh(t)}function ih(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function nh(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}function rh(t){return null!=t&&"object"==typeof t}var eh=bi?$i(bi):function(t){return rh(t)&&yo(t)==x};function oh(t){return"number"==typeof t||rh(t)&&zr(t)==z}function sh(t){if(!rh(t)||zr(t)!=B)return!1;var i=Jt(t);if(null===i)return!0;var n=Wt.call(i,"constructor")&&i.constructor;return"function"==typeof n&&n instanceof n&&Rt.call(n)==Nt}var hh=Mi?$i(Mi):function(t){return rh(t)&&zr(t)==E};var uh=Si?$i(Si):function(t){return rh(t)&&yo(t)==T};function ah(t){return"string"==typeof t||!Js(t)&&rh(t)&&zr(t)==L}function lh(t){return"symbol"==typeof t||rh(t)&&zr(t)==A}var ch=Ci?$i(Ci):function(t){return rh(t)&&ih(t.length)&&!!si[zr(t)]};var fh=Ze(Nr),ph=Ze((function(t,i){return t<=i}));function vh(t){if(!t)return[];if(Us(t))return ah(t)?vn(t):Te(t);if($t&&t[$t])return function(t){for(var i,n=[];!(i=t.next()).done;)n.push(i.value);return n}(t[$t]());var i=yo(t);return(i==x?un:i==T?cn:Vh)(t)}function dh(t){return t?(t=_h(t))===p||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function yh(t){var i=dh(t),n=i%1;return i===i?n?i-n:i:0}function gh(t){return t?ur(yh(t),0,y):0}function _h(t){if("number"==typeof t)return t;if(lh(t))return d;if(nh(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=nh(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=Hi(t);var n=gt.test(t);return n||wt.test(t)?li(t.slice(2),n?2:8):yt.test(t)?d:+t}function wh(t){return Le(t,Rh(t))}function mh(t){return null==t?"":le(t)}var bh=De((function(t,i){if(xo(i)||Us(i))Le(i,Dh(i),t);else for(var n in i)Wt.call(i,n)&&nr(t,n,i[n])})),Mh=De((function(t,i){Le(i,Rh(i),t)})),Sh=De((function(t,i,n,r){Le(i,Rh(i),t,r)})),Ch=De((function(t,i,n,r){Le(i,Dh(i),t,r)})),xh=ro(hr);var zh=$r((function(t,i){t=zt(t);var n=-1,r=i.length,o=r>2?i[2]:e;for(o&&bo(i[0],i[1],o)&&(r=1);++n<r;)for(var s=i[n],h=Rh(s),u=-1,a=h.length;++u<a;){var l=h[u],c=t[l];(c===e||Vs(c,At[l])&&!Wt.call(t,l))&&(t[l]=s[l])}return t})),Bh=$r((function(t){return t.push(e,to),xi(jh,e,t)}));function kh(t,i,n){var r=null==t?e:Cr(t,i);return r===e?n:r}function Eh(t,i){return null!=t&&go(t,i,Er)}var Th=Ve((function(t,i,n){null!=i&&"function"!=typeof i.toString&&(i=Ot.call(i)),t[i]=n}),nu(ou)),Lh=Ve((function(t,i,n){null!=i&&"function"!=typeof i.toString&&(i=Ot.call(i)),Wt.call(t,i)?t[i].push(n):t[i]=[n]}),ao),Ah=$r(Lr);function Dh(t){return Us(t)?$n(t):Pr(t)}function Rh(t){return Us(t)?$n(t,!0):Or(t)}var Wh=De((function(t,i,n){Gr(t,i,n)})),jh=De((function(t,i,n,r){Gr(t,i,n,r)})),Ph=ro((function(t,i){var n={};if(null==t)return n;var r=!1;i=Di(i,(function(i){return i=me(i,t),r||(r=i.length>1),i})),Le(t,oo(t),n),r&&(n=ar(n,7,io));for(var e=i.length;e--;)fe(n,i[e]);return n}));var Oh=ro((function(t,i){return null==t?{}:function(t,i){return Jr(t,i,(function(i,n){return Eh(t,n)}))}(t,i)}));function Nh(t,i){if(null==t)return{};var n=Di(oo(t),(function(t){return[t]}));return i=ao(i),Jr(t,n,(function(t,n){return i(t,n[0])}))}var Fh=$e(Dh),Ih=$e(Rh);function Vh(t){return null==t?[]:qi(t,Dh(t))}var Gh=Pe((function(t,i,n){return i=i.toLowerCase(),t+(n?Yh(i):i)}));function Yh(t){return qh(mh(t).toLowerCase())}function Xh(t){return(t=mh(t))&&t.replace(bt,en).replace(Qt,"")}var Jh=Pe((function(t,i,n){return t+(n?"-":"")+i.toLowerCase()})),Zh=Pe((function(t,i,n){return t+(n?" ":"")+i.toLowerCase()})),Uh=je("toLowerCase");var Kh=Pe((function(t,i,n){return t+(n?"_":"")+i.toLowerCase()}));var Hh=Pe((function(t,i,n){return t+(n?" ":"")+qh(i)}));var $h=Pe((function(t,i,n){return t+(n?" ":"")+i.toUpperCase()})),qh=je("toUpperCase");function Qh(t,i,n){return t=mh(t),(i=n?e:i)===e?function(t){return ri.test(t)}(t)?function(t){return t.match(ii)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(i)||[]}var tu=$r((function(t,i){try{return xi(t,e,i)}catch(n){return qs(n)?n:new ht(n)}})),iu=ro((function(t,i){return Bi(i,(function(i){i=No(i),sr(t,i,Ls(t[i],t))})),t}));function nu(t){return function(){return t}}var ru=Fe(),eu=Fe(!0);function ou(t){return t}function su(t){return jr("function"==typeof t?t:ar(t,1))}var hu=$r((function(t,i){return function(n){return Lr(n,t,i)}})),uu=$r((function(t,i){return function(n){return Lr(t,n,i)}}));function au(t,i,n){var r=Dh(i),e=Sr(i,r);null!=n||nh(i)&&(e.length||!r.length)||(n=i,i=t,t=this,e=Sr(i,Dh(i)));var o=!(nh(n)&&"chain"in n)||!!n.chain,s=Qs(t);return Bi(e,(function(n){var r=i[n];t[n]=r,s&&(t.prototype[n]=function(){var i=this.__chain__;if(o||i){var n=t(this.__wrapped__),e=n.__actions__=Te(this.__actions__);return e.push({func:r,args:arguments,thisArg:t}),n.__chain__=i,n}return r.apply(t,Ri([this.value()],arguments))})})),t}function lu(){}var cu=Ye(Di),fu=Ye(Ei),pu=Ye(Pi);function vu(t){return Mo(t)?Xi(No(t)):function(t){return function(i){return Cr(i,t)}}(t)}var du=Je(),yu=Je(!0);function gu(){return[]}function _u(){return!1}var wu=Ge((function(t,i){return t+i}),0),mu=Ke("ceil"),bu=Ge((function(t,i){return t/i}),1),Mu=Ke("floor");var Su=Ge((function(t,i){return t*i}),1),Cu=Ke("round"),xu=Ge((function(t,i){return t-i}),0);return In.after=function(t,i){if("function"!=typeof i)throw new Et(o);return t=yh(t),function(){if(--t<1)return i.apply(this,arguments)}},In.ary=Es,In.assign=bh,In.assignIn=Mh,In.assignInWith=Sh,In.assignWith=Ch,In.at=xh,In.before=Ts,In.bind=Ls,In.bindAll=iu,In.bindKey=As,In.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Js(t)?t:[t]},In.chain=vs,In.chunk=function(t,i,r){i=(r?bo(t,i,r):i===e)?1:wn(yh(i),0);var o=null==t?0:t.length;if(!o||i<1)return[];for(var s=0,h=0,u=n(vi(o/i));s<o;)u[h++]=ee(t,s,s+=i);return u},In.compact=function(t){for(var i=-1,n=null==t?0:t.length,r=0,e=[];++i<n;){var o=t[i];o&&(e[r++]=o)}return e},In.concat=function(){var t=arguments.length;if(!t)return[];for(var i=n(t-1),r=arguments[0],e=t;e--;)i[e-1]=arguments[e];return Ri(Js(r)?Te(r):[r],_r(i,1))},In.cond=function(t){var i=null==t?0:t.length,n=ao();return t=i?Di(t,(function(t){if("function"!=typeof t[1])throw new Et(o);return[n(t[0]),t[1]]})):[],$r((function(n){for(var r=-1;++r<i;){var e=t[r];if(xi(e[0],this,n))return xi(e[1],this,n)}}))},In.conforms=function(t){return function(t){var i=Dh(t);return function(n){return lr(n,t,i)}}(ar(t,1))},In.constant=nu,In.countBy=gs,In.create=function(t,i){var n=Vn(t);return null==i?n:or(n,i)},In.curry=function t(i,n,r){var o=qe(i,8,e,e,e,e,e,n=r?e:n);return o.placeholder=t.placeholder,o},In.curryRight=function t(i,n,r){var o=qe(i,u,e,e,e,e,e,n=r?e:n);return o.placeholder=t.placeholder,o},In.debounce=Ds,In.defaults=zh,In.defaultsDeep=Bh,In.defer=Rs,In.delay=Ws,In.difference=Vo,In.differenceBy=Go,In.differenceWith=Yo,In.drop=function(t,i,n){var r=null==t?0:t.length;return r?ee(t,(i=n||i===e?1:yh(i))<0?0:i,r):[]},In.dropRight=function(t,i,n){var r=null==t?0:t.length;return r?ee(t,0,(i=r-(i=n||i===e?1:yh(i)))<0?0:i):[]},In.dropRightWhile=function(t,i){return t&&t.length?ve(t,ao(i,3),!0,!0):[]},In.dropWhile=function(t,i){return t&&t.length?ve(t,ao(i,3),!0):[]},In.fill=function(t,i,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&bo(t,i,n)&&(n=0,r=o),function(t,i,n,r){var o=t.length;for((n=yh(n))<0&&(n=-n>o?0:o+n),(r=r===e||r>o?o:yh(r))<0&&(r+=o),r=n>r?0:gh(r);n<r;)t[n++]=i;return t}(t,i,n,r)):[]},In.filter=function(t,i){return(Js(t)?Ti:gr)(t,ao(i,3))},In.flatMap=function(t,i){return _r(xs(t,i),1)},In.flatMapDeep=function(t,i){return _r(xs(t,i),p)},In.flatMapDepth=function(t,i,n){return n=n===e?1:yh(n),_r(xs(t,i),n)},In.flatten=Zo,In.flattenDeep=function(t){return(null==t?0:t.length)?_r(t,p):[]},In.flattenDepth=function(t,i){return(null==t?0:t.length)?_r(t,i=i===e?1:yh(i)):[]},In.flip=function(t){return qe(t,512)},In.flow=ru,In.flowRight=eu,In.fromPairs=function(t){for(var i=-1,n=null==t?0:t.length,r={};++i<n;){var e=t[i];r[e[0]]=e[1]}return r},In.functions=function(t){return null==t?[]:Sr(t,Dh(t))},In.functionsIn=function(t){return null==t?[]:Sr(t,Rh(t))},In.groupBy=Ms,In.initial=function(t){return(null==t?0:t.length)?ee(t,0,-1):[]},In.intersection=Ko,In.intersectionBy=Ho,In.intersectionWith=$o,In.invert=Th,In.invertBy=Lh,In.invokeMap=Ss,In.iteratee=su,In.keyBy=Cs,In.keys=Dh,In.keysIn=Rh,In.map=xs,In.mapKeys=function(t,i){var n={};return i=ao(i,3),br(t,(function(t,r,e){sr(n,i(t,r,e),t)})),n},In.mapValues=function(t,i){var n={};return i=ao(i,3),br(t,(function(t,r,e){sr(n,r,i(t,r,e))})),n},In.matches=function(t){return Ir(ar(t,1))},In.matchesProperty=function(t,i){return Vr(t,ar(i,1))},In.memoize=js,In.merge=Wh,In.mergeWith=jh,In.method=hu,In.methodOf=uu,In.mixin=au,In.negate=Ps,In.nthArg=function(t){return t=yh(t),$r((function(i){return Yr(i,t)}))},In.omit=Ph,In.omitBy=function(t,i){return Nh(t,Ps(ao(i)))},In.once=function(t){return Ts(2,t)},In.orderBy=function(t,i,n,r){return null==t?[]:(Js(i)||(i=null==i?[]:[i]),Js(n=r?e:n)||(n=null==n?[]:[n]),Xr(t,i,n))},In.over=cu,In.overArgs=Os,In.overEvery=fu,In.overSome=pu,In.partial=Ns,In.partialRight=Fs,In.partition=zs,In.pick=Oh,In.pickBy=Nh,In.property=vu,In.propertyOf=function(t){return function(i){return null==t?e:Cr(t,i)}},In.pull=Qo,In.pullAll=ts,In.pullAllBy=function(t,i,n){return t&&t.length&&i&&i.length?Zr(t,i,ao(n,2)):t},In.pullAllWith=function(t,i,n){return t&&t.length&&i&&i.length?Zr(t,i,e,n):t},In.pullAt=is,In.range=du,In.rangeRight=yu,In.rearg=Is,In.reject=function(t,i){return(Js(t)?Ti:gr)(t,Ps(ao(i,3)))},In.remove=function(t,i){var n=[];if(!t||!t.length)return n;var r=-1,e=[],o=t.length;for(i=ao(i,3);++r<o;){var s=t[r];i(s,r,t)&&(n.push(s),e.push(r))}return Ur(t,e),n},In.rest=function(t,i){if("function"!=typeof t)throw new Et(o);return $r(t,i=i===e?i:yh(i))},In.reverse=ns,In.sampleSize=function(t,i,n){return i=(n?bo(t,i,n):i===e)?1:yh(i),(Js(t)?Qn:Qr)(t,i)},In.set=function(t,i,n){return null==t?t:te(t,i,n)},In.setWith=function(t,i,n,r){return r="function"==typeof r?r:e,null==t?t:te(t,i,n,r)},In.shuffle=function(t){return(Js(t)?tr:re)(t)},In.slice=function(t,i,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&bo(t,i,n)?(i=0,n=r):(i=null==i?0:yh(i),n=n===e?r:yh(n)),ee(t,i,n)):[]},In.sortBy=Bs,In.sortedUniq=function(t){return t&&t.length?ue(t):[]},In.sortedUniqBy=function(t,i){return t&&t.length?ue(t,ao(i,2)):[]},In.split=function(t,i,n){return n&&"number"!=typeof n&&bo(t,i,n)&&(i=n=e),(n=n===e?y:n>>>0)?(t=mh(t))&&("string"==typeof i||null!=i&&!hh(i))&&!(i=le(i))&&hn(t)?Me(vn(t),0,n):t.split(i,n):[]},In.spread=function(t,i){if("function"!=typeof t)throw new Et(o);return i=null==i?0:wn(yh(i),0),$r((function(n){var r=n[i],e=Me(n,0,i);return r&&Ri(e,r),xi(t,this,e)}))},In.tail=function(t){var i=null==t?0:t.length;return i?ee(t,1,i):[]},In.take=function(t,i,n){return t&&t.length?ee(t,0,(i=n||i===e?1:yh(i))<0?0:i):[]},In.takeRight=function(t,i,n){var r=null==t?0:t.length;return r?ee(t,(i=r-(i=n||i===e?1:yh(i)))<0?0:i,r):[]},In.takeRightWhile=function(t,i){return t&&t.length?ve(t,ao(i,3),!1,!0):[]},In.takeWhile=function(t,i){return t&&t.length?ve(t,ao(i,3)):[]},In.tap=function(t,i){return i(t),t},In.throttle=function(t,i,n){var r=!0,e=!0;if("function"!=typeof t)throw new Et(o);return nh(n)&&(r="leading"in n?!!n.leading:r,e="trailing"in n?!!n.trailing:e),Ds(t,i,{leading:r,maxWait:i,trailing:e})},In.thru=ds,In.toArray=vh,In.toPairs=Fh,In.toPairsIn=Ih,In.toPath=function(t){return Js(t)?Di(t,No):lh(t)?[t]:Te(Oo(mh(t)))},In.toPlainObject=wh,In.transform=function(t,i,n){var r=Js(t),e=r||Hs(t)||ch(t);if(i=ao(i,4),null==n){var o=t&&t.constructor;n=e?r?new o:[]:nh(t)&&Qs(o)?Vn(Jt(t)):{}}return(e?Bi:br)(t,(function(t,r,e){return i(n,t,r,e)})),n},In.unary=function(t){return Es(t,1)},In.union=rs,In.unionBy=es,In.unionWith=os,In.uniq=function(t){return t&&t.length?ce(t):[]},In.uniqBy=function(t,i){return t&&t.length?ce(t,ao(i,2)):[]},In.uniqWith=function(t,i){return i="function"==typeof i?i:e,t&&t.length?ce(t,e,i):[]},In.unset=function(t,i){return null==t||fe(t,i)},In.unzip=ss,In.unzipWith=hs,In.update=function(t,i,n){return null==t?t:pe(t,i,we(n))},In.updateWith=function(t,i,n,r){return r="function"==typeof r?r:e,null==t?t:pe(t,i,we(n),r)},In.values=Vh,In.valuesIn=function(t){return null==t?[]:qi(t,Rh(t))},In.without=us,In.words=Qh,In.wrap=function(t,i){return Ns(we(i),t)},In.xor=as,In.xorBy=ls,In.xorWith=cs,In.zip=fs,In.zipObject=function(t,i){return ge(t||[],i||[],nr)},In.zipObjectDeep=function(t,i){return ge(t||[],i||[],te)},In.zipWith=ps,In.entries=Fh,In.entriesIn=Ih,In.extend=Mh,In.extendWith=Sh,au(In,In),In.add=wu,In.attempt=tu,In.camelCase=Gh,In.capitalize=Yh,In.ceil=mu,In.clamp=function(t,i,n){return n===e&&(n=i,i=e),n!==e&&(n=(n=_h(n))===n?n:0),i!==e&&(i=(i=_h(i))===i?i:0),ur(_h(t),i,n)},In.clone=function(t){return ar(t,4)},In.cloneDeep=function(t){return ar(t,5)},In.cloneDeepWith=function(t,i){return ar(t,5,i="function"==typeof i?i:e)},In.cloneWith=function(t,i){return ar(t,4,i="function"==typeof i?i:e)},In.conformsTo=function(t,i){return null==i||lr(t,i,Dh(i))},In.deburr=Xh,In.defaultTo=function(t,i){return null==t||t!==t?i:t},In.divide=bu,In.endsWith=function(t,i,n){t=mh(t),i=le(i);var r=t.length,o=n=n===e?r:ur(yh(n),0,r);return(n-=i.length)>=0&&t.slice(n,o)==i},In.eq=Vs,In.escape=function(t){return(t=mh(t))&&$.test(t)?t.replace(K,on):t},In.escapeRegExp=function(t){return(t=mh(t))&&ot.test(t)?t.replace(et,"\\$&"):t},In.every=function(t,i,n){var r=Js(t)?Ei:dr;return n&&bo(t,i,n)&&(i=e),r(t,ao(i,3))},In.find=_s,In.findIndex=Xo,In.findKey=function(t,i){return Ni(t,ao(i,3),br)},In.findLast=ws,In.findLastIndex=Jo,In.findLastKey=function(t,i){return Ni(t,ao(i,3),Mr)},In.floor=Mu,In.forEach=ms,In.forEachRight=bs,In.forIn=function(t,i){return null==t?t:wr(t,ao(i,3),Rh)},In.forInRight=function(t,i){return null==t?t:mr(t,ao(i,3),Rh)},In.forOwn=function(t,i){return t&&br(t,ao(i,3))},In.forOwnRight=function(t,i){return t&&Mr(t,ao(i,3))},In.get=kh,In.gt=Gs,In.gte=Ys,In.has=function(t,i){return null!=t&&go(t,i,kr)},In.hasIn=Eh,In.head=Uo,In.identity=ou,In.includes=function(t,i,n,r){t=Us(t)?t:Vh(t),n=n&&!r?yh(n):0;var e=t.length;return n<0&&(n=wn(e+n,0)),ah(t)?n<=e&&t.indexOf(i,n)>-1:!!e&&Ii(t,i,n)>-1},In.indexOf=function(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var e=null==n?0:yh(n);return e<0&&(e=wn(r+e,0)),Ii(t,i,e)},In.inRange=function(t,i,n){return i=dh(i),n===e?(n=i,i=0):n=dh(n),function(t,i,n){return t>=mn(i,n)&&t<wn(i,n)}(t=_h(t),i,n)},In.invoke=Ah,In.isArguments=Xs,In.isArray=Js,In.isArrayBuffer=Zs,In.isArrayLike=Us,In.isArrayLikeObject=Ks,In.isBoolean=function(t){return!0===t||!1===t||rh(t)&&zr(t)==m},In.isBuffer=Hs,In.isDate=$s,In.isElement=function(t){return rh(t)&&1===t.nodeType&&!sh(t)},In.isEmpty=function(t){if(null==t)return!0;if(Us(t)&&(Js(t)||"string"==typeof t||"function"==typeof t.splice||Hs(t)||ch(t)||Xs(t)))return!t.length;var i=yo(t);if(i==x||i==T)return!t.size;if(xo(t))return!Pr(t).length;for(var n in t)if(Wt.call(t,n))return!1;return!0},In.isEqual=function(t,i){return Dr(t,i)},In.isEqualWith=function(t,i,n){var r=(n="function"==typeof n?n:e)?n(t,i):e;return r===e?Dr(t,i,e,n):!!r},In.isError=qs,In.isFinite=function(t){return"number"==typeof t&&Oi(t)},In.isFunction=Qs,In.isInteger=th,In.isLength=ih,In.isMap=eh,In.isMatch=function(t,i){return t===i||Rr(t,i,co(i))},In.isMatchWith=function(t,i,n){return n="function"==typeof n?n:e,Rr(t,i,co(i),n)},In.isNaN=function(t){return oh(t)&&t!=+t},In.isNative=function(t){if(Co(t))throw new ht("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Wr(t)},In.isNil=function(t){return null==t},In.isNull=function(t){return null===t},In.isNumber=oh,In.isObject=nh,In.isObjectLike=rh,In.isPlainObject=sh,In.isRegExp=hh,In.isSafeInteger=function(t){return th(t)&&t>=-9007199254740991&&t<=v},In.isSet=uh,In.isString=ah,In.isSymbol=lh,In.isTypedArray=ch,In.isUndefined=function(t){return t===e},In.isWeakMap=function(t){return rh(t)&&yo(t)==D},In.isWeakSet=function(t){return rh(t)&&"[object WeakSet]"==zr(t)},In.join=function(t,i){return null==t?"":Ji.call(t,i)},In.kebabCase=Jh,In.last=qo,In.lastIndexOf=function(t,i,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==e&&(o=(o=yh(n))<0?wn(r+o,0):mn(o,r-1)),i===i?function(t,i,n){for(var r=n+1;r--;)if(t[r]===i)return r;return r}(t,i,o):Fi(t,Gi,o,!0)},In.lowerCase=Zh,In.lowerFirst=Uh,In.lt=fh,In.lte=ph,In.max=function(t){return t&&t.length?yr(t,ou,Br):e},In.maxBy=function(t,i){return t&&t.length?yr(t,ao(i,2),Br):e},In.mean=function(t){return Yi(t,ou)},In.meanBy=function(t,i){return Yi(t,ao(i,2))},In.min=function(t){return t&&t.length?yr(t,ou,Nr):e},In.minBy=function(t,i){return t&&t.length?yr(t,ao(i,2),Nr):e},In.stubArray=gu,In.stubFalse=_u,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=Su,In.nth=function(t,i){return t&&t.length?Yr(t,yh(i)):e},In.noConflict=function(){return pi._===this&&(pi._=Ft),this},In.noop=lu,In.now=ks,In.pad=function(t,i,n){t=mh(t);var r=(i=yh(i))?pn(t):0;if(!i||r>=i)return t;var e=(i-r)/2;return Xe(di(e),n)+t+Xe(vi(e),n)},In.padEnd=function(t,i,n){t=mh(t);var r=(i=yh(i))?pn(t):0;return i&&r<i?t+Xe(i-r,n):t},In.padStart=function(t,i,n){t=mh(t);var r=(i=yh(i))?pn(t):0;return i&&r<i?Xe(i-r,n)+t:t},In.parseInt=function(t,i,n){return n||null==i?i=0:i&&(i=+i),Mn(mh(t).replace(st,""),i||0)},In.random=function(t,i,n){if(n&&"boolean"!=typeof n&&bo(t,i,n)&&(i=n=e),n===e&&("boolean"==typeof i?(n=i,i=e):"boolean"==typeof t&&(n=t,t=e)),t===e&&i===e?(t=0,i=1):(t=dh(t),i===e?(i=t,t=0):i=dh(i)),t>i){var r=t;t=i,i=r}if(n||t%1||i%1){var o=Sn();return mn(t+o*(i-t+ai("1e-"+((o+"").length-1))),i)}return Kr(t,i)},In.reduce=function(t,i,n){var r=Js(t)?Wi:Zi,e=arguments.length<3;return r(t,ao(i,4),n,e,pr)},In.reduceRight=function(t,i,n){var r=Js(t)?ji:Zi,e=arguments.length<3;return r(t,ao(i,4),n,e,vr)},In.repeat=function(t,i,n){return i=(n?bo(t,i,n):i===e)?1:yh(i),Hr(mh(t),i)},In.replace=function(){var t=arguments,i=mh(t[0]);return t.length<3?i:i.replace(t[1],t[2])},In.result=function(t,i,n){var r=-1,o=(i=me(i,t)).length;for(o||(o=1,t=e);++r<o;){var s=null==t?e:t[No(i[r])];s===e&&(r=o,s=n),t=Qs(s)?s.call(t):s}return t},In.round=Cu,In.runInContext=t,In.sample=function(t){return(Js(t)?qn:qr)(t)},In.size=function(t){if(null==t)return 0;if(Us(t))return ah(t)?pn(t):t.length;var i=yo(t);return i==x||i==T?t.size:Pr(t).length},In.snakeCase=Kh,In.some=function(t,i,n){var r=Js(t)?Pi:oe;return n&&bo(t,i,n)&&(i=e),r(t,ao(i,3))},In.sortedIndex=function(t,i){return se(t,i)},In.sortedIndexBy=function(t,i,n){return he(t,i,ao(n,2))},In.sortedIndexOf=function(t,i){var n=null==t?0:t.length;if(n){var r=se(t,i);if(r<n&&Vs(t[r],i))return r}return-1},In.sortedLastIndex=function(t,i){return se(t,i,!0)},In.sortedLastIndexBy=function(t,i,n){return he(t,i,ao(n,2),!0)},In.sortedLastIndexOf=function(t,i){if(null==t?0:t.length){var n=se(t,i,!0)-1;if(Vs(t[n],i))return n}return-1},In.startCase=Hh,In.startsWith=function(t,i,n){return t=mh(t),n=null==n?0:ur(yh(n),0,t.length),i=le(i),t.slice(n,n+i.length)==i},In.subtract=xu,In.sum=function(t){return t&&t.length?Ui(t,ou):0},In.sumBy=function(t,i){return t&&t.length?Ui(t,ao(i,2)):0},In.template=function(t,i,n){var r=In.templateSettings;n&&bo(t,i,n)&&(i=e),t=mh(t),i=Sh({},i,r,Qe);var o,s,h=Sh({},i.imports,r.imports,Qe),u=Dh(h),a=qi(h,u),l=0,c=i.interpolate||Mt,f="__p += '",p=Bt((i.escape||Mt).source+"|"+c.source+"|"+(c===tt?vt:Mt).source+"|"+(i.evaluate||Mt).source+"|$","g"),v="//# sourceURL="+(Wt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oi+"]")+"\n";t.replace(p,(function(i,n,r,e,h,u){return r||(r=e),f+=t.slice(l,u).replace(St,sn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),h&&(s=!0,f+="';\n"+h+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+i.length,i})),f+="';\n";var d=Wt.call(i,"variable")&&i.variable;if(d){if(ft.test(d))throw new ht("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(s?f.replace(X,""):f).replace(J,"$1").replace(Z,"$1;"),f="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=tu((function(){return Ct(u,v+"return "+f).apply(e,a)}));if(y.source=f,qs(y))throw y;return y},In.times=function(t,i){if((t=yh(t))<1||t>v)return[];var n=y,r=mn(t,y);i=ao(i),t-=y;for(var e=Ki(r,i);++n<t;)i(n);return e},In.toFinite=dh,In.toInteger=yh,In.toLength=gh,In.toLower=function(t){return mh(t).toLowerCase()},In.toNumber=_h,In.toSafeInteger=function(t){return t?ur(yh(t),-9007199254740991,v):0===t?t:0},In.toString=mh,In.toUpper=function(t){return mh(t).toUpperCase()},In.trim=function(t,i,n){if((t=mh(t))&&(n||i===e))return Hi(t);if(!t||!(i=le(i)))return t;var r=vn(t),o=vn(i);return Me(r,tn(r,o),nn(r,o)+1).join("")},In.trimEnd=function(t,i,n){if((t=mh(t))&&(n||i===e))return t.slice(0,dn(t)+1);if(!t||!(i=le(i)))return t;var r=vn(t);return Me(r,0,nn(r,vn(i))+1).join("")},In.trimStart=function(t,i,n){if((t=mh(t))&&(n||i===e))return t.replace(st,"");if(!t||!(i=le(i)))return t;var r=vn(t);return Me(r,tn(r,vn(i))).join("")},In.truncate=function(t,i){var n=30,r="...";if(nh(i)){var o="separator"in i?i.separator:o;n="length"in i?yh(i.length):n,r="omission"in i?le(i.omission):r}var s=(t=mh(t)).length;if(hn(t)){var h=vn(t);s=h.length}if(n>=s)return t;var u=n-pn(r);if(u<1)return r;var a=h?Me(h,0,u).join(""):t.slice(0,u);if(o===e)return a+r;if(h&&(u+=a.length-u),hh(o)){if(t.slice(u).search(o)){var l,c=a;for(o.global||(o=Bt(o.source,mh(dt.exec(o))+"g")),o.lastIndex=0;l=o.exec(c);)var f=l.index;a=a.slice(0,f===e?u:f)}}else if(t.indexOf(le(o),u)!=u){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+r},In.unescape=function(t){return(t=mh(t))&&H.test(t)?t.replace(U,yn):t},In.uniqueId=function(t){var i=++jt;return mh(t)+i},In.upperCase=$h,In.upperFirst=qh,In.each=ms,In.eachRight=bs,In.first=Uo,au(In,function(){var t={};return br(In,(function(i,n){Wt.call(In.prototype,n)||(t[n]=i)})),t}(),{chain:!1}),In.VERSION="4.17.21",Bi(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){In[t].placeholder=In})),Bi(["drop","take"],(function(t,i){Xn.prototype[t]=function(n){n=n===e?1:wn(yh(n),0);var r=this.__filtered__&&!i?new Xn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,y),type:t+(r.__dir__<0?"Right":"")}),r},Xn.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}})),Bi(["filter","map","takeWhile"],(function(t,i){var n=i+1,r=1==n||3==n;Xn.prototype[t]=function(t){var i=this.clone();return i.__iteratees__.push({iteratee:ao(t,3),type:n}),i.__filtered__=i.__filtered__||r,i}})),Bi(["head","last"],(function(t,i){var n="take"+(i?"Right":"");Xn.prototype[t]=function(){return this[n](1).value()[0]}})),Bi(["initial","tail"],(function(t,i){var n="drop"+(i?"":"Right");Xn.prototype[t]=function(){return this.__filtered__?new Xn(this):this[n](1)}})),Xn.prototype.compact=function(){return this.filter(ou)},Xn.prototype.find=function(t){return this.filter(t).head()},Xn.prototype.findLast=function(t){return this.reverse().find(t)},Xn.prototype.invokeMap=$r((function(t,i){return"function"==typeof t?new Xn(this):this.map((function(n){return Lr(n,t,i)}))})),Xn.prototype.reject=function(t){return this.filter(Ps(ao(t)))},Xn.prototype.slice=function(t,i){t=yh(t);var n=this;return n.__filtered__&&(t>0||i<0)?new Xn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),i!==e&&(n=(i=yh(i))<0?n.dropRight(-i):n.take(i-t)),n)},Xn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Xn.prototype.toArray=function(){return this.take(y)},br(Xn.prototype,(function(t,i){var n=/^(?:filter|find|map|reject)|While$/.test(i),r=/^(?:head|last)$/.test(i),o=In[r?"take"+("last"==i?"Right":""):i],s=r||/^find/.test(i);o&&(In.prototype[i]=function(){var i=this.__wrapped__,h=r?[1]:arguments,u=i instanceof Xn,a=h[0],l=u||Js(i),c=function(t){var i=o.apply(In,Ri([t],h));return r&&f?i[0]:i};l&&n&&"function"==typeof a&&1!=a.length&&(u=l=!1);var f=this.__chain__,p=!!this.__actions__.length,v=s&&!f,d=u&&!p;if(!s&&l){i=d?i:new Xn(this);var y=t.apply(i,h);return y.__actions__.push({func:ds,args:[c],thisArg:e}),new Yn(y,f)}return v&&d?t.apply(this,h):(y=this.thru(c),v?r?y.value()[0]:y.value():y)})})),Bi(["pop","push","shift","sort","splice","unshift"],(function(t){var i=Tt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);In.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var e=this.value();return i.apply(Js(e)?e:[],t)}return this[n]((function(n){return i.apply(Js(n)?n:[],t)}))}})),br(Xn.prototype,(function(t,i){var n=In[i];if(n){var r=n.name+"";Wt.call(An,r)||(An[r]=[]),An[r].push({name:i,func:n})}})),An[Ie(e,2).name]=[{name:"wrapper",func:e}],Xn.prototype.clone=function(){var t=new Xn(this.__wrapped__);return t.__actions__=Te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Te(this.__views__),t},Xn.prototype.reverse=function(){if(this.__filtered__){var t=new Xn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Xn.prototype.value=function(){var t=this.__wrapped__.value(),i=this.__dir__,n=Js(t),r=i<0,e=n?t.length:0,o=function(t,i,n){var r=-1,e=n.length;for(;++r<e;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":i-=s;break;case"take":i=mn(i,t+s);break;case"takeRight":t=wn(t,i-s)}}return{start:t,end:i}}(0,e,this.__views__),s=o.start,h=o.end,u=h-s,a=r?h:s-1,l=this.__iteratees__,c=l.length,f=0,p=mn(u,this.__takeCount__);if(!n||!r&&e==u&&p==u)return de(t,this.__actions__);var v=[];t:for(;u--&&f<p;){for(var d=-1,y=t[a+=i];++d<c;){var g=l[d],_=g.iteratee,w=g.type,m=_(y);if(2==w)y=m;else if(!m){if(1==w)continue t;break t}}v[f++]=y}return v},In.prototype.at=ys,In.prototype.chain=function(){return vs(this)},In.prototype.commit=function(){return new Yn(this.value(),this.__chain__)},In.prototype.next=function(){this.__values__===e&&(this.__values__=vh(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?e:this.__values__[this.__index__++]}},In.prototype.plant=function(t){for(var i,n=this;n instanceof Gn;){var r=Io(n);r.__index__=0,r.__values__=e,i?o.__wrapped__=r:i=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,i},In.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Xn){var i=t;return this.__actions__.length&&(i=new Xn(this)),(i=i.reverse()).__actions__.push({func:ds,args:[ns],thisArg:e}),new Yn(i,this.__chain__)}return this.thru(ns)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return de(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,$t&&(In.prototype[$t]=function(){return this}),In}();pi._=gn,(r=function(){return gn}.call(i,n,i,t))===e||(t.exports=r)}.call(this)},5782:function(t,i,n){"use strict";n.d(i,{I:function(){return f},r:function(){return c}});var r=n(2791),e={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},o=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],s=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],h=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],u="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},a="fullscreenEnabled"in u&&Object.keys(e)||o[0]in u&&o||s[0]in u&&s||h[0]in u&&h||[],l={requestFullscreen:function(t){return t[a[e.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[a[e.requestFullscreen]]},get exitFullscreen(){return u[a[e.exitFullscreen]].bind(u)},get fullscreenPseudoClass(){return":"+a[e.fullscreen]},addEventListener:function(t,i,n){return u.addEventListener(a[e[t]],i,n)},removeEventListener:function(t,i,n){return u.removeEventListener(a[e[t]],i,n)},get fullscreenEnabled(){return Boolean(u[a[e.fullscreenEnabled]])},set fullscreenEnabled(t){},get fullscreenElement(){return u[a[e.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return u[("on"+a[e.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return u[("on"+a[e.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return u[("on"+a[e.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return u[("on"+a[e.fullscreenerror]).toLowerCase()]=t}};function c(){var t=(0,r.useState)(!1),i=t[0],n=t[1],e=(0,r.useRef)(null);(0,r.useEffect)((function(){var t=function(){n(l.fullscreenElement===e.current)};return l.addEventListener("fullscreenchange",t),function(){return l.removeEventListener("fullscreenchange",t)}}),[]);var o=(0,r.useCallback)((function(){return l.fullscreenElement?l.exitFullscreen().then((function(){return l.requestFullscreen(e.current)})):e.current?l.requestFullscreen(e.current):void 0}),[]),s=(0,r.useCallback)((function(){return l.fullscreenElement===e.current?l.exitFullscreen():Promise.resolve()}),[]);return(0,r.useMemo)((function(){return{active:i,enter:o,exit:s,node:e}}),[i,o,s])}var f=function(t){var i=t.handle,n=t.onChange,e=t.children,o=t.className,s=[];return o&&s.push(o),s.push("fullscreen"),i.active&&s.push("fullscreen-enabled"),(0,r.useEffect)((function(){n&&n(i.active,i)}),[i.active]),r.createElement("div",{className:s.join(" "),ref:i.node,style:i.active?{height:"100%",width:"100%"}:void 0},e)}}}]);
//# sourceMappingURL=265.eab43e39.chunk.js.map